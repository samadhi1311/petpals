var AR=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var UG=AR((nn,rn)=>{function PR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Qh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var QT={exports:{}},Xh={},XT={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ql=Symbol.for("react.element"),CR=Symbol.for("react.portal"),bR=Symbol.for("react.fragment"),RR=Symbol.for("react.strict_mode"),kR=Symbol.for("react.profiler"),NR=Symbol.for("react.provider"),DR=Symbol.for("react.context"),OR=Symbol.for("react.forward_ref"),jR=Symbol.for("react.suspense"),MR=Symbol.for("react.memo"),VR=Symbol.for("react.lazy"),o_=Symbol.iterator;function LR(t){return t===null||typeof t!="object"?null:(t=o_&&t[o_]||t["@@iterator"],typeof t=="function"?t:null)}var YT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},JT=Object.assign,ZT={};function Go(t,e,n){this.props=t,this.context=e,this.refs=ZT,this.updater=n||YT}Go.prototype.isReactComponent={};Go.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Go.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function eS(){}eS.prototype=Go.prototype;function Xg(t,e,n){this.props=t,this.context=e,this.refs=ZT,this.updater=n||YT}var Yg=Xg.prototype=new eS;Yg.constructor=Xg;JT(Yg,Go.prototype);Yg.isPureReactComponent=!0;var a_=Array.isArray,tS=Object.prototype.hasOwnProperty,Jg={current:null},nS={key:!0,ref:!0,__self:!0,__source:!0};function rS(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)tS.call(e,r)&&!nS.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ql,type:t,key:s,ref:o,props:i,_owner:Jg.current}}function FR(t,e){return{$$typeof:ql,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Zg(t){return typeof t=="object"&&t!==null&&t.$$typeof===ql}function $R(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var l_=/\/+/g;function Af(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$R(""+t.key):e.toString(36)}function yc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ql:case CR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Af(o,0):r,a_(i)?(n="",t!=null&&(n=t.replace(l_,"$&/")+"/"),yc(i,e,n,"",function(u){return u})):i!=null&&(Zg(i)&&(i=FR(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(l_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",a_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Af(s,a);o+=yc(s,e,n,l,i)}else if(l=LR(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Af(s,a++),o+=yc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ku(t,e,n){if(t==null)return t;var r=[],i=0;return yc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function UR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vt={current:null},vc={transition:null},BR={ReactCurrentDispatcher:Vt,ReactCurrentBatchConfig:vc,ReactCurrentOwner:Jg};re.Children={map:ku,forEach:function(t,e,n){ku(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ku(t,function(){e++}),e},toArray:function(t){return ku(t,function(e){return e})||[]},only:function(t){if(!Zg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Component=Go;re.Fragment=bR;re.Profiler=kR;re.PureComponent=Xg;re.StrictMode=RR;re.Suspense=jR;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BR;re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=JT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Jg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)tS.call(e,l)&&!nS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ql,type:t.type,key:i,ref:s,props:r,_owner:o}};re.createContext=function(t){return t={$$typeof:DR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:NR,_context:t},t.Consumer=t};re.createElement=rS;re.createFactory=function(t){var e=rS.bind(null,t);return e.type=t,e};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:OR,render:t}};re.isValidElement=Zg;re.lazy=function(t){return{$$typeof:VR,_payload:{_status:-1,_result:t},_init:UR}};re.memo=function(t,e){return{$$typeof:MR,type:t,compare:e===void 0?null:e}};re.startTransition=function(t){var e=vc.transition;vc.transition={};try{t()}finally{vc.transition=e}};re.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};re.useCallback=function(t,e){return Vt.current.useCallback(t,e)};re.useContext=function(t){return Vt.current.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t){return Vt.current.useDeferredValue(t)};re.useEffect=function(t,e){return Vt.current.useEffect(t,e)};re.useId=function(){return Vt.current.useId()};re.useImperativeHandle=function(t,e,n){return Vt.current.useImperativeHandle(t,e,n)};re.useInsertionEffect=function(t,e){return Vt.current.useInsertionEffect(t,e)};re.useLayoutEffect=function(t,e){return Vt.current.useLayoutEffect(t,e)};re.useMemo=function(t,e){return Vt.current.useMemo(t,e)};re.useReducer=function(t,e,n){return Vt.current.useReducer(t,e,n)};re.useRef=function(t){return Vt.current.useRef(t)};re.useState=function(t){return Vt.current.useState(t)};re.useSyncExternalStore=function(t,e,n){return Vt.current.useSyncExternalStore(t,e,n)};re.useTransition=function(){return Vt.current.useTransition()};re.version="18.2.0";XT.exports=re;var E=XT.exports;const zn=Qh(E),zR=PR({__proto__:null,default:zn},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WR=E,HR=Symbol.for("react.element"),qR=Symbol.for("react.fragment"),GR=Object.prototype.hasOwnProperty,KR=WR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QR={key:!0,ref:!0,__self:!0,__source:!0};function iS(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)GR.call(e,r)&&!QR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:HR,type:t,key:s,ref:o,props:i,_owner:KR.current}}Xh.Fragment=qR;Xh.jsx=iS;Xh.jsxs=iS;QT.exports=Xh;var d=QT.exports,zp={},sS={exports:{}},un={},oS={exports:{}},aS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,q){var Q=j.length;j.push(q);e:for(;0<Q;){var z=Q-1>>>1,ae=j[z];if(0<i(ae,q))j[z]=q,j[Q]=ae,Q=z;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var q=j[0],Q=j.pop();if(Q!==q){j[0]=Q;e:for(var z=0,ae=j.length,Ft=ae>>>1;z<Ft;){var lt=2*(z+1)-1,vt=j[lt],ze=lt+1,kt=j[ze];if(0>i(vt,Q))ze<ae&&0>i(kt,vt)?(j[z]=kt,j[ze]=Q,z=ze):(j[z]=vt,j[lt]=Q,z=lt);else if(ze<ae&&0>i(kt,Q))j[z]=kt,j[ze]=Q,z=ze;else break e}}return q}function i(j,q){var Q=j.sortIndex-q.sortIndex;return Q!==0?Q:j.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,p=!1,g=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(j){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=j)r(u),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(u)}}function T(j){if(_=!1,y(j),!g)if(n(l)!==null)g=!0,we(x);else{var q=n(u);q!==null&&Rt(T,q.startTime-j)}}function x(j,q){g=!1,_&&(_=!1,v(A),A=-1),p=!0;var Q=f;try{for(y(q),h=n(l);h!==null&&(!(h.expirationTime>q)||j&&!$());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var ae=z(h.expirationTime<=q);q=t.unstable_now(),typeof ae=="function"?h.callback=ae:h===n(l)&&r(l),y(q)}else r(l);h=n(l)}if(h!==null)var Ft=!0;else{var lt=n(u);lt!==null&&Rt(T,lt.startTime-q),Ft=!1}return Ft}finally{h=null,f=Q,p=!1}}var S=!1,I=null,A=-1,C=5,k=-1;function $(){return!(t.unstable_now()-k<C)}function se(){if(I!==null){var j=t.unstable_now();k=j;var q=!0;try{q=I(!0,j)}finally{q?Y():(S=!1,I=null)}}else S=!1}var Y;if(typeof m=="function")Y=function(){m(se)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,F=K.port2;K.port1.onmessage=se,Y=function(){F.postMessage(null)}}else Y=function(){w(se,0)};function we(j){I=j,S||(S=!0,Y())}function Rt(j,q){A=w(function(){j(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,we(x))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var Q=f;f=q;try{return j()}finally{f=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,q){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var Q=f;f=j;try{return q()}finally{f=Q}},t.unstable_scheduleCallback=function(j,q,Q){var z=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?z+Q:z):Q=z,j){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=Q+ae,j={id:c++,callback:q,priorityLevel:j,startTime:Q,expirationTime:ae,sortIndex:-1},Q>z?(j.sortIndex=Q,e(u,j),n(l)===null&&j===n(u)&&(_?(v(A),A=-1):_=!0,Rt(T,Q-z))):(j.sortIndex=ae,e(l,j),g||p||(g=!0,we(x))),j},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(j){var q=f;return function(){var Q=f;f=q;try{return j.apply(this,arguments)}finally{f=Q}}}})(aS);oS.exports=aS;var XR=oS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lS=E,on=XR;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var uS=new Set,rl={};function Cs(t,e){Io(t,e),Io(t+"Capture",e)}function Io(t,e){for(rl[t]=e,t=0;t<e.length;t++)uS.add(e[t])}var Sr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wp=Object.prototype.hasOwnProperty,YR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u_={},c_={};function JR(t){return Wp.call(c_,t)?!0:Wp.call(u_,t)?!1:YR.test(t)?c_[t]=!0:(u_[t]=!0,!1)}function ZR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ek(t,e,n,r){if(e===null||typeof e>"u"||ZR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){yt[t]=new Lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];yt[e]=new Lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){yt[t]=new Lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){yt[t]=new Lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){yt[t]=new Lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){yt[t]=new Lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){yt[t]=new Lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){yt[t]=new Lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){yt[t]=new Lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var ey=/[\-:]([a-z])/g;function ty(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ey,ty);yt[e]=new Lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ey,ty);yt[e]=new Lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ey,ty);yt[e]=new Lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){yt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!1,!1)});yt.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){yt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ny(t,e,n,r){var i=yt.hasOwnProperty(e)?yt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ek(e,n,i,r)&&(n=null),r||i===null?JR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var kr=lS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nu=Symbol.for("react.element"),Qs=Symbol.for("react.portal"),Xs=Symbol.for("react.fragment"),ry=Symbol.for("react.strict_mode"),Hp=Symbol.for("react.profiler"),cS=Symbol.for("react.provider"),hS=Symbol.for("react.context"),iy=Symbol.for("react.forward_ref"),qp=Symbol.for("react.suspense"),Gp=Symbol.for("react.suspense_list"),sy=Symbol.for("react.memo"),Ur=Symbol.for("react.lazy"),dS=Symbol.for("react.offscreen"),h_=Symbol.iterator;function oa(t){return t===null||typeof t!="object"?null:(t=h_&&t[h_]||t["@@iterator"],typeof t=="function"?t:null)}var Oe=Object.assign,Pf;function Ta(t){if(Pf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pf=e&&e[1]||""}return`
`+Pf+t}var Cf=!1;function bf(t,e){if(!t||Cf)return"";Cf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Cf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ta(t):""}function tk(t){switch(t.tag){case 5:return Ta(t.type);case 16:return Ta("Lazy");case 13:return Ta("Suspense");case 19:return Ta("SuspenseList");case 0:case 2:case 15:return t=bf(t.type,!1),t;case 11:return t=bf(t.type.render,!1),t;case 1:return t=bf(t.type,!0),t;default:return""}}function Kp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xs:return"Fragment";case Qs:return"Portal";case Hp:return"Profiler";case ry:return"StrictMode";case qp:return"Suspense";case Gp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hS:return(t.displayName||"Context")+".Consumer";case cS:return(t._context.displayName||"Context")+".Provider";case iy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case sy:return e=t.displayName||null,e!==null?e:Kp(t.type)||"Memo";case Ur:e=t._payload,t=t._init;try{return Kp(t(e))}catch{}}return null}function nk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kp(e);case 8:return e===ry?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rk(t){var e=fS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Du(t){t._valueTracker||(t._valueTracker=rk(t))}function pS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=fS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $c(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qp(t,e){var n=e.checked;return Oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function d_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=yi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mS(t,e){e=e.checked,e!=null&&ny(t,"checked",e,!1)}function Xp(t,e){mS(t,e);var n=yi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Yp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Yp(t,e.type,yi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function f_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Yp(t,e,n){(e!=="number"||$c(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Sa=Array.isArray;function po(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Jp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return Oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function p_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(Sa(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:yi(n)}}function gS(t,e){var n=yi(e.value),r=yi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function m_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function yS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?yS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ou,vS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ou=Ou||document.createElement("div"),Ou.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ou.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function il(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Oa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ik=["Webkit","ms","Moz","O"];Object.keys(Oa).forEach(function(t){ik.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Oa[e]=Oa[t]})});function _S(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Oa.hasOwnProperty(t)&&Oa[t]?(""+e).trim():e+"px"}function wS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=_S(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var sk=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function em(t,e){if(e){if(sk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function tm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nm=null;function oy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rm=null,mo=null,go=null;function g_(t){if(t=Ql(t)){if(typeof rm!="function")throw Error(N(280));var e=t.stateNode;e&&(e=td(e),rm(t.stateNode,t.type,e))}}function ES(t){mo?go?go.push(t):go=[t]:mo=t}function TS(){if(mo){var t=mo,e=go;if(go=mo=null,g_(t),e)for(t=0;t<e.length;t++)g_(e[t])}}function SS(t,e){return t(e)}function xS(){}var Rf=!1;function IS(t,e,n){if(Rf)return t(e,n);Rf=!0;try{return SS(t,e,n)}finally{Rf=!1,(mo!==null||go!==null)&&(xS(),TS())}}function sl(t,e){var n=t.stateNode;if(n===null)return null;var r=td(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var im=!1;if(Sr)try{var aa={};Object.defineProperty(aa,"passive",{get:function(){im=!0}}),window.addEventListener("test",aa,aa),window.removeEventListener("test",aa,aa)}catch{im=!1}function ok(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ja=!1,Uc=null,Bc=!1,sm=null,ak={onError:function(t){ja=!0,Uc=t}};function lk(t,e,n,r,i,s,o,a,l){ja=!1,Uc=null,ok.apply(ak,arguments)}function uk(t,e,n,r,i,s,o,a,l){if(lk.apply(this,arguments),ja){if(ja){var u=Uc;ja=!1,Uc=null}else throw Error(N(198));Bc||(Bc=!0,sm=u)}}function bs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function AS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function y_(t){if(bs(t)!==t)throw Error(N(188))}function ck(t){var e=t.alternate;if(!e){if(e=bs(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return y_(i),t;if(s===r)return y_(i),e;s=s.sibling}throw Error(N(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function PS(t){return t=ck(t),t!==null?CS(t):null}function CS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=CS(t);if(e!==null)return e;t=t.sibling}return null}var bS=on.unstable_scheduleCallback,v_=on.unstable_cancelCallback,hk=on.unstable_shouldYield,dk=on.unstable_requestPaint,Be=on.unstable_now,fk=on.unstable_getCurrentPriorityLevel,ay=on.unstable_ImmediatePriority,RS=on.unstable_UserBlockingPriority,zc=on.unstable_NormalPriority,pk=on.unstable_LowPriority,kS=on.unstable_IdlePriority,Yh=null,Wn=null;function mk(t){if(Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(Yh,t,void 0,(t.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:vk,gk=Math.log,yk=Math.LN2;function vk(t){return t>>>=0,t===0?32:31-(gk(t)/yk|0)|0}var ju=64,Mu=4194304;function xa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=xa(a):(s&=o,s!==0&&(r=xa(s)))}else o=n&~i,o!==0?r=xa(o):s!==0&&(r=xa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pn(e),i=1<<n,r|=t[n],e&=~i;return r}function _k(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Pn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=_k(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function om(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function NS(){var t=ju;return ju<<=1,!(ju&4194240)&&(ju=64),t}function kf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Gl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pn(e),t[e]=n}function Ek(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Pn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ly(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var de=0;function DS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var OS,uy,jS,MS,VS,am=!1,Vu=[],ni=null,ri=null,ii=null,ol=new Map,al=new Map,Hr=[],Tk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function __(t,e){switch(t){case"focusin":case"focusout":ni=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":ol.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(e.pointerId)}}function la(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ql(e),e!==null&&uy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Sk(t,e,n,r,i){switch(e){case"focusin":return ni=la(ni,t,e,n,r,i),!0;case"dragenter":return ri=la(ri,t,e,n,r,i),!0;case"mouseover":return ii=la(ii,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ol.set(s,la(ol.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,al.set(s,la(al.get(s)||null,t,e,n,r,i)),!0}return!1}function LS(t){var e=Ji(t.target);if(e!==null){var n=bs(e);if(n!==null){if(e=n.tag,e===13){if(e=AS(n),e!==null){t.blockedOn=e,VS(t.priority,function(){jS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _c(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);nm=r,n.target.dispatchEvent(r),nm=null}else return e=Ql(n),e!==null&&uy(e),t.blockedOn=n,!1;e.shift()}return!0}function w_(t,e,n){_c(t)&&n.delete(e)}function xk(){am=!1,ni!==null&&_c(ni)&&(ni=null),ri!==null&&_c(ri)&&(ri=null),ii!==null&&_c(ii)&&(ii=null),ol.forEach(w_),al.forEach(w_)}function ua(t,e){t.blockedOn===e&&(t.blockedOn=null,am||(am=!0,on.unstable_scheduleCallback(on.unstable_NormalPriority,xk)))}function ll(t){function e(i){return ua(i,t)}if(0<Vu.length){ua(Vu[0],t);for(var n=1;n<Vu.length;n++){var r=Vu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ni!==null&&ua(ni,t),ri!==null&&ua(ri,t),ii!==null&&ua(ii,t),ol.forEach(e),al.forEach(e),n=0;n<Hr.length;n++)r=Hr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hr.length&&(n=Hr[0],n.blockedOn===null);)LS(n),n.blockedOn===null&&Hr.shift()}var yo=kr.ReactCurrentBatchConfig,Hc=!0;function Ik(t,e,n,r){var i=de,s=yo.transition;yo.transition=null;try{de=1,cy(t,e,n,r)}finally{de=i,yo.transition=s}}function Ak(t,e,n,r){var i=de,s=yo.transition;yo.transition=null;try{de=4,cy(t,e,n,r)}finally{de=i,yo.transition=s}}function cy(t,e,n,r){if(Hc){var i=lm(t,e,n,r);if(i===null)Uf(t,e,r,qc,n),__(t,r);else if(Sk(i,t,e,n,r))r.stopPropagation();else if(__(t,r),e&4&&-1<Tk.indexOf(t)){for(;i!==null;){var s=Ql(i);if(s!==null&&OS(s),s=lm(t,e,n,r),s===null&&Uf(t,e,r,qc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Uf(t,e,r,null,n)}}var qc=null;function lm(t,e,n,r){if(qc=null,t=oy(r),t=Ji(t),t!==null)if(e=bs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=AS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qc=t,null}function FS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fk()){case ay:return 1;case RS:return 4;case zc:case pk:return 16;case kS:return 536870912;default:return 16}default:return 16}}var Yr=null,hy=null,wc=null;function $S(){if(wc)return wc;var t,e=hy,n=e.length,r,i="value"in Yr?Yr.value:Yr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return wc=i.slice(t,1<r?1-r:void 0)}function Ec(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Lu(){return!0}function E_(){return!1}function cn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Lu:E_,this.isPropagationStopped=E_,this}return Oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lu)},persist:function(){},isPersistent:Lu}),e}var Ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dy=cn(Ko),Kl=Oe({},Ko,{view:0,detail:0}),Pk=cn(Kl),Nf,Df,ca,Jh=Oe({},Kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ca&&(ca&&t.type==="mousemove"?(Nf=t.screenX-ca.screenX,Df=t.screenY-ca.screenY):Df=Nf=0,ca=t),Nf)},movementY:function(t){return"movementY"in t?t.movementY:Df}}),T_=cn(Jh),Ck=Oe({},Jh,{dataTransfer:0}),bk=cn(Ck),Rk=Oe({},Kl,{relatedTarget:0}),Of=cn(Rk),kk=Oe({},Ko,{animationName:0,elapsedTime:0,pseudoElement:0}),Nk=cn(kk),Dk=Oe({},Ko,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ok=cn(Dk),jk=Oe({},Ko,{data:0}),S_=cn(jk),Mk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Lk[t])?!!e[t]:!1}function fy(){return Fk}var $k=Oe({},Kl,{key:function(t){if(t.key){var e=Mk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ec(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fy,charCode:function(t){return t.type==="keypress"?Ec(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ec(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Uk=cn($k),Bk=Oe({},Jh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x_=cn(Bk),zk=Oe({},Kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fy}),Wk=cn(zk),Hk=Oe({},Ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),qk=cn(Hk),Gk=Oe({},Jh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Kk=cn(Gk),Qk=[9,13,27,32],py=Sr&&"CompositionEvent"in window,Ma=null;Sr&&"documentMode"in document&&(Ma=document.documentMode);var Xk=Sr&&"TextEvent"in window&&!Ma,US=Sr&&(!py||Ma&&8<Ma&&11>=Ma),I_=" ",A_=!1;function BS(t,e){switch(t){case"keyup":return Qk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ys=!1;function Yk(t,e){switch(t){case"compositionend":return zS(e);case"keypress":return e.which!==32?null:(A_=!0,I_);case"textInput":return t=e.data,t===I_&&A_?null:t;default:return null}}function Jk(t,e){if(Ys)return t==="compositionend"||!py&&BS(t,e)?(t=$S(),wc=hy=Yr=null,Ys=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return US&&e.locale!=="ko"?null:e.data;default:return null}}var Zk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Zk[t.type]:e==="textarea"}function WS(t,e,n,r){ES(r),e=Gc(e,"onChange"),0<e.length&&(n=new dy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Va=null,ul=null;function eN(t){tx(t,0)}function Zh(t){var e=eo(t);if(pS(e))return t}function tN(t,e){if(t==="change")return e}var HS=!1;if(Sr){var jf;if(Sr){var Mf="oninput"in document;if(!Mf){var C_=document.createElement("div");C_.setAttribute("oninput","return;"),Mf=typeof C_.oninput=="function"}jf=Mf}else jf=!1;HS=jf&&(!document.documentMode||9<document.documentMode)}function b_(){Va&&(Va.detachEvent("onpropertychange",qS),ul=Va=null)}function qS(t){if(t.propertyName==="value"&&Zh(ul)){var e=[];WS(e,ul,t,oy(t)),IS(eN,e)}}function nN(t,e,n){t==="focusin"?(b_(),Va=e,ul=n,Va.attachEvent("onpropertychange",qS)):t==="focusout"&&b_()}function rN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zh(ul)}function iN(t,e){if(t==="click")return Zh(e)}function sN(t,e){if(t==="input"||t==="change")return Zh(e)}function oN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bn=typeof Object.is=="function"?Object.is:oN;function cl(t,e){if(bn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Wp.call(e,i)||!bn(t[i],e[i]))return!1}return!0}function R_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function k_(t,e){var n=R_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=R_(n)}}function GS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?GS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function KS(){for(var t=window,e=$c();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$c(t.document)}return e}function my(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function aN(t){var e=KS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&GS(n.ownerDocument.documentElement,n)){if(r!==null&&my(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=k_(n,s);var o=k_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var lN=Sr&&"documentMode"in document&&11>=document.documentMode,Js=null,um=null,La=null,cm=!1;function N_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cm||Js==null||Js!==$c(r)||(r=Js,"selectionStart"in r&&my(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),La&&cl(La,r)||(La=r,r=Gc(um,"onSelect"),0<r.length&&(e=new dy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Js)))}function Fu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zs={animationend:Fu("Animation","AnimationEnd"),animationiteration:Fu("Animation","AnimationIteration"),animationstart:Fu("Animation","AnimationStart"),transitionend:Fu("Transition","TransitionEnd")},Vf={},QS={};Sr&&(QS=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function ed(t){if(Vf[t])return Vf[t];if(!Zs[t])return t;var e=Zs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in QS)return Vf[t]=e[n];return t}var XS=ed("animationend"),YS=ed("animationiteration"),JS=ed("animationstart"),ZS=ed("transitionend"),ex=new Map,D_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(t,e){ex.set(t,e),Cs(e,[t])}for(var Lf=0;Lf<D_.length;Lf++){var Ff=D_[Lf],uN=Ff.toLowerCase(),cN=Ff[0].toUpperCase()+Ff.slice(1);Pi(uN,"on"+cN)}Pi(XS,"onAnimationEnd");Pi(YS,"onAnimationIteration");Pi(JS,"onAnimationStart");Pi("dblclick","onDoubleClick");Pi("focusin","onFocus");Pi("focusout","onBlur");Pi(ZS,"onTransitionEnd");Io("onMouseEnter",["mouseout","mouseover"]);Io("onMouseLeave",["mouseout","mouseover"]);Io("onPointerEnter",["pointerout","pointerover"]);Io("onPointerLeave",["pointerout","pointerover"]);Cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ia));function O_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,uk(r,e,void 0,t),t.currentTarget=null}function tx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;O_(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;O_(i,a,u),s=l}}}if(Bc)throw t=sm,Bc=!1,sm=null,t}function Ee(t,e){var n=e[mm];n===void 0&&(n=e[mm]=new Set);var r=t+"__bubble";n.has(r)||(nx(e,t,2,!1),n.add(r))}function $f(t,e,n){var r=0;e&&(r|=4),nx(n,t,r,e)}var $u="_reactListening"+Math.random().toString(36).slice(2);function hl(t){if(!t[$u]){t[$u]=!0,uS.forEach(function(n){n!=="selectionchange"&&(hN.has(n)||$f(n,!1,t),$f(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$u]||(e[$u]=!0,$f("selectionchange",!1,e))}}function nx(t,e,n,r){switch(FS(e)){case 1:var i=Ik;break;case 4:i=Ak;break;default:i=cy}n=i.bind(null,e,n,t),i=void 0,!im||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Uf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ji(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}IS(function(){var u=s,c=oy(n),h=[];e:{var f=ex.get(t);if(f!==void 0){var p=dy,g=t;switch(t){case"keypress":if(Ec(n)===0)break e;case"keydown":case"keyup":p=Uk;break;case"focusin":g="focus",p=Of;break;case"focusout":g="blur",p=Of;break;case"beforeblur":case"afterblur":p=Of;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=T_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=bk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Wk;break;case XS:case YS:case JS:p=Nk;break;case ZS:p=qk;break;case"scroll":p=Pk;break;case"wheel":p=Kk;break;case"copy":case"cut":case"paste":p=Ok;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=x_}var _=(e&4)!==0,w=!_&&t==="scroll",v=_?f!==null?f+"Capture":null:f;_=[];for(var m=u,y;m!==null;){y=m;var T=y.stateNode;if(y.tag===5&&T!==null&&(y=T,v!==null&&(T=sl(m,v),T!=null&&_.push(dl(m,T,y)))),w)break;m=m.return}0<_.length&&(f=new p(f,g,null,n,c),h.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==nm&&(g=n.relatedTarget||n.fromElement)&&(Ji(g)||g[xr]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?Ji(g):null,g!==null&&(w=bs(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(_=T_,T="onMouseLeave",v="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(_=x_,T="onPointerLeave",v="onPointerEnter",m="pointer"),w=p==null?f:eo(p),y=g==null?f:eo(g),f=new _(T,m+"leave",p,n,c),f.target=w,f.relatedTarget=y,T=null,Ji(c)===u&&(_=new _(v,m+"enter",g,n,c),_.target=y,_.relatedTarget=w,T=_),w=T,p&&g)t:{for(_=p,v=g,m=0,y=_;y;y=zs(y))m++;for(y=0,T=v;T;T=zs(T))y++;for(;0<m-y;)_=zs(_),m--;for(;0<y-m;)v=zs(v),y--;for(;m--;){if(_===v||v!==null&&_===v.alternate)break t;_=zs(_),v=zs(v)}_=null}else _=null;p!==null&&j_(h,f,p,_,!1),g!==null&&w!==null&&j_(h,w,g,_,!0)}}e:{if(f=u?eo(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var x=tN;else if(P_(f))if(HS)x=sN;else{x=rN;var S=nN}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=iN);if(x&&(x=x(t,u))){WS(h,x,n,c);break e}S&&S(t,f,u),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Yp(f,"number",f.value)}switch(S=u?eo(u):window,t){case"focusin":(P_(S)||S.contentEditable==="true")&&(Js=S,um=u,La=null);break;case"focusout":La=um=Js=null;break;case"mousedown":cm=!0;break;case"contextmenu":case"mouseup":case"dragend":cm=!1,N_(h,n,c);break;case"selectionchange":if(lN)break;case"keydown":case"keyup":N_(h,n,c)}var I;if(py)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Ys?BS(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(US&&n.locale!=="ko"&&(Ys||A!=="onCompositionStart"?A==="onCompositionEnd"&&Ys&&(I=$S()):(Yr=c,hy="value"in Yr?Yr.value:Yr.textContent,Ys=!0)),S=Gc(u,A),0<S.length&&(A=new S_(A,t,null,n,c),h.push({event:A,listeners:S}),I?A.data=I:(I=zS(n),I!==null&&(A.data=I)))),(I=Xk?Yk(t,n):Jk(t,n))&&(u=Gc(u,"onBeforeInput"),0<u.length&&(c=new S_("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=I))}tx(h,e)})}function dl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=sl(t,n),s!=null&&r.unshift(dl(t,s,i)),s=sl(t,e),s!=null&&r.push(dl(t,s,i))),t=t.return}return r}function zs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function j_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=sl(n,s),l!=null&&o.unshift(dl(n,l,a))):i||(l=sl(n,s),l!=null&&o.push(dl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var dN=/\r\n?/g,fN=/\u0000|\uFFFD/g;function M_(t){return(typeof t=="string"?t:""+t).replace(dN,`
`).replace(fN,"")}function Uu(t,e,n){if(e=M_(e),M_(t)!==e&&n)throw Error(N(425))}function Kc(){}var hm=null,dm=null;function fm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pm=typeof setTimeout=="function"?setTimeout:void 0,pN=typeof clearTimeout=="function"?clearTimeout:void 0,V_=typeof Promise=="function"?Promise:void 0,mN=typeof queueMicrotask=="function"?queueMicrotask:typeof V_<"u"?function(t){return V_.resolve(null).then(t).catch(gN)}:pm;function gN(t){setTimeout(function(){throw t})}function Bf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ll(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ll(e)}function si(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function L_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Qo=Math.random().toString(36).slice(2),Ln="__reactFiber$"+Qo,fl="__reactProps$"+Qo,xr="__reactContainer$"+Qo,mm="__reactEvents$"+Qo,yN="__reactListeners$"+Qo,vN="__reactHandles$"+Qo;function Ji(t){var e=t[Ln];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xr]||n[Ln]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=L_(t);t!==null;){if(n=t[Ln])return n;t=L_(t)}return e}t=n,n=t.parentNode}return null}function Ql(t){return t=t[Ln]||t[xr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function eo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function td(t){return t[fl]||null}var gm=[],to=-1;function Ci(t){return{current:t}}function Ie(t){0>to||(t.current=gm[to],gm[to]=null,to--)}function ye(t,e){to++,gm[to]=t.current,t.current=e}var vi={},Ct=Ci(vi),qt=Ci(!1),fs=vi;function Ao(t,e){var n=t.type.contextTypes;if(!n)return vi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Gt(t){return t=t.childContextTypes,t!=null}function Qc(){Ie(qt),Ie(Ct)}function F_(t,e,n){if(Ct.current!==vi)throw Error(N(168));ye(Ct,e),ye(qt,n)}function rx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(N(108,nk(t)||"Unknown",i));return Oe({},n,r)}function Xc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vi,fs=Ct.current,ye(Ct,t),ye(qt,qt.current),!0}function $_(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=rx(t,e,fs),r.__reactInternalMemoizedMergedChildContext=t,Ie(qt),Ie(Ct),ye(Ct,t)):Ie(qt),ye(qt,n)}var ur=null,nd=!1,zf=!1;function ix(t){ur===null?ur=[t]:ur.push(t)}function _N(t){nd=!0,ix(t)}function bi(){if(!zf&&ur!==null){zf=!0;var t=0,e=de;try{var n=ur;for(de=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ur=null,nd=!1}catch(i){throw ur!==null&&(ur=ur.slice(t+1)),bS(ay,bi),i}finally{de=e,zf=!1}}return null}var no=[],ro=0,Yc=null,Jc=0,pn=[],mn=0,ps=null,hr=1,dr="";function Wi(t,e){no[ro++]=Jc,no[ro++]=Yc,Yc=t,Jc=e}function sx(t,e,n){pn[mn++]=hr,pn[mn++]=dr,pn[mn++]=ps,ps=t;var r=hr;t=dr;var i=32-Pn(r)-1;r&=~(1<<i),n+=1;var s=32-Pn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,hr=1<<32-Pn(e)+i|n<<i|r,dr=s+t}else hr=1<<s|n<<i|r,dr=t}function gy(t){t.return!==null&&(Wi(t,1),sx(t,1,0))}function yy(t){for(;t===Yc;)Yc=no[--ro],no[ro]=null,Jc=no[--ro],no[ro]=null;for(;t===ps;)ps=pn[--mn],pn[mn]=null,dr=pn[--mn],pn[mn]=null,hr=pn[--mn],pn[mn]=null}var sn=null,Jt=null,Ce=!1,An=null;function ox(t,e){var n=yn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function U_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,sn=t,Jt=si(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,sn=t,Jt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ps!==null?{id:hr,overflow:dr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=yn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,sn=t,Jt=null,!0):!1;default:return!1}}function ym(t){return(t.mode&1)!==0&&(t.flags&128)===0}function vm(t){if(Ce){var e=Jt;if(e){var n=e;if(!U_(t,e)){if(ym(t))throw Error(N(418));e=si(n.nextSibling);var r=sn;e&&U_(t,e)?ox(r,n):(t.flags=t.flags&-4097|2,Ce=!1,sn=t)}}else{if(ym(t))throw Error(N(418));t.flags=t.flags&-4097|2,Ce=!1,sn=t}}}function B_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;sn=t}function Bu(t){if(t!==sn)return!1;if(!Ce)return B_(t),Ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fm(t.type,t.memoizedProps)),e&&(e=Jt)){if(ym(t))throw ax(),Error(N(418));for(;e;)ox(t,e),e=si(e.nextSibling)}if(B_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Jt=si(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Jt=null}}else Jt=sn?si(t.stateNode.nextSibling):null;return!0}function ax(){for(var t=Jt;t;)t=si(t.nextSibling)}function Po(){Jt=sn=null,Ce=!1}function vy(t){An===null?An=[t]:An.push(t)}var wN=kr.ReactCurrentBatchConfig;function xn(t,e){if(t&&t.defaultProps){e=Oe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Zc=Ci(null),eh=null,io=null,_y=null;function wy(){_y=io=eh=null}function Ey(t){var e=Zc.current;Ie(Zc),t._currentValue=e}function _m(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vo(t,e){eh=t,_y=io=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ht=!0),t.firstContext=null)}function _n(t){var e=t._currentValue;if(_y!==t)if(t={context:t,memoizedValue:e,next:null},io===null){if(eh===null)throw Error(N(308));io=t,eh.dependencies={lanes:0,firstContext:t}}else io=io.next=t;return e}var Zi=null;function Ty(t){Zi===null?Zi=[t]:Zi.push(t)}function lx(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ty(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ir(t,r)}function Ir(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Br=!1;function Sy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ux(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function oi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ir(t,n)}return i=r.interleaved,i===null?(e.next=e,Ty(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ir(t,n)}function Tc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ly(t,n)}}function z_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function th(t,e,n,r){var i=t.updateQueue;Br=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,_=a;switch(f=e,p=n,_.tag){case 1:if(g=_.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=Oe({},h,f);break e;case 2:Br=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);gs|=o,t.lanes=o,t.memoizedState=h}}function W_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(N(191,i));i.call(r)}}}var cx=new lS.Component().refs;function wm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var rd={isMounted:function(t){return(t=t._reactInternals)?bs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=li(t),s=vr(r,i);s.payload=e,n!=null&&(s.callback=n),e=oi(t,s,i),e!==null&&(Cn(e,t,i,r),Tc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=li(t),s=vr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=oi(t,s,i),e!==null&&(Cn(e,t,i,r),Tc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mt(),r=li(t),i=vr(n,r);i.tag=2,e!=null&&(i.callback=e),e=oi(t,i,r),e!==null&&(Cn(e,t,r,n),Tc(e,t,r))}};function H_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!cl(n,r)||!cl(i,s):!0}function hx(t,e,n){var r=!1,i=vi,s=e.contextType;return typeof s=="object"&&s!==null?s=_n(s):(i=Gt(e)?fs:Ct.current,r=e.contextTypes,s=(r=r!=null)?Ao(t,i):vi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=rd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function q_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&rd.enqueueReplaceState(e,e.state,null)}function Em(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=cx,Sy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=_n(s):(s=Gt(e)?fs:Ct.current,i.context=Ao(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(wm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&rd.enqueueReplaceState(i,i.state,null),th(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ha(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===cx&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function zu(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function G_(t){var e=t._init;return e(t._payload)}function dx(t){function e(v,m){if(t){var y=v.deletions;y===null?(v.deletions=[m],v.flags|=16):y.push(m)}}function n(v,m){if(!t)return null;for(;m!==null;)e(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function i(v,m){return v=ui(v,m),v.index=0,v.sibling=null,v}function s(v,m,y){return v.index=y,t?(y=v.alternate,y!==null?(y=y.index,y<m?(v.flags|=2,m):y):(v.flags|=2,m)):(v.flags|=1048576,m)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,m,y,T){return m===null||m.tag!==6?(m=Xf(y,v.mode,T),m.return=v,m):(m=i(m,y),m.return=v,m)}function l(v,m,y,T){var x=y.type;return x===Xs?c(v,m,y.props.children,T,y.key):m!==null&&(m.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ur&&G_(x)===m.type)?(T=i(m,y.props),T.ref=ha(v,m,y),T.return=v,T):(T=Cc(y.type,y.key,y.props,null,v.mode,T),T.ref=ha(v,m,y),T.return=v,T)}function u(v,m,y,T){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=Yf(y,v.mode,T),m.return=v,m):(m=i(m,y.children||[]),m.return=v,m)}function c(v,m,y,T,x){return m===null||m.tag!==7?(m=ls(y,v.mode,T,x),m.return=v,m):(m=i(m,y),m.return=v,m)}function h(v,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Xf(""+m,v.mode,y),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Nu:return y=Cc(m.type,m.key,m.props,null,v.mode,y),y.ref=ha(v,null,m),y.return=v,y;case Qs:return m=Yf(m,v.mode,y),m.return=v,m;case Ur:var T=m._init;return h(v,T(m._payload),y)}if(Sa(m)||oa(m))return m=ls(m,v.mode,y,null),m.return=v,m;zu(v,m)}return null}function f(v,m,y,T){var x=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return x!==null?null:a(v,m,""+y,T);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Nu:return y.key===x?l(v,m,y,T):null;case Qs:return y.key===x?u(v,m,y,T):null;case Ur:return x=y._init,f(v,m,x(y._payload),T)}if(Sa(y)||oa(y))return x!==null?null:c(v,m,y,T,null);zu(v,y)}return null}function p(v,m,y,T,x){if(typeof T=="string"&&T!==""||typeof T=="number")return v=v.get(y)||null,a(m,v,""+T,x);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Nu:return v=v.get(T.key===null?y:T.key)||null,l(m,v,T,x);case Qs:return v=v.get(T.key===null?y:T.key)||null,u(m,v,T,x);case Ur:var S=T._init;return p(v,m,y,S(T._payload),x)}if(Sa(T)||oa(T))return v=v.get(y)||null,c(m,v,T,x,null);zu(m,T)}return null}function g(v,m,y,T){for(var x=null,S=null,I=m,A=m=0,C=null;I!==null&&A<y.length;A++){I.index>A?(C=I,I=null):C=I.sibling;var k=f(v,I,y[A],T);if(k===null){I===null&&(I=C);break}t&&I&&k.alternate===null&&e(v,I),m=s(k,m,A),S===null?x=k:S.sibling=k,S=k,I=C}if(A===y.length)return n(v,I),Ce&&Wi(v,A),x;if(I===null){for(;A<y.length;A++)I=h(v,y[A],T),I!==null&&(m=s(I,m,A),S===null?x=I:S.sibling=I,S=I);return Ce&&Wi(v,A),x}for(I=r(v,I);A<y.length;A++)C=p(I,v,A,y[A],T),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?A:C.key),m=s(C,m,A),S===null?x=C:S.sibling=C,S=C);return t&&I.forEach(function($){return e(v,$)}),Ce&&Wi(v,A),x}function _(v,m,y,T){var x=oa(y);if(typeof x!="function")throw Error(N(150));if(y=x.call(y),y==null)throw Error(N(151));for(var S=x=null,I=m,A=m=0,C=null,k=y.next();I!==null&&!k.done;A++,k=y.next()){I.index>A?(C=I,I=null):C=I.sibling;var $=f(v,I,k.value,T);if($===null){I===null&&(I=C);break}t&&I&&$.alternate===null&&e(v,I),m=s($,m,A),S===null?x=$:S.sibling=$,S=$,I=C}if(k.done)return n(v,I),Ce&&Wi(v,A),x;if(I===null){for(;!k.done;A++,k=y.next())k=h(v,k.value,T),k!==null&&(m=s(k,m,A),S===null?x=k:S.sibling=k,S=k);return Ce&&Wi(v,A),x}for(I=r(v,I);!k.done;A++,k=y.next())k=p(I,v,A,k.value,T),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?A:k.key),m=s(k,m,A),S===null?x=k:S.sibling=k,S=k);return t&&I.forEach(function(se){return e(v,se)}),Ce&&Wi(v,A),x}function w(v,m,y,T){if(typeof y=="object"&&y!==null&&y.type===Xs&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Nu:e:{for(var x=y.key,S=m;S!==null;){if(S.key===x){if(x=y.type,x===Xs){if(S.tag===7){n(v,S.sibling),m=i(S,y.props.children),m.return=v,v=m;break e}}else if(S.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ur&&G_(x)===S.type){n(v,S.sibling),m=i(S,y.props),m.ref=ha(v,S,y),m.return=v,v=m;break e}n(v,S);break}else e(v,S);S=S.sibling}y.type===Xs?(m=ls(y.props.children,v.mode,T,y.key),m.return=v,v=m):(T=Cc(y.type,y.key,y.props,null,v.mode,T),T.ref=ha(v,m,y),T.return=v,v=T)}return o(v);case Qs:e:{for(S=y.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(v,m.sibling),m=i(m,y.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else e(v,m);m=m.sibling}m=Yf(y,v.mode,T),m.return=v,v=m}return o(v);case Ur:return S=y._init,w(v,m,S(y._payload),T)}if(Sa(y))return g(v,m,y,T);if(oa(y))return _(v,m,y,T);zu(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(v,m.sibling),m=i(m,y),m.return=v,v=m):(n(v,m),m=Xf(y,v.mode,T),m.return=v,v=m),o(v)):n(v,m)}return w}var Co=dx(!0),fx=dx(!1),Xl={},Hn=Ci(Xl),pl=Ci(Xl),ml=Ci(Xl);function es(t){if(t===Xl)throw Error(N(174));return t}function xy(t,e){switch(ye(ml,e),ye(pl,t),ye(Hn,Xl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Zp(e,t)}Ie(Hn),ye(Hn,e)}function bo(){Ie(Hn),Ie(pl),Ie(ml)}function px(t){es(ml.current);var e=es(Hn.current),n=Zp(e,t.type);e!==n&&(ye(pl,t),ye(Hn,n))}function Iy(t){pl.current===t&&(Ie(Hn),Ie(pl))}var ke=Ci(0);function nh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wf=[];function Ay(){for(var t=0;t<Wf.length;t++)Wf[t]._workInProgressVersionPrimary=null;Wf.length=0}var Sc=kr.ReactCurrentDispatcher,Hf=kr.ReactCurrentBatchConfig,ms=0,De=null,Ye=null,nt=null,rh=!1,Fa=!1,gl=0,EN=0;function _t(){throw Error(N(321))}function Py(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bn(t[n],e[n]))return!1;return!0}function Cy(t,e,n,r,i,s){if(ms=s,De=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Sc.current=t===null||t.memoizedState===null?IN:AN,t=n(r,i),Fa){s=0;do{if(Fa=!1,gl=0,25<=s)throw Error(N(301));s+=1,nt=Ye=null,e.updateQueue=null,Sc.current=PN,t=n(r,i)}while(Fa)}if(Sc.current=ih,e=Ye!==null&&Ye.next!==null,ms=0,nt=Ye=De=null,rh=!1,e)throw Error(N(300));return t}function by(){var t=gl!==0;return gl=0,t}function jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?De.memoizedState=nt=t:nt=nt.next=t,nt}function wn(){if(Ye===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var e=nt===null?De.memoizedState:nt.next;if(e!==null)nt=e,Ye=t;else{if(t===null)throw Error(N(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},nt===null?De.memoizedState=nt=t:nt=nt.next=t}return nt}function yl(t,e){return typeof e=="function"?e(t):e}function qf(t){var e=wn(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=Ye,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((ms&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,De.lanes|=c,gs|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,bn(r,e.memoizedState)||(Ht=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,De.lanes|=s,gs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gf(t){var e=wn(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);bn(s,e.memoizedState)||(Ht=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function mx(){}function gx(t,e){var n=De,r=wn(),i=e(),s=!bn(r.memoizedState,i);if(s&&(r.memoizedState=i,Ht=!0),r=r.queue,Ry(_x.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||nt!==null&&nt.memoizedState.tag&1){if(n.flags|=2048,vl(9,vx.bind(null,n,r,i,e),void 0,null),it===null)throw Error(N(349));ms&30||yx(n,e,i)}return i}function yx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function vx(t,e,n,r){e.value=n,e.getSnapshot=r,wx(e)&&Ex(t)}function _x(t,e,n){return n(function(){wx(e)&&Ex(t)})}function wx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bn(t,n)}catch{return!0}}function Ex(t){var e=Ir(t,1);e!==null&&Cn(e,t,1,-1)}function K_(t){var e=jn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:t},e.queue=t,t=t.dispatch=xN.bind(null,De,t),[e.memoizedState,t]}function vl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Tx(){return wn().memoizedState}function xc(t,e,n,r){var i=jn();De.flags|=t,i.memoizedState=vl(1|e,n,void 0,r===void 0?null:r)}function id(t,e,n,r){var i=wn();r=r===void 0?null:r;var s=void 0;if(Ye!==null){var o=Ye.memoizedState;if(s=o.destroy,r!==null&&Py(r,o.deps)){i.memoizedState=vl(e,n,s,r);return}}De.flags|=t,i.memoizedState=vl(1|e,n,s,r)}function Q_(t,e){return xc(8390656,8,t,e)}function Ry(t,e){return id(2048,8,t,e)}function Sx(t,e){return id(4,2,t,e)}function xx(t,e){return id(4,4,t,e)}function Ix(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ax(t,e,n){return n=n!=null?n.concat([t]):null,id(4,4,Ix.bind(null,e,t),n)}function ky(){}function Px(t,e){var n=wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Py(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Cx(t,e){var n=wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Py(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function bx(t,e,n){return ms&21?(bn(n,e)||(n=NS(),De.lanes|=n,gs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ht=!0),t.memoizedState=n)}function TN(t,e){var n=de;de=n!==0&&4>n?n:4,t(!0);var r=Hf.transition;Hf.transition={};try{t(!1),e()}finally{de=n,Hf.transition=r}}function Rx(){return wn().memoizedState}function SN(t,e,n){var r=li(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},kx(t))Nx(e,n);else if(n=lx(t,e,n,r),n!==null){var i=Mt();Cn(n,t,r,i),Dx(n,e,r)}}function xN(t,e,n){var r=li(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(kx(t))Nx(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,bn(a,o)){var l=e.interleaved;l===null?(i.next=i,Ty(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=lx(t,e,i,r),n!==null&&(i=Mt(),Cn(n,t,r,i),Dx(n,e,r))}}function kx(t){var e=t.alternate;return t===De||e!==null&&e===De}function Nx(t,e){Fa=rh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Dx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ly(t,n)}}var ih={readContext:_n,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},IN={readContext:_n,useCallback:function(t,e){return jn().memoizedState=[t,e===void 0?null:e],t},useContext:_n,useEffect:Q_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xc(4194308,4,Ix.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xc(4194308,4,t,e)},useInsertionEffect:function(t,e){return xc(4,2,t,e)},useMemo:function(t,e){var n=jn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=jn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=SN.bind(null,De,t),[r.memoizedState,t]},useRef:function(t){var e=jn();return t={current:t},e.memoizedState=t},useState:K_,useDebugValue:ky,useDeferredValue:function(t){return jn().memoizedState=t},useTransition:function(){var t=K_(!1),e=t[0];return t=TN.bind(null,t[1]),jn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=De,i=jn();if(Ce){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),it===null)throw Error(N(349));ms&30||yx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Q_(_x.bind(null,r,s,t),[t]),r.flags|=2048,vl(9,vx.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=jn(),e=it.identifierPrefix;if(Ce){var n=dr,r=hr;n=(r&~(1<<32-Pn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=gl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=EN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AN={readContext:_n,useCallback:Px,useContext:_n,useEffect:Ry,useImperativeHandle:Ax,useInsertionEffect:Sx,useLayoutEffect:xx,useMemo:Cx,useReducer:qf,useRef:Tx,useState:function(){return qf(yl)},useDebugValue:ky,useDeferredValue:function(t){var e=wn();return bx(e,Ye.memoizedState,t)},useTransition:function(){var t=qf(yl)[0],e=wn().memoizedState;return[t,e]},useMutableSource:mx,useSyncExternalStore:gx,useId:Rx,unstable_isNewReconciler:!1},PN={readContext:_n,useCallback:Px,useContext:_n,useEffect:Ry,useImperativeHandle:Ax,useInsertionEffect:Sx,useLayoutEffect:xx,useMemo:Cx,useReducer:Gf,useRef:Tx,useState:function(){return Gf(yl)},useDebugValue:ky,useDeferredValue:function(t){var e=wn();return Ye===null?e.memoizedState=t:bx(e,Ye.memoizedState,t)},useTransition:function(){var t=Gf(yl)[0],e=wn().memoizedState;return[t,e]},useMutableSource:mx,useSyncExternalStore:gx,useId:Rx,unstable_isNewReconciler:!1};function Ro(t,e){try{var n="",r=e;do n+=tk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Kf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Tm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var CN=typeof WeakMap=="function"?WeakMap:Map;function Ox(t,e,n){n=vr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){oh||(oh=!0,Nm=r),Tm(t,e)},n}function jx(t,e,n){n=vr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Tm(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Tm(t,e),typeof r!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function X_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new CN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=BN.bind(null,t,e,n),e.then(t,t))}function Y_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function J_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vr(-1,1),e.tag=2,oi(n,e,1))),n.lanes|=1),t)}var bN=kr.ReactCurrentOwner,Ht=!1;function Ot(t,e,n,r){e.child=t===null?fx(e,null,n,r):Co(e,t.child,n,r)}function Z_(t,e,n,r,i){n=n.render;var s=e.ref;return vo(e,i),r=Cy(t,e,n,r,s,i),n=by(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ar(t,e,i)):(Ce&&n&&gy(e),e.flags|=1,Ot(t,e,r,i),e.child)}function ew(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Fy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Mx(t,e,s,r,i)):(t=Cc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:cl,n(o,r)&&t.ref===e.ref)return Ar(t,e,i)}return e.flags|=1,t=ui(s,r),t.ref=e.ref,t.return=e,e.child=t}function Mx(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(cl(s,r)&&t.ref===e.ref)if(Ht=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ht=!0);else return e.lanes=t.lanes,Ar(t,e,i)}return Sm(t,e,n,r,i)}function Vx(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(oo,Yt),Yt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ye(oo,Yt),Yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ye(oo,Yt),Yt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ye(oo,Yt),Yt|=r;return Ot(t,e,i,n),e.child}function Lx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Sm(t,e,n,r,i){var s=Gt(n)?fs:Ct.current;return s=Ao(e,s),vo(e,i),n=Cy(t,e,n,r,s,i),r=by(),t!==null&&!Ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ar(t,e,i)):(Ce&&r&&gy(e),e.flags|=1,Ot(t,e,n,i),e.child)}function tw(t,e,n,r,i){if(Gt(n)){var s=!0;Xc(e)}else s=!1;if(vo(e,i),e.stateNode===null)Ic(t,e),hx(e,n,r),Em(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=_n(u):(u=Gt(n)?fs:Ct.current,u=Ao(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&q_(e,o,r,u),Br=!1;var f=e.memoizedState;o.state=f,th(e,r,o,i),l=e.memoizedState,a!==r||f!==l||qt.current||Br?(typeof c=="function"&&(wm(e,n,c,r),l=e.memoizedState),(a=Br||H_(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ux(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:xn(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=_n(l):(l=Gt(n)?fs:Ct.current,l=Ao(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&q_(e,o,r,l),Br=!1,f=e.memoizedState,o.state=f,th(e,r,o,i);var g=e.memoizedState;a!==h||f!==g||qt.current||Br?(typeof p=="function"&&(wm(e,n,p,r),g=e.memoizedState),(u=Br||H_(e,n,u,r,f,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return xm(t,e,n,r,s,i)}function xm(t,e,n,r,i,s){Lx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&$_(e,n,!1),Ar(t,e,s);r=e.stateNode,bN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Co(e,t.child,null,s),e.child=Co(e,null,a,s)):Ot(t,e,a,s),e.memoizedState=r.state,i&&$_(e,n,!0),e.child}function Fx(t){var e=t.stateNode;e.pendingContext?F_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&F_(t,e.context,!1),xy(t,e.containerInfo)}function nw(t,e,n,r,i){return Po(),vy(i),e.flags|=256,Ot(t,e,n,r),e.child}var Im={dehydrated:null,treeContext:null,retryLane:0};function Am(t){return{baseLanes:t,cachePool:null,transitions:null}}function $x(t,e,n){var r=e.pendingProps,i=ke.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ye(ke,i&1),t===null)return vm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ad(o,r,0,null),t=ls(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Am(n),e.memoizedState=Im,t):Ny(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return RN(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ui(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ui(a,s):(s=ls(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Am(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Im,r}return s=t.child,t=s.sibling,r=ui(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ny(t,e){return e=ad({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wu(t,e,n,r){return r!==null&&vy(r),Co(e,t.child,null,n),t=Ny(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function RN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Kf(Error(N(422))),Wu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ad({mode:"visible",children:r.children},i,0,null),s=ls(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Co(e,t.child,null,o),e.child.memoizedState=Am(o),e.memoizedState=Im,s);if(!(e.mode&1))return Wu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(N(419)),r=Kf(s,r,void 0),Wu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ht||a){if(r=it,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ir(t,i),Cn(r,t,i,-1))}return Ly(),r=Kf(Error(N(421))),Wu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=zN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Jt=si(i.nextSibling),sn=e,Ce=!0,An=null,t!==null&&(pn[mn++]=hr,pn[mn++]=dr,pn[mn++]=ps,hr=t.id,dr=t.overflow,ps=e),e=Ny(e,r.children),e.flags|=4096,e)}function rw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_m(t.return,e,n)}function Qf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ux(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ot(t,e,r.children,n),r=ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rw(t,n,e);else if(t.tag===19)rw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ye(ke,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&nh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&nh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qf(e,!0,n,null,s);break;case"together":Qf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ic(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ar(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),gs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=ui(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ui(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kN(t,e,n){switch(e.tag){case 3:Fx(e),Po();break;case 5:px(e);break;case 1:Gt(e.type)&&Xc(e);break;case 4:xy(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ye(Zc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ye(ke,ke.current&1),e.flags|=128,null):n&e.child.childLanes?$x(t,e,n):(ye(ke,ke.current&1),t=Ar(t,e,n),t!==null?t.sibling:null);ye(ke,ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ux(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ye(ke,ke.current),r)break;return null;case 22:case 23:return e.lanes=0,Vx(t,e,n)}return Ar(t,e,n)}var Bx,Pm,zx,Wx;Bx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Pm=function(){};zx=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,es(Hn.current);var s=null;switch(n){case"input":i=Qp(t,i),r=Qp(t,r),s=[];break;case"select":i=Oe({},i,{value:void 0}),r=Oe({},r,{value:void 0}),s=[];break;case"textarea":i=Jp(t,i),r=Jp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Kc)}em(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(rl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(rl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ee("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Wx=function(t,e,n,r){n!==r&&(e.flags|=4)};function da(t,e){if(!Ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function NN(t,e,n){var r=e.pendingProps;switch(yy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(e),null;case 1:return Gt(e.type)&&Qc(),wt(e),null;case 3:return r=e.stateNode,bo(),Ie(qt),Ie(Ct),Ay(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Bu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,An!==null&&(jm(An),An=null))),Pm(t,e),wt(e),null;case 5:Iy(e);var i=es(ml.current);if(n=e.type,t!==null&&e.stateNode!=null)zx(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return wt(e),null}if(t=es(Hn.current),Bu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ln]=e,r[fl]=s,t=(e.mode&1)!==0,n){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(i=0;i<Ia.length;i++)Ee(Ia[i],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":d_(r,s),Ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ee("invalid",r);break;case"textarea":p_(r,s),Ee("invalid",r)}em(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Uu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Uu(r.textContent,a,t),i=["children",""+a]):rl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ee("scroll",r)}switch(n){case"input":Du(r),f_(r,s,!0);break;case"textarea":Du(r),m_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Kc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=yS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ln]=e,t[fl]=r,Bx(t,e,!1,!1),e.stateNode=t;e:{switch(o=tm(n,r),n){case"dialog":Ee("cancel",t),Ee("close",t),i=r;break;case"iframe":case"object":case"embed":Ee("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ia.length;i++)Ee(Ia[i],t);i=r;break;case"source":Ee("error",t),i=r;break;case"img":case"image":case"link":Ee("error",t),Ee("load",t),i=r;break;case"details":Ee("toggle",t),i=r;break;case"input":d_(t,r),i=Qp(t,r),Ee("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Oe({},r,{value:void 0}),Ee("invalid",t);break;case"textarea":p_(t,r),i=Jp(t,r),Ee("invalid",t);break;default:i=r}em(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?wS(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&vS(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&il(t,l):typeof l=="number"&&il(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(rl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ee("scroll",t):l!=null&&ny(t,s,l,o))}switch(n){case"input":Du(t),f_(t,r,!1);break;case"textarea":Du(t),m_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+yi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?po(t,!!r.multiple,s,!1):r.defaultValue!=null&&po(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Kc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wt(e),null;case 6:if(t&&e.stateNode!=null)Wx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=es(ml.current),es(Hn.current),Bu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ln]=e,(s=r.nodeValue!==n)&&(t=sn,t!==null))switch(t.tag){case 3:Uu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Uu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ln]=e,e.stateNode=r}return wt(e),null;case 13:if(Ie(ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ce&&Jt!==null&&e.mode&1&&!(e.flags&128))ax(),Po(),e.flags|=98560,s=!1;else if(s=Bu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(N(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(N(317));s[Ln]=e}else Po(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wt(e),s=!1}else An!==null&&(jm(An),An=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ke.current&1?Je===0&&(Je=3):Ly())),e.updateQueue!==null&&(e.flags|=4),wt(e),null);case 4:return bo(),Pm(t,e),t===null&&hl(e.stateNode.containerInfo),wt(e),null;case 10:return Ey(e.type._context),wt(e),null;case 17:return Gt(e.type)&&Qc(),wt(e),null;case 19:if(Ie(ke),s=e.memoizedState,s===null)return wt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)da(s,!1);else{if(Je!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=nh(t),o!==null){for(e.flags|=128,da(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ye(ke,ke.current&1|2),e.child}t=t.sibling}s.tail!==null&&Be()>ko&&(e.flags|=128,r=!0,da(s,!1),e.lanes=4194304)}else{if(!r)if(t=nh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),da(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ce)return wt(e),null}else 2*Be()-s.renderingStartTime>ko&&n!==1073741824&&(e.flags|=128,r=!0,da(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Be(),e.sibling=null,n=ke.current,ye(ke,r?n&1|2:n&1),e):(wt(e),null);case 22:case 23:return Vy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Yt&1073741824&&(wt(e),e.subtreeFlags&6&&(e.flags|=8192)):wt(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function DN(t,e){switch(yy(e),e.tag){case 1:return Gt(e.type)&&Qc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bo(),Ie(qt),Ie(Ct),Ay(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Iy(e),null;case 13:if(Ie(ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));Po()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ie(ke),null;case 4:return bo(),null;case 10:return Ey(e.type._context),null;case 22:case 23:return Vy(),null;case 24:return null;default:return null}}var Hu=!1,xt=!1,ON=typeof WeakSet=="function"?WeakSet:Set,L=null;function so(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Me(t,e,r)}else n.current=null}function Cm(t,e,n){try{n()}catch(r){Me(t,e,r)}}var iw=!1;function jN(t,e){if(hm=Hc,t=KS(),my(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(dm={focusedElem:t,selectionRange:n},Hc=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,w=g.memoizedState,v=e.stateNode,m=v.getSnapshotBeforeUpdate(e.elementType===e.type?_:xn(e.type,_),w);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(T){Me(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return g=iw,iw=!1,g}function $a(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Cm(e,n,s)}i=i.next}while(i!==r)}}function sd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function bm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Hx(t){var e=t.alternate;e!==null&&(t.alternate=null,Hx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ln],delete e[fl],delete e[mm],delete e[yN],delete e[vN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qx(t){return t.tag===5||t.tag===3||t.tag===4}function sw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Kc));else if(r!==4&&(t=t.child,t!==null))for(Rm(t,e,n),t=t.sibling;t!==null;)Rm(t,e,n),t=t.sibling}function km(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(km(t,e,n),t=t.sibling;t!==null;)km(t,e,n),t=t.sibling}var ut=null,In=!1;function Vr(t,e,n){for(n=n.child;n!==null;)Gx(t,e,n),n=n.sibling}function Gx(t,e,n){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(Yh,n)}catch{}switch(n.tag){case 5:xt||so(n,e);case 6:var r=ut,i=In;ut=null,Vr(t,e,n),ut=r,In=i,ut!==null&&(In?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(In?(t=ut,n=n.stateNode,t.nodeType===8?Bf(t.parentNode,n):t.nodeType===1&&Bf(t,n),ll(t)):Bf(ut,n.stateNode));break;case 4:r=ut,i=In,ut=n.stateNode.containerInfo,In=!0,Vr(t,e,n),ut=r,In=i;break;case 0:case 11:case 14:case 15:if(!xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Cm(n,e,o),i=i.next}while(i!==r)}Vr(t,e,n);break;case 1:if(!xt&&(so(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Me(n,e,a)}Vr(t,e,n);break;case 21:Vr(t,e,n);break;case 22:n.mode&1?(xt=(r=xt)||n.memoizedState!==null,Vr(t,e,n),xt=r):Vr(t,e,n);break;default:Vr(t,e,n)}}function ow(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ON),e.forEach(function(r){var i=WN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Tn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ut=a.stateNode,In=!1;break e;case 3:ut=a.stateNode.containerInfo,In=!0;break e;case 4:ut=a.stateNode.containerInfo,In=!0;break e}a=a.return}if(ut===null)throw Error(N(160));Gx(s,o,i),ut=null,In=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Me(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Kx(e,t),e=e.sibling}function Kx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tn(e,t),On(t),r&4){try{$a(3,t,t.return),sd(3,t)}catch(_){Me(t,t.return,_)}try{$a(5,t,t.return)}catch(_){Me(t,t.return,_)}}break;case 1:Tn(e,t),On(t),r&512&&n!==null&&so(n,n.return);break;case 5:if(Tn(e,t),On(t),r&512&&n!==null&&so(n,n.return),t.flags&32){var i=t.stateNode;try{il(i,"")}catch(_){Me(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&mS(i,s),tm(a,o);var u=tm(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?wS(i,h):c==="dangerouslySetInnerHTML"?vS(i,h):c==="children"?il(i,h):ny(i,c,h,u)}switch(a){case"input":Xp(i,s);break;case"textarea":gS(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?po(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?po(i,!!s.multiple,s.defaultValue,!0):po(i,!!s.multiple,s.multiple?[]:"",!1))}i[fl]=s}catch(_){Me(t,t.return,_)}}break;case 6:if(Tn(e,t),On(t),r&4){if(t.stateNode===null)throw Error(N(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){Me(t,t.return,_)}}break;case 3:if(Tn(e,t),On(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ll(e.containerInfo)}catch(_){Me(t,t.return,_)}break;case 4:Tn(e,t),On(t);break;case 13:Tn(e,t),On(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(jy=Be())),r&4&&ow(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(xt=(u=xt)||c,Tn(e,t),xt=u):Tn(e,t),On(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(L=t,c=t.child;c!==null;){for(h=L=c;L!==null;){switch(f=L,p=f.child,f.tag){case 0:case 11:case 14:case 15:$a(4,f,f.return);break;case 1:so(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(_){Me(r,n,_)}}break;case 5:so(f,f.return);break;case 22:if(f.memoizedState!==null){lw(h);continue}}p!==null?(p.return=f,L=p):lw(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=_S("display",o))}catch(_){Me(t,t.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Me(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Tn(e,t),On(t),r&4&&ow(t);break;case 21:break;default:Tn(e,t),On(t)}}function On(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(qx(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(il(i,""),r.flags&=-33);var s=sw(t);km(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=sw(t);Rm(t,a,o);break;default:throw Error(N(161))}}catch(l){Me(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MN(t,e,n){L=t,Qx(t)}function Qx(t,e,n){for(var r=(t.mode&1)!==0;L!==null;){var i=L,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Hu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||xt;a=Hu;var u=xt;if(Hu=o,(xt=l)&&!u)for(L=i;L!==null;)o=L,l=o.child,o.tag===22&&o.memoizedState!==null?uw(i):l!==null?(l.return=o,L=l):uw(i);for(;s!==null;)L=s,Qx(s),s=s.sibling;L=i,Hu=a,xt=u}aw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,L=s):aw(t)}}function aw(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xt||sd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:xn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&W_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}W_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ll(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}xt||e.flags&512&&bm(e)}catch(f){Me(e,e.return,f)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function lw(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function uw(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{sd(4,e)}catch(l){Me(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Me(e,i,l)}}var s=e.return;try{bm(e)}catch(l){Me(e,s,l)}break;case 5:var o=e.return;try{bm(e)}catch(l){Me(e,o,l)}}}catch(l){Me(e,e.return,l)}if(e===t){L=null;break}var a=e.sibling;if(a!==null){a.return=e.return,L=a;break}L=e.return}}var VN=Math.ceil,sh=kr.ReactCurrentDispatcher,Dy=kr.ReactCurrentOwner,vn=kr.ReactCurrentBatchConfig,le=0,it=null,Ge=null,pt=0,Yt=0,oo=Ci(0),Je=0,_l=null,gs=0,od=0,Oy=0,Ua=null,Bt=null,jy=0,ko=1/0,lr=null,oh=!1,Nm=null,ai=null,qu=!1,Jr=null,ah=0,Ba=0,Dm=null,Ac=-1,Pc=0;function Mt(){return le&6?Be():Ac!==-1?Ac:Ac=Be()}function li(t){return t.mode&1?le&2&&pt!==0?pt&-pt:wN.transition!==null?(Pc===0&&(Pc=NS()),Pc):(t=de,t!==0||(t=window.event,t=t===void 0?16:FS(t.type)),t):1}function Cn(t,e,n,r){if(50<Ba)throw Ba=0,Dm=null,Error(N(185));Gl(t,n,r),(!(le&2)||t!==it)&&(t===it&&(!(le&2)&&(od|=n),Je===4&&qr(t,pt)),Kt(t,r),n===1&&le===0&&!(e.mode&1)&&(ko=Be()+500,nd&&bi()))}function Kt(t,e){var n=t.callbackNode;wk(t,e);var r=Wc(t,t===it?pt:0);if(r===0)n!==null&&v_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&v_(n),e===1)t.tag===0?_N(cw.bind(null,t)):ix(cw.bind(null,t)),mN(function(){!(le&6)&&bi()}),n=null;else{switch(DS(r)){case 1:n=ay;break;case 4:n=RS;break;case 16:n=zc;break;case 536870912:n=kS;break;default:n=zc}n=rI(n,Xx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Xx(t,e){if(Ac=-1,Pc=0,le&6)throw Error(N(327));var n=t.callbackNode;if(_o()&&t.callbackNode!==n)return null;var r=Wc(t,t===it?pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=lh(t,r);else{e=r;var i=le;le|=2;var s=Jx();(it!==t||pt!==e)&&(lr=null,ko=Be()+500,as(t,e));do try{$N();break}catch(a){Yx(t,a)}while(!0);wy(),sh.current=s,le=i,Ge!==null?e=0:(it=null,pt=0,e=Je)}if(e!==0){if(e===2&&(i=om(t),i!==0&&(r=i,e=Om(t,i))),e===1)throw n=_l,as(t,0),qr(t,r),Kt(t,Be()),n;if(e===6)qr(t,r);else{if(i=t.current.alternate,!(r&30)&&!LN(i)&&(e=lh(t,r),e===2&&(s=om(t),s!==0&&(r=s,e=Om(t,s))),e===1))throw n=_l,as(t,0),qr(t,r),Kt(t,Be()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:Hi(t,Bt,lr);break;case 3:if(qr(t,r),(r&130023424)===r&&(e=jy+500-Be(),10<e)){if(Wc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Mt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=pm(Hi.bind(null,t,Bt,lr),e);break}Hi(t,Bt,lr);break;case 4:if(qr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Pn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*VN(r/1960))-r,10<r){t.timeoutHandle=pm(Hi.bind(null,t,Bt,lr),r);break}Hi(t,Bt,lr);break;case 5:Hi(t,Bt,lr);break;default:throw Error(N(329))}}}return Kt(t,Be()),t.callbackNode===n?Xx.bind(null,t):null}function Om(t,e){var n=Ua;return t.current.memoizedState.isDehydrated&&(as(t,e).flags|=256),t=lh(t,e),t!==2&&(e=Bt,Bt=n,e!==null&&jm(e)),t}function jm(t){Bt===null?Bt=t:Bt.push.apply(Bt,t)}function LN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!bn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qr(t,e){for(e&=~Oy,e&=~od,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pn(e),r=1<<n;t[n]=-1,e&=~r}}function cw(t){if(le&6)throw Error(N(327));_o();var e=Wc(t,0);if(!(e&1))return Kt(t,Be()),null;var n=lh(t,e);if(t.tag!==0&&n===2){var r=om(t);r!==0&&(e=r,n=Om(t,r))}if(n===1)throw n=_l,as(t,0),qr(t,e),Kt(t,Be()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hi(t,Bt,lr),Kt(t,Be()),null}function My(t,e){var n=le;le|=1;try{return t(e)}finally{le=n,le===0&&(ko=Be()+500,nd&&bi())}}function ys(t){Jr!==null&&Jr.tag===0&&!(le&6)&&_o();var e=le;le|=1;var n=vn.transition,r=de;try{if(vn.transition=null,de=1,t)return t()}finally{de=r,vn.transition=n,le=e,!(le&6)&&bi()}}function Vy(){Yt=oo.current,Ie(oo)}function as(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,pN(n)),Ge!==null)for(n=Ge.return;n!==null;){var r=n;switch(yy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qc();break;case 3:bo(),Ie(qt),Ie(Ct),Ay();break;case 5:Iy(r);break;case 4:bo();break;case 13:Ie(ke);break;case 19:Ie(ke);break;case 10:Ey(r.type._context);break;case 22:case 23:Vy()}n=n.return}if(it=t,Ge=t=ui(t.current,null),pt=Yt=e,Je=0,_l=null,Oy=od=gs=0,Bt=Ua=null,Zi!==null){for(e=0;e<Zi.length;e++)if(n=Zi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Zi=null}return t}function Yx(t,e){do{var n=Ge;try{if(wy(),Sc.current=ih,rh){for(var r=De.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}rh=!1}if(ms=0,nt=Ye=De=null,Fa=!1,gl=0,Dy.current=null,n===null||n.return===null){Je=1,_l=e,Ge=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=Y_(o);if(p!==null){p.flags&=-257,J_(p,o,a,s,e),p.mode&1&&X_(s,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var _=new Set;_.add(l),e.updateQueue=_}else g.add(l);break e}else{if(!(e&1)){X_(s,u,e),Ly();break e}l=Error(N(426))}}else if(Ce&&a.mode&1){var w=Y_(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),J_(w,o,a,s,e),vy(Ro(l,a));break e}}s=l=Ro(l,a),Je!==4&&(Je=2),Ua===null?Ua=[s]:Ua.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=Ox(s,l,e);z_(s,v);break e;case 1:a=l;var m=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ai===null||!ai.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=jx(s,a,e);z_(s,T);break e}}s=s.return}while(s!==null)}eI(n)}catch(x){e=x,Ge===n&&n!==null&&(Ge=n=n.return);continue}break}while(!0)}function Jx(){var t=sh.current;return sh.current=ih,t===null?ih:t}function Ly(){(Je===0||Je===3||Je===2)&&(Je=4),it===null||!(gs&268435455)&&!(od&268435455)||qr(it,pt)}function lh(t,e){var n=le;le|=2;var r=Jx();(it!==t||pt!==e)&&(lr=null,as(t,e));do try{FN();break}catch(i){Yx(t,i)}while(!0);if(wy(),le=n,sh.current=r,Ge!==null)throw Error(N(261));return it=null,pt=0,Je}function FN(){for(;Ge!==null;)Zx(Ge)}function $N(){for(;Ge!==null&&!hk();)Zx(Ge)}function Zx(t){var e=nI(t.alternate,t,Yt);t.memoizedProps=t.pendingProps,e===null?eI(t):Ge=e,Dy.current=null}function eI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=DN(n,e),n!==null){n.flags&=32767,Ge=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Je=6,Ge=null;return}}else if(n=NN(n,e,Yt),n!==null){Ge=n;return}if(e=e.sibling,e!==null){Ge=e;return}Ge=e=t}while(e!==null);Je===0&&(Je=5)}function Hi(t,e,n){var r=de,i=vn.transition;try{vn.transition=null,de=1,UN(t,e,n,r)}finally{vn.transition=i,de=r}return null}function UN(t,e,n,r){do _o();while(Jr!==null);if(le&6)throw Error(N(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Ek(t,s),t===it&&(Ge=it=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qu||(qu=!0,rI(zc,function(){return _o(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=vn.transition,vn.transition=null;var o=de;de=1;var a=le;le|=4,Dy.current=null,jN(t,n),Kx(n,t),aN(dm),Hc=!!hm,dm=hm=null,t.current=n,MN(n),dk(),le=a,de=o,vn.transition=s}else t.current=n;if(qu&&(qu=!1,Jr=t,ah=i),s=t.pendingLanes,s===0&&(ai=null),mk(n.stateNode),Kt(t,Be()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(oh)throw oh=!1,t=Nm,Nm=null,t;return ah&1&&t.tag!==0&&_o(),s=t.pendingLanes,s&1?t===Dm?Ba++:(Ba=0,Dm=t):Ba=0,bi(),null}function _o(){if(Jr!==null){var t=DS(ah),e=vn.transition,n=de;try{if(vn.transition=null,de=16>t?16:t,Jr===null)var r=!1;else{if(t=Jr,Jr=null,ah=0,le&6)throw Error(N(331));var i=le;for(le|=4,L=t.current;L!==null;){var s=L,o=s.child;if(L.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(L=u;L!==null;){var c=L;switch(c.tag){case 0:case 11:case 15:$a(8,c,s)}var h=c.child;if(h!==null)h.return=c,L=h;else for(;L!==null;){c=L;var f=c.sibling,p=c.return;if(Hx(c),c===u){L=null;break}if(f!==null){f.return=p,L=f;break}L=p}}}var g=s.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var w=_.sibling;_.sibling=null,_=w}while(_!==null)}}L=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,L=o;else e:for(;L!==null;){if(s=L,s.flags&2048)switch(s.tag){case 0:case 11:case 15:$a(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,L=v;break e}L=s.return}}var m=t.current;for(L=m;L!==null;){o=L;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,L=y;else e:for(o=m;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:sd(9,a)}}catch(x){Me(a,a.return,x)}if(a===o){L=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,L=T;break e}L=a.return}}if(le=i,bi(),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(Yh,t)}catch{}r=!0}return r}finally{de=n,vn.transition=e}}return!1}function hw(t,e,n){e=Ro(n,e),e=Ox(t,e,1),t=oi(t,e,1),e=Mt(),t!==null&&(Gl(t,1,e),Kt(t,e))}function Me(t,e,n){if(t.tag===3)hw(t,t,n);else for(;e!==null;){if(e.tag===3){hw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ai===null||!ai.has(r))){t=Ro(n,t),t=jx(e,t,1),e=oi(e,t,1),t=Mt(),e!==null&&(Gl(e,1,t),Kt(e,t));break}}e=e.return}}function BN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mt(),t.pingedLanes|=t.suspendedLanes&n,it===t&&(pt&n)===n&&(Je===4||Je===3&&(pt&130023424)===pt&&500>Be()-jy?as(t,0):Oy|=n),Kt(t,e)}function tI(t,e){e===0&&(t.mode&1?(e=Mu,Mu<<=1,!(Mu&130023424)&&(Mu=4194304)):e=1);var n=Mt();t=Ir(t,e),t!==null&&(Gl(t,e,n),Kt(t,n))}function zN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),tI(t,n)}function WN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),tI(t,n)}var nI;nI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qt.current)Ht=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ht=!1,kN(t,e,n);Ht=!!(t.flags&131072)}else Ht=!1,Ce&&e.flags&1048576&&sx(e,Jc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ic(t,e),t=e.pendingProps;var i=Ao(e,Ct.current);vo(e,n),i=Cy(null,e,r,t,i,n);var s=by();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gt(r)?(s=!0,Xc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Sy(e),i.updater=rd,e.stateNode=i,i._reactInternals=e,Em(e,r,t,n),e=xm(null,e,r,!0,s,n)):(e.tag=0,Ce&&s&&gy(e),Ot(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ic(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=qN(r),t=xn(r,t),i){case 0:e=Sm(null,e,r,t,n);break e;case 1:e=tw(null,e,r,t,n);break e;case 11:e=Z_(null,e,r,t,n);break e;case 14:e=ew(null,e,r,xn(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xn(r,i),Sm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xn(r,i),tw(t,e,r,i,n);case 3:e:{if(Fx(e),t===null)throw Error(N(387));r=e.pendingProps,s=e.memoizedState,i=s.element,ux(t,e),th(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ro(Error(N(423)),e),e=nw(t,e,r,n,i);break e}else if(r!==i){i=Ro(Error(N(424)),e),e=nw(t,e,r,n,i);break e}else for(Jt=si(e.stateNode.containerInfo.firstChild),sn=e,Ce=!0,An=null,n=fx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Po(),r===i){e=Ar(t,e,n);break e}Ot(t,e,r,n)}e=e.child}return e;case 5:return px(e),t===null&&vm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,fm(r,i)?o=null:s!==null&&fm(r,s)&&(e.flags|=32),Lx(t,e),Ot(t,e,o,n),e.child;case 6:return t===null&&vm(e),null;case 13:return $x(t,e,n);case 4:return xy(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Co(e,null,r,n):Ot(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xn(r,i),Z_(t,e,r,i,n);case 7:return Ot(t,e,e.pendingProps,n),e.child;case 8:return Ot(t,e,e.pendingProps.children,n),e.child;case 12:return Ot(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ye(Zc,r._currentValue),r._currentValue=o,s!==null)if(bn(s.value,o)){if(s.children===i.children&&!qt.current){e=Ar(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=vr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),_m(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(N(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),_m(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ot(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,vo(e,n),i=_n(i),r=r(i),e.flags|=1,Ot(t,e,r,n),e.child;case 14:return r=e.type,i=xn(r,e.pendingProps),i=xn(r.type,i),ew(t,e,r,i,n);case 15:return Mx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:xn(r,i),Ic(t,e),e.tag=1,Gt(r)?(t=!0,Xc(e)):t=!1,vo(e,n),hx(e,r,i),Em(e,r,i,n),xm(null,e,r,!0,t,n);case 19:return Ux(t,e,n);case 22:return Vx(t,e,n)}throw Error(N(156,e.tag))};function rI(t,e){return bS(t,e)}function HN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,e,n,r){return new HN(t,e,n,r)}function Fy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qN(t){if(typeof t=="function")return Fy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===iy)return 11;if(t===sy)return 14}return 2}function ui(t,e){var n=t.alternate;return n===null?(n=yn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Fy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Xs:return ls(n.children,i,s,e);case ry:o=8,i|=8;break;case Hp:return t=yn(12,n,e,i|2),t.elementType=Hp,t.lanes=s,t;case qp:return t=yn(13,n,e,i),t.elementType=qp,t.lanes=s,t;case Gp:return t=yn(19,n,e,i),t.elementType=Gp,t.lanes=s,t;case dS:return ad(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cS:o=10;break e;case hS:o=9;break e;case iy:o=11;break e;case sy:o=14;break e;case Ur:o=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=yn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ls(t,e,n,r){return t=yn(7,t,r,e),t.lanes=n,t}function ad(t,e,n,r){return t=yn(22,t,r,e),t.elementType=dS,t.lanes=n,t.stateNode={isHidden:!1},t}function Xf(t,e,n){return t=yn(6,t,null,e),t.lanes=n,t}function Yf(t,e,n){return e=yn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function GN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kf(0),this.expirationTimes=kf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $y(t,e,n,r,i,s,o,a,l){return t=new GN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=yn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sy(s),t}function KN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function iI(t){if(!t)return vi;t=t._reactInternals;e:{if(bs(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(Gt(n))return rx(t,n,e)}return e}function sI(t,e,n,r,i,s,o,a,l){return t=$y(n,r,!0,t,i,s,o,a,l),t.context=iI(null),n=t.current,r=Mt(),i=li(n),s=vr(r,i),s.callback=e??null,oi(n,s,i),t.current.lanes=i,Gl(t,i,r),Kt(t,r),t}function ld(t,e,n,r){var i=e.current,s=Mt(),o=li(i);return n=iI(n),e.context===null?e.context=n:e.pendingContext=n,e=vr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=oi(i,e,o),t!==null&&(Cn(t,i,o,s),Tc(t,i,o)),o}function uh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function dw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Uy(t,e){dw(t,e),(t=t.alternate)&&dw(t,e)}function QN(){return null}var oI=typeof reportError=="function"?reportError:function(t){console.error(t)};function By(t){this._internalRoot=t}ud.prototype.render=By.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));ld(t,e,null,null)};ud.prototype.unmount=By.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ys(function(){ld(null,t,null,null)}),e[xr]=null}};function ud(t){this._internalRoot=t}ud.prototype.unstable_scheduleHydration=function(t){if(t){var e=MS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hr.length&&e!==0&&e<Hr[n].priority;n++);Hr.splice(n,0,t),n===0&&LS(t)}};function zy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function fw(){}function XN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=uh(o);s.call(u)}}var o=sI(e,r,t,0,null,!1,!1,"",fw);return t._reactRootContainer=o,t[xr]=o.current,hl(t.nodeType===8?t.parentNode:t),ys(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=uh(l);a.call(u)}}var l=$y(t,0,!1,null,null,!1,!1,"",fw);return t._reactRootContainer=l,t[xr]=l.current,hl(t.nodeType===8?t.parentNode:t),ys(function(){ld(e,l,n,r)}),l}function hd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=uh(o);a.call(l)}}ld(e,o,t,i)}else o=XN(n,e,t,i,r);return uh(o)}OS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=xa(e.pendingLanes);n!==0&&(ly(e,n|1),Kt(e,Be()),!(le&6)&&(ko=Be()+500,bi()))}break;case 13:ys(function(){var r=Ir(t,1);if(r!==null){var i=Mt();Cn(r,t,1,i)}}),Uy(t,1)}};uy=function(t){if(t.tag===13){var e=Ir(t,134217728);if(e!==null){var n=Mt();Cn(e,t,134217728,n)}Uy(t,134217728)}};jS=function(t){if(t.tag===13){var e=li(t),n=Ir(t,e);if(n!==null){var r=Mt();Cn(n,t,e,r)}Uy(t,e)}};MS=function(){return de};VS=function(t,e){var n=de;try{return de=t,e()}finally{de=n}};rm=function(t,e,n){switch(e){case"input":if(Xp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=td(r);if(!i)throw Error(N(90));pS(r),Xp(r,i)}}}break;case"textarea":gS(t,n);break;case"select":e=n.value,e!=null&&po(t,!!n.multiple,e,!1)}};SS=My;xS=ys;var YN={usingClientEntryPoint:!1,Events:[Ql,eo,td,ES,TS,My]},fa={findFiberByHostInstance:Ji,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},JN={bundleType:fa.bundleType,version:fa.version,rendererPackageName:fa.rendererPackageName,rendererConfig:fa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=PS(t),t===null?null:t.stateNode},findFiberByHostInstance:fa.findFiberByHostInstance||QN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gu.isDisabled&&Gu.supportsFiber)try{Yh=Gu.inject(JN),Wn=Gu}catch{}}un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YN;un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zy(e))throw Error(N(200));return KN(t,e,null,n)};un.createRoot=function(t,e){if(!zy(t))throw Error(N(299));var n=!1,r="",i=oI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=$y(t,1,!1,null,null,n,!1,r,i),t[xr]=e.current,hl(t.nodeType===8?t.parentNode:t),new By(e)};un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=PS(e),t=t===null?null:t.stateNode,t};un.flushSync=function(t){return ys(t)};un.hydrate=function(t,e,n){if(!cd(e))throw Error(N(200));return hd(null,t,e,!0,n)};un.hydrateRoot=function(t,e,n){if(!zy(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=oI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=sI(e,null,t,1,n??null,i,!1,s,o),t[xr]=e.current,hl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ud(e)};un.render=function(t,e,n){if(!cd(e))throw Error(N(200));return hd(null,t,e,!1,n)};un.unmountComponentAtNode=function(t){if(!cd(t))throw Error(N(40));return t._reactRootContainer?(ys(function(){hd(null,null,t,!1,function(){t._reactRootContainer=null,t[xr]=null})}),!0):!1};un.unstable_batchedUpdates=My;un.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!cd(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return hd(t,e,n,!1,r)};un.version="18.2.0-next-9e3b772b8-20220608";function aI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aI)}catch(t){console.error(t)}}aI(),sS.exports=un;var ZN=sS.exports,pw=ZN;zp.createRoot=pw.createRoot,zp.hydrateRoot=pw.hydrateRoot;/**
 * @remix-run/router v1.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wl(){return wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wl.apply(this,arguments)}var Zr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zr||(Zr={}));const mw="popstate";function eD(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Mm("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ch(i)}return nD(e,n,null,t)}function Qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tD(){return Math.random().toString(36).substr(2,8)}function gw(t,e){return{usr:t.state,key:t.key,idx:e}}function Mm(t,e,n,r){return n===void 0&&(n=null),wl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xo(e):e,{state:n,key:e&&e.key||r||tD()})}function ch(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function nD(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Zr.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(wl({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=Zr.Pop;let w=c(),v=w==null?null:w-u;u=w,l&&l({action:a,location:_.location,delta:v})}function f(w,v){a=Zr.Push;let m=Mm(_.location,w,v);n&&n(m,w),u=c()+1;let y=gw(m,u),T=_.createHref(m);try{o.pushState(y,"",T)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(T)}s&&l&&l({action:a,location:_.location,delta:1})}function p(w,v){a=Zr.Replace;let m=Mm(_.location,w,v);n&&n(m,w),u=c();let y=gw(m,u),T=_.createHref(m);o.replaceState(y,"",T),s&&l&&l({action:a,location:_.location,delta:0})}function g(w){let v=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof w=="string"?w:ch(w);return Qe(v,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,v)}let _={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(mw,h),l=w,()=>{i.removeEventListener(mw,h),l=null}},createHref(w){return e(i,w)},createURL:g,encodeLocation(w){let v=g(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(w){return o.go(w)}};return _}var yw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(yw||(yw={}));function rD(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Xo(e):e,i=Hy(r.pathname||"/",n);if(i==null)return null;let s=lI(t);iD(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=fD(s[a],gD(i));return o}function lI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Qe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ci([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Qe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),lI(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:hD(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of uI(s.path))i(s,o,l)}),e}function uI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=uI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function iD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:dD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const sD=/^:\w+$/,oD=3,aD=2,lD=1,uD=10,cD=-2,vw=t=>t==="*";function hD(t,e){let n=t.split("/"),r=n.length;return n.some(vw)&&(r+=cD),e&&(r+=aD),n.filter(i=>!vw(i)).reduce((i,s)=>i+(sD.test(s)?oD:s===""?lD:uD),r)}function dD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function fD(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=pD({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:ci([i,c.pathname]),pathnameBase:ED(ci([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=ci([i,c.pathnameBase]))}return s}function pD(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=mD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:f,isOptional:p}=c;if(f==="*"){let _=a[h]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const g=a[h];return p&&!g?u[f]=void 0:u[f]=yD(g||"",f),u},{}),pathname:s,pathnameBase:o,pattern:t}}function mD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Wy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function gD(t){try{return decodeURI(t)}catch(e){return Wy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function yD(t,e){try{return decodeURIComponent(t)}catch(n){return Wy(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Hy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function vD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Xo(t):t;return{pathname:n?n.startsWith("/")?n:_D(n,e):e,search:TD(r),hash:SD(i)}}function _D(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Jf(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cI(t){return wD(t).map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function hI(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Xo(t):(i=wl({},t),Qe(!i.pathname||!i.pathname.includes("?"),Jf("?","pathname","search",i)),Qe(!i.pathname||!i.pathname.includes("#"),Jf("#","pathname","hash",i)),Qe(!i.search||!i.search.includes("#"),Jf("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else if(r){let h=e[e.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h.pop();i.pathname=f.join("/")}a="/"+h.join("/")}else{let h=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=vD(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ci=t=>t.join("/").replace(/\/\/+/g,"/"),ED=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),TD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,SD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const dI=["post","put","patch","delete"];new Set(dI);const ID=["get",...dI];new Set(ID);/**
 * React Router v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hh(){return hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hh.apply(this,arguments)}const qy=E.createContext(null),AD=E.createContext(null),Yo=E.createContext(null),dd=E.createContext(null),Ri=E.createContext({outlet:null,matches:[],isDataRoute:!1}),fI=E.createContext(null);function PD(t,e){let{relative:n}=e===void 0?{}:e;Yl()||Qe(!1);let{basename:r,navigator:i}=E.useContext(Yo),{hash:s,pathname:o,search:a}=mI(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ci([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Yl(){return E.useContext(dd)!=null}function fd(){return Yl()||Qe(!1),E.useContext(dd).location}function pI(t){E.useContext(Yo).static||E.useLayoutEffect(t)}function Jl(){let{isDataRoute:t}=E.useContext(Ri);return t?UD():CD()}function CD(){Yl()||Qe(!1);let t=E.useContext(qy),{basename:e,navigator:n}=E.useContext(Yo),{matches:r}=E.useContext(Ri),{pathname:i}=fd(),s=JSON.stringify(cI(r)),o=E.useRef(!1);return pI(()=>{o.current=!0}),E.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=hI(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:ci([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}function bD(){let{matches:t}=E.useContext(Ri),e=t[t.length-1];return e?e.params:{}}function mI(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=E.useContext(Ri),{pathname:i}=fd(),s=JSON.stringify(cI(r));return E.useMemo(()=>hI(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function RD(t,e){return kD(t,e)}function kD(t,e,n){Yl()||Qe(!1);let{navigator:r}=E.useContext(Yo),{matches:i}=E.useContext(Ri),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=fd(),u;if(e){var c;let _=typeof e=="string"?Xo(e):e;a==="/"||(c=_.pathname)!=null&&c.startsWith(a)||Qe(!1),u=_}else u=l;let h=u.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",p=rD(t,{pathname:f}),g=MD(p&&p.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:ci([a,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?a:ci([a,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n);return e&&g?E.createElement(dd.Provider,{value:{location:hh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Zr.Pop}},g):g}function ND(){let t=$D(),e=xD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,s)}const DD=E.createElement(ND,null);class OD extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?E.createElement(Ri.Provider,{value:this.props.routeContext},E.createElement(fI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jD(t){let{routeContext:e,match:n,children:r}=t,i=E.useContext(qy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Ri.Provider,{value:e},r)}function MD(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Qe(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||DD);let f=e.concat(s.slice(0,u+1)),p=()=>{let g;return c?g=h:l.route.Component?g=E.createElement(l.route.Component,null):l.route.element?g=l.route.element:g=a,E.createElement(jD,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:g})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?E.createElement(OD,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}var gI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(gI||{}),dh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(dh||{});function VD(t){let e=E.useContext(qy);return e||Qe(!1),e}function LD(t){let e=E.useContext(AD);return e||Qe(!1),e}function FD(t){let e=E.useContext(Ri);return e||Qe(!1),e}function yI(t){let e=FD(),n=e.matches[e.matches.length-1];return n.route.id||Qe(!1),n.route.id}function $D(){var t;let e=E.useContext(fI),n=LD(dh.UseRouteError),r=yI(dh.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function UD(){let{router:t}=VD(gI.UseNavigateStable),e=yI(dh.UseNavigateStable),n=E.useRef(!1);return pI(()=>{n.current=!0}),E.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,hh({fromRouteId:e},s)))},[t,e])}function Ut(t){Qe(!1)}function BD(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Zr.Pop,navigator:s,static:o=!1}=t;Yl()&&Qe(!1);let a=e.replace(/^\/*/,"/"),l=E.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Xo(r));let{pathname:u="/",search:c="",hash:h="",state:f=null,key:p="default"}=r,g=E.useMemo(()=>{let _=Hy(u,a);return _==null?null:{location:{pathname:_,search:c,hash:h,state:f,key:p},navigationType:i}},[a,u,c,h,f,p,i]);return g==null?null:E.createElement(Yo.Provider,{value:l},E.createElement(dd.Provider,{children:n,value:g}))}function zD(t){let{children:e,location:n}=t;return RD(Vm(e),n)}new Promise(()=>{});function Vm(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let s=[...e,i];if(r.type===E.Fragment){n.push.apply(n,Vm(r.props.children,s));return}r.type!==Ut&&Qe(!1),!r.props.index||!r.props.children||Qe(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Vm(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lm(){return Lm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lm.apply(this,arguments)}function WD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function HD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qD(t,e){return t.button===0&&(!e||e==="_self")&&!HD(t)}const GD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],KD="startTransition",_w=zR[KD];function QD(t){let{basename:e,children:n,future:r,window:i}=t,s=E.useRef();s.current==null&&(s.current=eD({window:i,v5Compat:!0}));let o=s.current,[a,l]=E.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=E.useCallback(h=>{u&&_w?_w(()=>l(h)):l(h)},[l,u]);return E.useLayoutEffect(()=>o.listen(c),[o,c]),E.createElement(BD,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const XD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Re=E.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:h}=e,f=WD(e,GD),{basename:p}=E.useContext(Yo),g,_=!1;if(typeof u=="string"&&YD.test(u)&&(g=u,XD))try{let y=new URL(window.location.href),T=u.startsWith("//")?new URL(y.protocol+u):new URL(u),x=Hy(T.pathname,p);T.origin===y.origin&&x!=null?u=x+T.search+T.hash:_=!0}catch{}let w=PD(u,{relative:i}),v=JD(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:h});function m(y){r&&r(y),y.defaultPrevented||v(y)}return E.createElement("a",Lm({},f,{href:g||w,onClick:_||s?r:m,ref:n,target:l}))});var ww;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ww||(ww={}));var Ew;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ew||(Ew={}));function JD(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Jl(),u=fd(),c=mI(t,{relative:o});return E.useCallback(h=>{if(qD(h,n)){h.preventDefault();let f=r!==void 0?r:ch(u)===ch(c);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}var Tw={ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\Samadhi Gunasinghe\\AppData\\Roaming",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"133346409399214972",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_65576_UNDLYVPLDHCKCRZK",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"LAPTOP-9C5GKEE5",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",C_EM64T_REDIST11:"C:\\Program Files (x86)\\Common Files\\Intel\\Shared Files\\cpp\\",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_11876:"1",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Program Files\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\Samadhi Gunasinghe",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\Samadhi Gunasinghe",IGCCSVC_DB:"AQAAANCMnd8BFdERjHoAwE/Cl+sBAAAA+r0SIQn0MEiV8J3kRMyL2wQAAAACAAAAAAAQZgAAAAEAACAAAACFTw/57rngBsWMz8wvz8ZGC+5Sf9JYqekIQBJ5aGbK9wAAAAAOgAAAAAIAACAAAABrUFXOjMfqD4FY6Z350NFNIBV1/Lc5OQNMzl/E8SRBRWAAAABdJbx0QdQvdtBLWk4thTlki00ouN5E8ps0kJ6JTKHC8Zoz1tEb7u59761tBtjWWAwNwqnNQHWf3bPjmMNdB8BY+TfXQr6fKJ76Rg9TWnZcvnKJwZa/nPbj/0g+73pFH4xAAAAAdKp6/cqFcUxootI6524BNP+kVam/HPJyR05NGEOesbBQU06genlk1XJfhVPbzgi1CTwQyziyA8ni/R7+BeCttQ==",INIT_CWD:"C:\\Personal Data\\Codings\\u 'n i\\PetPals",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\Samadhi Gunasinghe\\AppData\\Local",LOGONSERVER:"\\\\LAPTOP-9C5GKEE5",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_EXE:"C:\\Program Files\\nodejs\\\\node.exe",NPM_CLI_JS:"C:\\Program Files\\nodejs\\\\node_modules\\npm\\bin\\npm-cli.js",npm_command:"run-script",npm_config_cache:"C:\\Users\\Samadhi Gunasinghe\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\Samadhi Gunasinghe\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\Samadhi Gunasinghe\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\Samadhi Gunasinghe\\.npm-init.js",npm_config_local_prefix:"C:\\Personal Data\\Codings\\u 'n i\\PetPals",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.2.3",npm_config_prefix:"C:\\Users\\Samadhi Gunasinghe\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\Samadhi Gunasinghe\\.npmrc",npm_config_user_agent:"npm/10.2.3 node/v20.10.0 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\Personal Data\\Codings\\u 'n i\\PetPals\\package.json",npm_package_name:"petpals",npm_package_version:"0.0.1",NPM_PREFIX_NPM_CLI_JS:"C:\\Users\\Samadhi Gunasinghe\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",NUMBER_OF_PROCESSORS:"8",NVM_HOME:"C:\\Users\\Samadhi Gunasinghe\\AppData\\Roaming\\nvm",NVM_SYMLINK:"C:\\Program Files\\nodejs",OANOCACHE:"1",OneDrive:"C:\\Users\\Samadhi Gunasinghe\\OneDrive",OneDriveConsumer:"C:\\Users\\Samadhi Gunasinghe\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"C:\\Personal Data\\Codings\\u 'n i\\PetPals\\node_modules\\.bin;C:\\Personal Data\\Codings\\u 'n i\\node_modules\\.bin;C:\\Personal Data\\Codings\\node_modules\\.bin;C:\\Personal Data\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Personal Data\\Codings\\u 'n i\\PetPals\\node_modules\\.bin;C:\\Personal Data\\Codings\\u 'n i\\node_modules\\.bin;C:\\Personal Data\\Codings\\node_modules\\.bin;C:\\Personal Data\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\Python312\\Scripts\\;C:\\Python312\\;C:\\Python311\\Scripts\\;C:\\Python311\\;C:\\Program Files (x86)\\Common Files\\Intel\\Shared Files\\cpp\\bin\\Intel64;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\dotnet\\;C:\\Users\\Samadhi Gunasinghe\\AppData\\Roaming\\nvm;C:\\Program Files\\nodejs;C:\\Program Files\\Microsoft VS Code\\bin;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files\\swipl\\bin;C:\\Program Files\\Polyspace\\R2021a\\runtime\\win64;C:\\Program Files\\Polyspace\\R2021a\\bin;C:\\Program Files\\nodejs\\;C:\\Program Files\\Cloudflare\\Cloudflare WARP\\;C:\\Users\\Samadhi Gunasinghe\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\Samadhi Gunasinghe\\AppData\\Roaming\\nvm;C:\\Program Files\\nodejs;C:\\Users\\Samadhi Gunasinghe\\.babun;C:\\Program Files\\MongoDB\\Server\\6.0\\bin;C:\\ProgramData\\chocolatey\\lib\\mingw\\tools\\install\\mingw64\\bin;C:\\Users\\Samadhi Gunasinghe\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\Samadhi Gunasinghe\\AppData\\Roaming\\npm",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 140 Stepping 1, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"8c01",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\Samadhi Gunasinghe\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\SAMADH~1\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.86.2",TMP:"C:\\Users\\SAMADH~1\\AppData\\Local\\Temp",USERDOMAIN:"LAPTOP-9C5GKEE5",USERDOMAIN_ROAMINGPROFILE:"LAPTOP-9C5GKEE5",USERNAME:"Samadhi Gunasinghe",USERPROFILE:"C:\\Users\\Samadhi Gunasinghe",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Program Files\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Program Files\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-f0ac33f5d6-sock",VSCODE_INJECTION:"1",windir:"C:\\WINDOWS",ZES_ENABLE_SYSMAN:"1"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ZD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},_I={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[c],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(vI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ZD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new eO;const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class eO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tO=function(t){const e=vI(t);return _I.encodeByteArray(e,!0)},fh=function(t){return tO(t).replace(/\./g,"")},wI=function(t){try{return _I.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=()=>nO().__FIREBASE_DEFAULTS__,iO=()=>{if(typeof process>"u"||typeof Tw>"u")return;const t=Tw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wI(t[1]);return e&&JSON.parse(e)},pd=()=>{try{return rO()||iO()||sO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},EI=t=>{var e,n;return(n=(e=pd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},TI=t=>{const e=EI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},SI=()=>{var t;return(t=pd())===null||t===void 0?void 0:t.config},xI=t=>{var e;return(e=pd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[fh(JSON.stringify(n)),fh(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function lO(){var t;const e=(t=pd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hO(){const t=Xe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dO(){return!lO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AI(){try{return typeof indexedDB=="object"}catch{return!1}}function fO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="FirebaseError";class nr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=pO,Object.setPrototypeOf(this,nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zl.prototype.create)}}class Zl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?mO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new nr(i,a,r)}}function mO(t,e){return t.replace(gO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const gO=/\{\$([^}]+)}/g;function yO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ph(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Sw(s)&&Sw(o)){if(!ph(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Sw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Aa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Pa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function vO(t,e){const n=new _O(t,e);return n.subscribe.bind(n)}class _O{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Zf),i.error===void 0&&(i.error=Zf),i.complete===void 0&&(i.complete=Zf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Zf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t){return t&&t._delegate?t._delegate:t}class _i{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new oO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SO(e))try{this.getOrInitializeService({instanceIdentifier:qi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=qi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qi){return this.instances.has(e)}getOptions(e=qi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qi){return this.component?this.component.multipleInstances?e:qi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TO(t){return t===qi?void 0:t}function SO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new EO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ie||(ie={}));const IO={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},AO=ie.INFO,PO={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},CO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=PO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gy{constructor(e){this.name=e,this._logLevel=AO,this._logHandler=CO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}}const bO=(t,e)=>e.some(n=>t instanceof n);let xw,Iw;function RO(){return xw||(xw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kO(){return Iw||(Iw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PI=new WeakMap,Fm=new WeakMap,CI=new WeakMap,ep=new WeakMap,Ky=new WeakMap;function NO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(hi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&PI.set(n,t)}).catch(()=>{}),Ky.set(e,t),e}function DO(t){if(Fm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Fm.set(t,e)}let $m={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OO(t){$m=t($m)}function jO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(tp(this),e,...n);return CI.set(r,e.sort?e.sort():[e]),hi(r)}:kO().includes(t)?function(...e){return t.apply(tp(this),e),hi(PI.get(this))}:function(...e){return hi(t.apply(tp(this),e))}}function MO(t){return typeof t=="function"?jO(t):(t instanceof IDBTransaction&&DO(t),bO(t,RO())?new Proxy(t,$m):t)}function hi(t){if(t instanceof IDBRequest)return NO(t);if(ep.has(t))return ep.get(t);const e=MO(t);return e!==t&&(ep.set(t,e),Ky.set(e,t)),e}const tp=t=>Ky.get(t);function VO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=hi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(hi(o.result),l.oldVersion,l.newVersion,hi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const LO=["get","getKey","getAll","getAllKeys","count"],FO=["put","add","delete","clear"],np=new Map;function Aw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(np.get(e))return np.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=FO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||LO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return np.set(e,s),s}OO(t=>({...t,get:(e,n,r)=>Aw(e,n)||t.get(e,n,r),has:(e,n)=>!!Aw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function UO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Um="@firebase/app",Pw="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new Gy("@firebase/app"),BO="@firebase/app-compat",zO="@firebase/analytics-compat",WO="@firebase/analytics",HO="@firebase/app-check-compat",qO="@firebase/app-check",GO="@firebase/auth",KO="@firebase/auth-compat",QO="@firebase/database",XO="@firebase/database-compat",YO="@firebase/functions",JO="@firebase/functions-compat",ZO="@firebase/installations",ej="@firebase/installations-compat",tj="@firebase/messaging",nj="@firebase/messaging-compat",rj="@firebase/performance",ij="@firebase/performance-compat",sj="@firebase/remote-config",oj="@firebase/remote-config-compat",aj="@firebase/storage",lj="@firebase/storage-compat",uj="@firebase/firestore",cj="@firebase/firestore-compat",hj="firebase",dj="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="[DEFAULT]",fj={[Um]:"fire-core",[BO]:"fire-core-compat",[WO]:"fire-analytics",[zO]:"fire-analytics-compat",[qO]:"fire-app-check",[HO]:"fire-app-check-compat",[GO]:"fire-auth",[KO]:"fire-auth-compat",[QO]:"fire-rtdb",[XO]:"fire-rtdb-compat",[YO]:"fire-fn",[JO]:"fire-fn-compat",[ZO]:"fire-iid",[ej]:"fire-iid-compat",[tj]:"fire-fcm",[nj]:"fire-fcm-compat",[rj]:"fire-perf",[ij]:"fire-perf-compat",[sj]:"fire-rc",[oj]:"fire-rc-compat",[aj]:"fire-gcs",[lj]:"fire-gcs-compat",[uj]:"fire-fst",[cj]:"fire-fst-compat","fire-js":"fire-js",[hj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new Map,zm=new Map;function pj(t,e){try{t.container.addComponent(e)}catch(n){vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _s(t){const e=t.name;if(zm.has(e))return vs.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,t);for(const n of mh.values())pj(n,t);return!0}function md(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},di=new Zl("app","Firebase",mj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _i("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw di.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=dj;function bI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Bm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw di.create("bad-app-name",{appName:String(i)});if(n||(n=SI()),!n)throw di.create("no-options");const s=mh.get(i);if(s){if(ph(n,s.options)&&ph(r,s.config))return s;throw di.create("duplicate-app",{appName:i})}const o=new xO(i);for(const l of zm.values())o.addComponent(l);const a=new gj(n,r,o);return mh.set(i,a),a}function Qy(t=Bm){const e=mh.get(t);if(!e&&t===Bm&&SI())return bI();if(!e)throw di.create("no-app",{appName:t});return e}function qn(t,e,n){var r;let i=(r=fj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vs.warn(a.join(" "));return}_s(new _i(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj="firebase-heartbeat-database",vj=1,El="firebase-heartbeat-store";let rp=null;function RI(){return rp||(rp=VO(yj,vj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(El)}catch(n){console.warn(n)}}}}).catch(t=>{throw di.create("idb-open",{originalErrorMessage:t.message})})),rp}async function _j(t){try{const n=(await RI()).transaction(El),r=await n.objectStore(El).get(kI(t));return await n.done,r}catch(e){if(e instanceof nr)vs.warn(e.message);else{const n=di.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vs.warn(n.message)}}}async function Cw(t,e){try{const r=(await RI()).transaction(El,"readwrite");await r.objectStore(El).put(e,kI(t)),await r.done}catch(n){if(n instanceof nr)vs.warn(n.message);else{const r=di.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vs.warn(r.message)}}}function kI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj=1024,Ej=30*24*60*60*1e3;class Tj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=bw();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Ej}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bw(),{heartbeatsToSend:r,unsentEntries:i}=Sj(this._heartbeatsCache.heartbeats),s=fh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function bw(){return new Date().toISOString().substring(0,10)}function Sj(t,e=wj){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Rw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Rw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AI()?fO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _j(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Rw(t){return fh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ij(t){_s(new _i("platform-logger",e=>new $O(e),"PRIVATE")),_s(new _i("heartbeat",e=>new Tj(e),"PRIVATE")),qn(Um,Pw,t),qn(Um,Pw,"esm2017"),qn("fire-js","")}Ij("");var Aj="firebase",Pj="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn(Aj,Pj,"app");var Cj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},O,Xy=Xy||{},J=Cj||self;function gd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function tu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function bj(t){return Object.prototype.hasOwnProperty.call(t,ip)&&t[ip]||(t[ip]=++Rj)}var ip="closure_uid_"+(1e9*Math.random()>>>0),Rj=0;function kj(t,e,n){return t.call.apply(t.bind,arguments)}function Nj(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function At(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?At=kj:At=Nj,At.apply(null,arguments)}function Ku(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ot(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ki(){this.s=this.s,this.o=this.o}var Dj=0;ki.prototype.s=!1;ki.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Dj!=0)&&bj(this)};ki.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const NI=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Yy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function kw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(gd(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Pt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Pt.prototype.h=function(){this.defaultPrevented=!0};var Oj=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};J.addEventListener("test",n,e),J.removeEventListener("test",n,e)}catch{}return t}();function Tl(t){return/^[\s\xa0]*$/.test(t)}function yd(){var t=J.navigator;return t&&(t=t.userAgent)?t:""}function Fn(t){return yd().indexOf(t)!=-1}function Jy(t){return Jy[" "](t),t}Jy[" "]=function(){};function jj(t,e){var n=PM;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Mj=Fn("Opera"),No=Fn("Trident")||Fn("MSIE"),DI=Fn("Edge"),Wm=DI||No,OI=Fn("Gecko")&&!(yd().toLowerCase().indexOf("webkit")!=-1&&!Fn("Edge"))&&!(Fn("Trident")||Fn("MSIE"))&&!Fn("Edge"),Vj=yd().toLowerCase().indexOf("webkit")!=-1&&!Fn("Edge");function jI(){var t=J.document;return t?t.documentMode:void 0}var Hm;e:{var sp="",op=function(){var t=yd();if(OI)return/rv:([^\);]+)(\)|;)/.exec(t);if(DI)return/Edge\/([\d\.]+)/.exec(t);if(No)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Vj)return/WebKit\/(\S+)/.exec(t);if(Mj)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(op&&(sp=op?op[1]:""),No){var ap=jI();if(ap!=null&&ap>parseFloat(sp)){Hm=String(ap);break e}}Hm=sp}var qm;if(J.document&&No){var Nw=jI();qm=Nw||parseInt(Hm,10)||void 0}else qm=void 0;var Lj=qm;function Sl(t,e){if(Pt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(OI){e:{try{Jy(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Fj[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Sl.$.h.call(this)}}ot(Sl,Pt);var Fj={2:"touch",3:"pen",4:"mouse"};Sl.prototype.h=function(){Sl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var nu="closure_listenable_"+(1e6*Math.random()|0),$j=0;function Uj(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++$j,this.fa=this.ia=!1}function vd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Zy(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Bj(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function MI(t){const e={};for(const n in t)e[n]=t[n];return e}const Dw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function VI(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Dw.length;s++)n=Dw[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function _d(t){this.src=t,this.g={},this.h=0}_d.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Km(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new Uj(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Gm(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=NI(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(vd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Km(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var ev="closure_lm_"+(1e6*Math.random()|0),lp={};function LI(t,e,n,r,i){if(r&&r.once)return $I(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)LI(t,e[s],n,r,i);return null}return n=rv(n),t&&t[nu]?t.O(e,n,tu(r)?!!r.capture:!!r,i):FI(t,e,n,!1,r,i)}function FI(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=tu(i)?!!i.capture:!!i,a=nv(t);if(a||(t[ev]=a=new _d(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=zj(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Oj||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(BI(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function zj(){function t(n){return e.call(t.src,t.listener,n)}const e=Wj;return t}function $I(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)$I(t,e[s],n,r,i);return null}return n=rv(n),t&&t[nu]?t.P(e,n,tu(r)?!!r.capture:!!r,i):FI(t,e,n,!0,r,i)}function UI(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)UI(t,e[s],n,r,i);else r=tu(r)?!!r.capture:!!r,n=rv(n),t&&t[nu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Km(s,n,r,i),-1<n&&(vd(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=nv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Km(e,n,r,i)),(n=-1<t?e[t]:null)&&tv(n))}function tv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[nu])Gm(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(BI(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=nv(e))?(Gm(n,t),n.h==0&&(n.src=null,e[ev]=null)):vd(t)}}}function BI(t){return t in lp?lp[t]:lp[t]="on"+t}function Wj(t,e){if(t.fa)t=!0;else{e=new Sl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&tv(t),t=n.call(r,e)}return t}function nv(t){return t=t[ev],t instanceof _d?t:null}var up="__closure_events_fn_"+(1e9*Math.random()>>>0);function rv(t){return typeof t=="function"?t:(t[up]||(t[up]=function(e){return t.handleEvent(e)}),t[up])}function st(){ki.call(this),this.i=new _d(this),this.S=this,this.J=null}ot(st,ki);st.prototype[nu]=!0;st.prototype.removeEventListener=function(t,e,n,r){UI(this,t,e,n,r)};function mt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Pt(e,t);else if(e instanceof Pt)e.target=e.target||t;else{var i=e;e=new Pt(r,t),VI(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Qu(o,r,!0,e)&&i}if(o=e.g=t,i=Qu(o,r,!0,e)&&i,i=Qu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Qu(o,r,!1,e)&&i}st.prototype.N=function(){if(st.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)vd(n[r]);delete t.g[e],t.h--}}this.J=null};st.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};st.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Qu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Gm(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var iv=J.JSON.stringify;class Hj{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function qj(){var t=sv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Gj{constructor(){this.h=this.g=null}add(e,n){const r=zI.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var zI=new Hj(()=>new Kj,t=>t.reset());class Kj{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Qj(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Xj(t){J.setTimeout(()=>{throw t},0)}let xl,Il=!1,sv=new Gj,WI=()=>{const t=J.Promise.resolve(void 0);xl=()=>{t.then(Yj)}};var Yj=()=>{for(var t;t=qj();){try{t.h.call(t.g)}catch(n){Xj(n)}var e=zI;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Il=!1};function wd(t,e){st.call(this),this.h=t||1,this.g=e||J,this.j=At(this.qb,this),this.l=Date.now()}ot(wd,st);O=wd.prototype;O.ga=!1;O.T=null;O.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),mt(this,"tick"),this.ga&&(ov(this),this.start()))}};O.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ov(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}O.N=function(){wd.$.N.call(this),ov(this),delete this.g};function av(t,e,n){if(typeof t=="function")n&&(t=At(t,n));else if(t&&typeof t.handleEvent=="function")t=At(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:J.setTimeout(t,e||0)}function HI(t){t.g=av(()=>{t.g=null,t.i&&(t.i=!1,HI(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Jj extends ki{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:HI(this)}N(){super.N(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Al(t){ki.call(this),this.h=t,this.g={}}ot(Al,ki);var Ow=[];function qI(t,e,n,r){Array.isArray(n)||(n&&(Ow[0]=n.toString()),n=Ow);for(var i=0;i<n.length;i++){var s=LI(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function GI(t){Zy(t.g,function(e,n){this.g.hasOwnProperty(n)&&tv(e)},t),t.g={}}Al.prototype.N=function(){Al.$.N.call(this),GI(this)};Al.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ed(){this.g=!0}Ed.prototype.Ea=function(){this.g=!1};function Zj(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function eM(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ao(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+nM(t,n)+(r?" "+r:"")})}function tM(t,e){t.info(function(){return"TIMEOUT: "+e})}Ed.prototype.info=function(){};function nM(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return iv(n)}catch{return e}}var ks={},jw=null;function Td(){return jw=jw||new st}ks.Ta="serverreachability";function KI(t){Pt.call(this,ks.Ta,t)}ot(KI,Pt);function Pl(t){const e=Td();mt(e,new KI(e))}ks.STAT_EVENT="statevent";function QI(t,e){Pt.call(this,ks.STAT_EVENT,t),this.stat=e}ot(QI,Pt);function jt(t){const e=Td();mt(e,new QI(e,t))}ks.Ua="timingevent";function XI(t,e){Pt.call(this,ks.Ua,t),this.size=e}ot(XI,Pt);function ru(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){t()},e)}var Sd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},YI={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function lv(){}lv.prototype.h=null;function Mw(t){return t.h||(t.h=t.i())}function JI(){}var iu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function uv(){Pt.call(this,"d")}ot(uv,Pt);function cv(){Pt.call(this,"c")}ot(cv,Pt);var Qm;function xd(){}ot(xd,lv);xd.prototype.g=function(){return new XMLHttpRequest};xd.prototype.i=function(){return{}};Qm=new xd;function su(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Al(this),this.P=rM,t=Wm?125:void 0,this.V=new wd(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ZI}function ZI(){this.i=null,this.g="",this.h=!1}var rM=45e3,eA={},Xm={};O=su.prototype;O.setTimeout=function(t){this.P=t};function Ym(t,e,n){t.L=1,t.A=Ad(Pr(e)),t.u=n,t.S=!0,tA(t,null)}function tA(t,e){t.G=Date.now(),ou(t),t.B=Pr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),uA(n.i,"t",r),t.o=0,n=t.l.J,t.h=new ZI,t.g=RA(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Jj(At(t.Pa,t,t.g),t.O)),qI(t.U,t.g,"readystatechange",t.nb),e=t.I?MI(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Pl(),Zj(t.j,t.v,t.B,t.m,t.W,t.u)}O.nb=function(t){t=t.target;const e=this.M;e&&$n(t)==3?e.l():this.Pa(t)};O.Pa=function(t){try{if(t==this.g)e:{const c=$n(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||Wm||this.g&&(this.h.h||this.g.ja()||$w(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?Pl(3):Pl(2)),Id(this);var n=this.g.da();this.ca=n;t:if(nA(this)){var r=$w(this.g);t="";var i=r.length,s=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ts(this),za(this);var o="";break t}this.h.i=new J.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,eM(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tl(a)){var u=a;break t}}u=null}if(n=u)ao(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Jm(this,n);else{this.i=!1,this.s=3,jt(12),ts(this),za(this);break e}}this.S?(rA(this,c,o),Wm&&this.i&&c==3&&(qI(this.U,this.V,"tick",this.mb),this.V.start())):(ao(this.j,this.m,o,null),Jm(this,o)),c==4&&ts(this),this.i&&!this.J&&(c==4?AA(this.l,this):(this.i=!1,ou(this)))}else xM(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,jt(12)):(this.s=0,jt(13)),ts(this),za(this)}}}catch{}finally{}};function nA(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function rA(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=iM(t,n),i==Xm){e==4&&(t.s=4,jt(14),r=!1),ao(t.j,t.m,null,"[Incomplete Response]");break}else if(i==eA){t.s=4,jt(15),ao(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ao(t.j,t.m,i,null),Jm(t,i);nA(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,jt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),gv(e),e.M=!0,jt(11))):(ao(t.j,t.m,n,"[Invalid Chunked Response]"),ts(t),za(t))}O.mb=function(){if(this.g){var t=$n(this.g),e=this.g.ja();this.o<e.length&&(Id(this),rA(this,t,e),this.i&&t!=4&&ou(this))}};function iM(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Xm:(n=Number(e.substring(n,r)),isNaN(n)?eA:(r+=1,r+n>e.length?Xm:(e=e.slice(r,r+n),t.o=r+n,e)))}O.cancel=function(){this.J=!0,ts(this)};function ou(t){t.Y=Date.now()+t.P,iA(t,t.P)}function iA(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ru(At(t.lb,t),e)}function Id(t){t.C&&(J.clearTimeout(t.C),t.C=null)}O.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(tM(this.j,this.B),this.L!=2&&(Pl(),jt(17)),ts(this),this.s=2,za(this)):iA(this,this.Y-t)};function za(t){t.l.H==0||t.J||AA(t.l,t)}function ts(t){Id(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,ov(t.V),GI(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Jm(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Zm(n.i,t))){if(!t.K&&Zm(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)vh(n),Rd(n);else break e;mv(n),jt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ru(At(n.ib,n),6e3));if(1>=dA(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ns(n,11)}else if((t.K||n.g==t)&&vh(n),!Tl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(hv(s,s.h),s.h=null))}if(r.F){const _=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,Se(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=bA(r,r.J?r.pa:null,r.Y),o.K){fA(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Id(a),ou(a)),r.g=o}else xA(r);0<n.j.length&&kd(n)}else u[0]!="stop"&&u[0]!="close"||ns(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ns(n,7):pv(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Pl(4)}catch{}}function sM(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(gd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function oM(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(gd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function sA(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(gd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=oM(t),r=sM(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var oA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aM(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function us(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof us){this.h=t.h,gh(this,t.j),this.s=t.s,this.g=t.g,yh(this,t.m),this.l=t.l;var e=t.i,n=new Cl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Vw(this,n),this.o=t.o}else t&&(e=String(t).match(oA))?(this.h=!1,gh(this,e[1]||"",!0),this.s=Ca(e[2]||""),this.g=Ca(e[3]||"",!0),yh(this,e[4]),this.l=Ca(e[5]||"",!0),Vw(this,e[6]||"",!0),this.o=Ca(e[7]||"")):(this.h=!1,this.i=new Cl(null,this.h))}us.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ba(e,Lw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ba(e,Lw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ba(n,n.charAt(0)=="/"?cM:uM,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ba(n,dM)),t.join("")};function Pr(t){return new us(t)}function gh(t,e,n){t.j=n?Ca(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function yh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Vw(t,e,n){e instanceof Cl?(t.i=e,fM(t.i,t.h)):(n||(e=ba(e,hM)),t.i=new Cl(e,t.h))}function Se(t,e,n){t.i.set(e,n)}function Ad(t){return Se(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ca(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ba(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,lM),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function lM(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Lw=/[#\/\?@]/g,uM=/[#\?:]/g,cM=/[#\?]/g,hM=/[#\?@]/g,dM=/#/g;function Cl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ni(t){t.g||(t.g=new Map,t.h=0,t.i&&aM(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}O=Cl.prototype;O.add=function(t,e){Ni(this),this.i=null,t=Jo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function aA(t,e){Ni(t),e=Jo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function lA(t,e){return Ni(t),e=Jo(t,e),t.g.has(e)}O.forEach=function(t,e){Ni(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};O.ta=function(){Ni(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};O.Z=function(t){Ni(this);let e=[];if(typeof t=="string")lA(this,t)&&(e=e.concat(this.g.get(Jo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};O.set=function(t,e){return Ni(this),this.i=null,t=Jo(this,t),lA(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};O.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function uA(t,e,n){aA(t,e),0<n.length&&(t.i=null,t.g.set(Jo(t,e),Yy(n)),t.h+=n.length)}O.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Jo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function fM(t,e){e&&!t.j&&(Ni(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(aA(this,r),uA(this,i,n))},t)),t.j=e}var pM=class{constructor(t,e){this.g=t,this.map=e}};function cA(t){this.l=t||mM,J.PerformanceNavigationTiming?(t=J.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(J.g&&J.g.Ka&&J.g.Ka()&&J.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var mM=10;function hA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function dA(t){return t.h?1:t.g?t.g.size:0}function Zm(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function hv(t,e){t.g?t.g.add(e):t.h=e}function fA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}cA.prototype.cancel=function(){if(this.i=pA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function pA(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Yy(t.i)}var gM=class{stringify(t){return J.JSON.stringify(t,void 0)}parse(t){return J.JSON.parse(t,void 0)}};function yM(){this.g=new gM}function vM(t,e,n){const r=n||"";try{sA(t,function(i,s){let o=i;tu(i)&&(o=iv(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function _M(t,e){const n=new Ed;if(J.Image){const r=new Image;r.onload=Ku(Xu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ku(Xu,n,r,"TestLoadImage: error",!1,e),r.onabort=Ku(Xu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ku(Xu,n,r,"TestLoadImage: timeout",!1,e),J.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Xu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Pd(t){this.l=t.ec||null,this.j=t.ob||!1}ot(Pd,lv);Pd.prototype.g=function(){return new Cd(this.l,this.j)};Pd.prototype.i=function(t){return function(){return t}}({});function Cd(t,e){st.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=dv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ot(Cd,st);var dv=0;O=Cd.prototype;O.open=function(t,e){if(this.readyState!=dv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,bl(this)};O.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||J).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};O.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,au(this)),this.readyState=dv};O.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,bl(this)),this.g&&(this.readyState=3,bl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof J.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mA(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function mA(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}O.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?au(this):bl(this),this.readyState==3&&mA(this)}};O.Za=function(t){this.g&&(this.response=this.responseText=t,au(this))};O.Ya=function(t){this.g&&(this.response=t,au(this))};O.ka=function(){this.g&&au(this)};function au(t){t.readyState=4,t.l=null,t.j=null,t.A=null,bl(t)}O.setRequestHeader=function(t,e){this.v.append(t,e)};O.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};O.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function bl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Cd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var wM=J.JSON.parse;function Fe(t){st.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=gA,this.L=this.M=!1}ot(Fe,st);var gA="",EM=/^https?$/i,TM=["POST","PUT"];O=Fe.prototype;O.Oa=function(t){this.M=t};O.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Qm.g(),this.C=this.u?Mw(this.u):Mw(Qm),this.g.onreadystatechange=At(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Fw(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=J.FormData&&t instanceof J.FormData,!(0<=NI(TM,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_A(this),0<this.B&&((this.L=SM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=At(this.ua,this)):this.A=av(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Fw(this,s)}};function SM(t){return No&&typeof t.timeout=="number"&&t.ontimeout!==void 0}O.ua=function(){typeof Xy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mt(this,"timeout"),this.abort(8))};function Fw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,yA(t),bd(t)}function yA(t){t.F||(t.F=!0,mt(t,"complete"),mt(t,"error"))}O.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,mt(this,"complete"),mt(this,"abort"),bd(this))};O.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bd(this,!0)),Fe.$.N.call(this)};O.La=function(){this.s||(this.G||this.v||this.l?vA(this):this.kb())};O.kb=function(){vA(this)};function vA(t){if(t.h&&typeof Xy<"u"&&(!t.C[1]||$n(t)!=4||t.da()!=2)){if(t.v&&$n(t)==4)av(t.La,0,t);else if(mt(t,"readystatechange"),$n(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(oA)[1]||null;!i&&J.self&&J.self.location&&(i=J.self.location.protocol.slice(0,-1)),r=!EM.test(i?i.toLowerCase():"")}n=r}if(n)mt(t,"complete"),mt(t,"success");else{t.m=6;try{var s=2<$n(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",yA(t)}}finally{bd(t)}}}}function bd(t,e){if(t.g){_A(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||mt(t,"ready");try{n.onreadystatechange=r}catch{}}}function _A(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(J.clearTimeout(t.A),t.A=null)}O.isActive=function(){return!!this.g};function $n(t){return t.g?t.g.readyState:0}O.da=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}};O.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};O.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),wM(e)}};function $w(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case gA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function xM(t){const e={};t=(t.g&&2<=$n(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Tl(t[r]))continue;var n=Qj(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}Bj(e,function(r){return r.join(", ")})}O.Ia=function(){return this.m};O.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function wA(t){let e="";return Zy(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function fv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=wA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Se(t,e,n))}function pa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function EA(t){this.Ga=0,this.j=[],this.l=new Ed,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=pa("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=pa("baseRetryDelayMs",5e3,t),this.hb=pa("retryDelaySeedMs",1e4,t),this.eb=pa("forwardChannelMaxRetries",2,t),this.xa=pa("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new cA(t&&t.concurrentRequestLimit),this.Ja=new yM,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}O=EA.prototype;O.ra=8;O.H=1;function pv(t){if(TA(t),t.H==3){var e=t.W++,n=Pr(t.I);if(Se(n,"SID",t.K),Se(n,"RID",e),Se(n,"TYPE","terminate"),lu(t,n),e=new su(t,t.l,e),e.L=2,e.A=Ad(Pr(n)),n=!1,J.navigator&&J.navigator.sendBeacon)try{n=J.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&J.Image&&(new Image().src=e.A,n=!0),n||(e.g=RA(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ou(e)}CA(t)}function Rd(t){t.g&&(gv(t),t.g.cancel(),t.g=null)}function TA(t){Rd(t),t.u&&(J.clearTimeout(t.u),t.u=null),vh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&J.clearTimeout(t.m),t.m=null)}function kd(t){if(!hA(t.i)&&!t.m){t.m=!0;var e=t.Na;xl||WI(),Il||(xl(),Il=!0),sv.add(e,t),t.C=0}}function IM(t,e){return dA(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ru(At(t.Na,t,e),PA(t,t.C)),t.C++,!0)}O.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new su(this,this.l,t);let s=this.s;if(this.U&&(s?(s=MI(s),VI(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=SA(this,i,e),n=Pr(this.I),Se(n,"RID",t),Se(n,"CVER",22),this.F&&Se(n,"X-HTTP-Session-Id",this.F),lu(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(wA(s)))+"&"+e:this.o&&fv(n,this.o,s)),hv(this.i,i),this.bb&&Se(n,"TYPE","init"),this.P?(Se(n,"$req",e),Se(n,"SID","null"),i.aa=!0,Ym(i,n,null)):Ym(i,n,e),this.H=2}}else this.H==3&&(t?Uw(this,t):this.j.length==0||hA(this.i)||Uw(this))};function Uw(t,e){var n;e?n=e.m:n=t.W++;const r=Pr(t.I);Se(r,"SID",t.K),Se(r,"RID",n),Se(r,"AID",t.V),lu(t,r),t.o&&t.s&&fv(r,t.o,t.s),n=new su(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=SA(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),hv(t.i,n),Ym(n,r,e)}function lu(t,e){t.na&&Zy(t.na,function(n,r){Se(e,r,n)}),t.h&&sA({},function(n,r){Se(e,r,n)})}function SA(t,e,n){n=Math.min(t.j.length,n);var r=t.h?At(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{vM(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function xA(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;xl||WI(),Il||(xl(),Il=!0),sv.add(e,t),t.A=0}}function mv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ru(At(t.Ma,t),PA(t,t.A)),t.A++,!0)}O.Ma=function(){if(this.u=null,IA(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ru(At(this.jb,this),t)}};O.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,jt(10),Rd(this),IA(this))};function gv(t){t.B!=null&&(J.clearTimeout(t.B),t.B=null)}function IA(t){t.g=new su(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Pr(t.wa);Se(e,"RID","rpc"),Se(e,"SID",t.K),Se(e,"AID",t.V),Se(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Se(e,"TO",t.qa),Se(e,"TYPE","xmlhttp"),lu(t,e),t.o&&t.s&&fv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Ad(Pr(e)),n.u=null,n.S=!0,tA(n,t)}O.ib=function(){this.v!=null&&(this.v=null,Rd(this),mv(this),jt(19))};function vh(t){t.v!=null&&(J.clearTimeout(t.v),t.v=null)}function AA(t,e){var n=null;if(t.g==e){vh(t),gv(t),t.g=null;var r=2}else if(Zm(t.i,e))n=e.F,fA(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Td(),mt(r,new XI(r,n)),kd(t)}else xA(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&IM(t,e)||r==2&&mv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ns(t,5);break;case 4:ns(t,10);break;case 3:ns(t,6);break;default:ns(t,2)}}}function PA(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ns(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=At(t.pb,t);n||(n=new us("//www.google.com/images/cleardot.gif"),J.location&&J.location.protocol=="http"||gh(n,"https"),Ad(n)),_M(n.toString(),r)}else jt(2);t.H=0,t.h&&t.h.za(e),CA(t),TA(t)}O.pb=function(t){t?(this.l.info("Successfully pinged google.com"),jt(2)):(this.l.info("Failed to ping google.com"),jt(1))};function CA(t){if(t.H=0,t.ma=[],t.h){const e=pA(t.i);(e.length!=0||t.j.length!=0)&&(kw(t.ma,e),kw(t.ma,t.j),t.i.i.length=0,Yy(t.j),t.j.length=0),t.h.ya()}}function bA(t,e,n){var r=n instanceof us?Pr(n):new us(n);if(r.g!="")e&&(r.g=e+"."+r.g),yh(r,r.m);else{var i=J.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new us(null);r&&gh(s,r),e&&(s.g=e),i&&yh(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&Se(r,n,e),Se(r,"VER",t.ra),lu(t,r),r}function RA(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Fe(new Pd({ob:n})):new Fe(t.va),e.Oa(t.J),e}O.isActive=function(){return!!this.h&&this.h.isActive(this)};function kA(){}O=kA.prototype;O.Ba=function(){};O.Aa=function(){};O.za=function(){};O.ya=function(){};O.isActive=function(){return!0};O.Va=function(){};function _h(){if(No&&!(10<=Number(Lj)))throw Error("Environmental error: no available transport.")}_h.prototype.g=function(t,e){return new an(t,e)};function an(t,e){st.call(this),this.g=new EA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Tl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Tl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Zo(this)}ot(an,st);an.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;jt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=bA(t,null,t.Y),kd(t)};an.prototype.close=function(){pv(this.g)};an.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=iv(t),t=n);e.j.push(new pM(e.fb++,t)),e.H==3&&kd(e)};an.prototype.N=function(){this.g.h=null,delete this.j,pv(this.g),delete this.g,an.$.N.call(this)};function NA(t){uv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ot(NA,uv);function DA(){cv.call(this),this.status=1}ot(DA,cv);function Zo(t){this.g=t}ot(Zo,kA);Zo.prototype.Ba=function(){mt(this.g,"a")};Zo.prototype.Aa=function(t){mt(this.g,new NA(t))};Zo.prototype.za=function(t){mt(this.g,new DA)};Zo.prototype.ya=function(){mt(this.g,"b")};function AM(){this.blockSize=-1}function Rn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ot(Rn,AM);Rn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function cp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Rn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)cp(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){cp(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){cp(this,r),i=0;break}}this.h=i,this.i+=e};Rn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function fe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var PM={};function yv(t){return-128<=t&&128>t?jj(t,function(e){return new fe([e|0],0>e?-1:0)}):new fe([t|0],0>t?-1:0)}function Un(t){if(isNaN(t)||!isFinite(t))return wo;if(0>t)return dt(Un(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=eg;return new fe(e,0)}function OA(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return dt(OA(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Un(Math.pow(e,8)),r=wo,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Un(Math.pow(e,s)),r=r.R(s).add(Un(o))):(r=r.R(n),r=r.add(Un(o)))}return r}var eg=4294967296,wo=yv(0),tg=yv(1),Bw=yv(16777216);O=fe.prototype;O.ea=function(){if(gn(this))return-dt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:eg+r)*e,e*=eg}return t};O.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(fr(this))return"0";if(gn(this))return"-"+dt(this).toString(t);for(var e=Un(Math.pow(t,6)),n=this,r="";;){var i=Eh(n,e).g;n=wh(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,fr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};O.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function fr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function gn(t){return t.h==-1}O.X=function(t){return t=wh(this,t),gn(t)?-1:fr(t)?0:1};function dt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new fe(n,~t.h).add(tg)}O.abs=function(){return gn(this)?dt(this):this};O.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new fe(n,n[n.length-1]&-2147483648?-1:0)};function wh(t,e){return t.add(dt(e))}O.R=function(t){if(fr(this)||fr(t))return wo;if(gn(this))return gn(t)?dt(this).R(dt(t)):dt(dt(this).R(t));if(gn(t))return dt(this.R(dt(t)));if(0>this.X(Bw)&&0>t.X(Bw))return Un(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Yu(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Yu(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Yu(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Yu(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new fe(n,0)};function Yu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ma(t,e){this.g=t,this.h=e}function Eh(t,e){if(fr(e))throw Error("division by zero");if(fr(t))return new ma(wo,wo);if(gn(t))return e=Eh(dt(t),e),new ma(dt(e.g),dt(e.h));if(gn(e))return e=Eh(t,dt(e)),new ma(dt(e.g),e.h);if(30<t.g.length){if(gn(t)||gn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=tg,r=e;0>=r.X(t);)n=zw(n),r=zw(r);var i=Ws(n,1),s=Ws(r,1);for(r=Ws(r,2),n=Ws(n,2);!fr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ws(r,1),n=Ws(n,1)}return e=wh(t,i.R(e)),new ma(i,e)}for(i=wo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Un(n),o=s.R(e);gn(o)||0<o.X(t);)n-=r,s=Un(n),o=s.R(e);fr(s)&&(s=tg),i=i.add(s),t=wh(t,o)}return new ma(i,t)}O.gb=function(t){return Eh(this,t).h};O.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new fe(n,this.h&t.h)};O.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new fe(n,this.h|t.h)};O.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new fe(n,this.h^t.h)};function zw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new fe(n,t.h)}function Ws(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new fe(i,t.h)}_h.prototype.createWebChannel=_h.prototype.g;an.prototype.send=an.prototype.u;an.prototype.open=an.prototype.m;an.prototype.close=an.prototype.close;Sd.NO_ERROR=0;Sd.TIMEOUT=8;Sd.HTTP_ERROR=6;YI.COMPLETE="complete";JI.EventType=iu;iu.OPEN="a";iu.CLOSE="b";iu.ERROR="c";iu.MESSAGE="d";st.prototype.listen=st.prototype.O;Fe.prototype.listenOnce=Fe.prototype.P;Fe.prototype.getLastError=Fe.prototype.Sa;Fe.prototype.getLastErrorCode=Fe.prototype.Ia;Fe.prototype.getStatus=Fe.prototype.da;Fe.prototype.getResponseJson=Fe.prototype.Wa;Fe.prototype.getResponseText=Fe.prototype.ja;Fe.prototype.send=Fe.prototype.ha;Fe.prototype.setWithCredentials=Fe.prototype.Oa;Rn.prototype.digest=Rn.prototype.l;Rn.prototype.reset=Rn.prototype.reset;Rn.prototype.update=Rn.prototype.j;fe.prototype.add=fe.prototype.add;fe.prototype.multiply=fe.prototype.R;fe.prototype.modulo=fe.prototype.gb;fe.prototype.compare=fe.prototype.X;fe.prototype.toNumber=fe.prototype.ea;fe.prototype.toString=fe.prototype.toString;fe.prototype.getBits=fe.prototype.D;fe.fromNumber=Un;fe.fromString=OA;var CM=function(){return new _h},bM=function(){return Td()},hp=Sd,RM=YI,kM=ks,Ww={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ju=JI,NM=Fe,DM=Rn,Eo=fe;const Hw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}St.UNAUTHENTICATED=new St(null),St.GOOGLE_CREDENTIALS=new St("google-credentials-uid"),St.FIRST_PARTY=new St("first-party-uid"),St.MOCK_USER=new St("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ea="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new Gy("@firebase/firestore");function ga(){return ws.logLevel}function D(t,...e){if(ws.logLevel<=ie.DEBUG){const n=e.map(vv);ws.debug(`Firestore (${ea}): ${t}`,...n)}}function er(t,...e){if(ws.logLevel<=ie.ERROR){const n=e.map(vv);ws.error(`Firestore (${ea}): ${t}`,...n)}}function Do(t,...e){if(ws.logLevel<=ie.WARN){const n=e.map(vv);ws.warn(`Firestore (${ea}): ${t}`,...n)}}function vv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t="Unexpected state"){const e=`FIRESTORE (${ea}) INTERNAL ASSERTION FAILED: `+t;throw er(e),new Error(e)}function _e(t,e){t||X()}function ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(St.UNAUTHENTICATED))}shutdown(){}}class jM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class MM{constructor(e){this.t=e,this.currentUser=St.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new _r;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new _r,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{D("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(D("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new _r)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(D("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string"),new jA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string"),new St(e)}}class VM{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=St.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class LM{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new VM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(St.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $M{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&D("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,D("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{D("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):D("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_e(typeof n.token=="string"),this.R=n.token,new FM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=UM(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ue(t,e){return t<e?-1:t>e?1:0}function Oo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new M(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new M(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new M(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ze(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Z(e)}static min(){return new Z(new Ze(0,0))}static max(){return new Z(new Ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(),r===void 0?r=e.length-n:r>e.length-n&&X(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class xe extends Rl{construct(e,n,r){return new xe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new M(b.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new xe(n)}static emptyPath(){return new xe([])}}const BM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends Rl{construct(e,n,r){return new ft(e,n,r)}static isValidIdentifier(e){return BM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ft(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new M(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new M(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new M(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new M(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(n)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.path=e}static fromPath(e){return new B(xe.fromString(e))}static fromName(e){return new B(xe.fromString(e).popFirst(5))}static empty(){return new B(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new B(new xe(e.slice()))}}function zM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(r===1e9?new Ze(n+1,0):new Ze(n,r));return new wi(i,B.empty(),e)}function WM(t){return new wi(t.readTime,t.key,-1)}class wi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new wi(Z.min(),B.empty(),-1)}static max(){return new wi(Z.max(),B.empty(),-1)}}function HM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=B.comparator(t.documentKey,e.documentKey),n!==0?n:ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(t){if(t.code!==b.FAILED_PRECONDITION||t.message!==qM)throw t;D("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new R((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof R?n:R.resolve(n)}catch(n){return R.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):R.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):R.reject(n)}static resolve(e){return new R((n,r)=>{n(e)})}static reject(e){return new R((n,r)=>{r(e)})}static waitFor(e){return new R((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=R.resolve(!1);for(const r of e)n=n.next(i=>i?R.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new R((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new R((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new _r,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Wa(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=wv(r.target.error);this.V.reject(new Wa(e,i))}}static open(e,n,r,i){try{return new _v(n,e.transaction(i,r))}catch(s){throw new Wa(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(D("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new QM(n)}}class rs{constructor(e,n,r){this.name=e,this.version=n,this.p=r,rs.S(Xe())===12.2&&er("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return D("SimpleDb","Removing database:",e),Yi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!AI())return!1;if(rs.C())return!0;const e=Xe(),n=rs.S(e),r=0<n&&n<10,i=rs.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(D("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Wa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new M(b.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new M(b.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Wa(e,o))},i.onupgradeneeded=s=>{D("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{D("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=_v.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),R.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(D("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class KM{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Yi(this.k.delete())}}class Wa extends M{constructor(e,n){super(b.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function cu(t){return t.name==="IndexedDbTransactionError"}class QM{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(D("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(D("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Yi(r)}add(e){return D("SimpleDb","ADD",this.store.name,e,e),Yi(this.store.add(e))}get(e){return Yi(this.store.get(e)).next(n=>(n===void 0&&(n=null),D("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return D("SimpleDb","DELETE",this.store.name,e),Yi(this.store.delete(e))}count(){return D("SimpleDb","COUNT",this.store.name),Yi(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new R((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new R((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){D("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new R((r,i)=>{n.onerror=s=>{const o=wv(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new R((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new KM(a),u=n(a.primaryKey,a.value,l);if(u instanceof R){const c=u.catch(h=>(l.done(),R.reject(h)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>R.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Yi(t){return new R((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=wv(r.target.error);n(i)}})}let qw=!1;function wv(t){const e=rs.S(Xe());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new M("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return qw||(qw=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Ev._e=-1;function Nd(t){return t==null}function Th(t){return t===0&&1/t==-1/0}function XM(t){return typeof t=="number"&&Number.isInteger(t)&&!Th(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ns(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function VA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){this.comparator=e,this.root=n||ht.EMPTY}insert(e,n){return new je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ht.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zu(this.root,e,this.comparator,!0)}}class Zu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ht{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ht.RED,this.left=i??ht.EMPTY,this.right=s??ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ht(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();const e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}}ht.EMPTY=null,ht.RED=!0,ht.BLACK=!1;ht.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kw(this.data.getIterator())}getIteratorFrom(e){return new Kw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gt(this.comparator);return n.data=e,n}}class Kw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new Zt([])}unionWith(e){let n=new gt(ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Zt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Oo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new LA("Invalid base64 string: "+s):s}}(e);return new bt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const YM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ei(t){if(_e(!!t),typeof t=="string"){let e=0;const n=YM.exec(t);if(_e(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qe(t.seconds),nanos:qe(t.nanos)}}function qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Es(t){return typeof t=="string"?bt.fromBase64String(t):bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Sv(t){const e=t.mapValue.fields.__previous_value__;return Tv(e)?Sv(e):e}function kl(t){const e=Ei(t.mapValue.fields.__local_write_time__.timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Nl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Nl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Nl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ts(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Tv(t)?4:ZM(t)?9007199254740991:10:X()}function tr(t,e){if(t===e)return!0;const n=Ts(t);if(n!==Ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kl(t).isEqual(kl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ei(i.timestampValue),a=Ei(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Es(i.bytesValue).isEqual(Es(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return qe(i.geoPointValue.latitude)===qe(s.geoPointValue.latitude)&&qe(i.geoPointValue.longitude)===qe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return qe(i.integerValue)===qe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=qe(i.doubleValue),a=qe(s.doubleValue);return o===a?Th(o)===Th(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Oo(t.arrayValue.values||[],e.arrayValue.values||[],tr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Gw(o)!==Gw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!tr(o[l],a[l])))return!1;return!0}(t,e);default:return X()}}function Dl(t,e){return(t.values||[]).find(n=>tr(n,e))!==void 0}function jo(t,e){if(t===e)return 0;const n=Ts(t),r=Ts(e);if(n!==r)return ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=qe(s.integerValue||s.doubleValue),l=qe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Qw(t.timestampValue,e.timestampValue);case 4:return Qw(kl(t),kl(e));case 5:return ue(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Es(s),l=Es(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=ue(a[u],l[u]);if(c!==0)return c}return ue(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ue(qe(s.latitude),qe(o.latitude));return a!==0?a:ue(qe(s.longitude),qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=jo(a[u],l[u]);if(c)return c}return ue(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===ec.mapValue&&o===ec.mapValue)return 0;if(s===ec.mapValue)return 1;if(o===ec.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const f=ue(l[h],c[h]);if(f!==0)return f;const p=jo(a[l[h]],u[c[h]]);if(p!==0)return p}return ue(l.length,c.length)}(t.mapValue,e.mapValue);default:throw X()}}function Qw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ue(t,e);const n=Ei(t),r=Ei(e),i=ue(n.seconds,r.seconds);return i!==0?i:ue(n.nanos,r.nanos)}function Mo(t){return ng(t)}function ng(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ei(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Es(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return B.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=ng(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${ng(n.fields[o])}`;return i+"}"}(t.mapValue):X()}function Xw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function rg(t){return!!t&&"integerValue"in t}function xv(t){return!!t&&"arrayValue"in t}function Yw(t){return!!t&&"nullValue"in t}function Jw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bc(t){return!!t&&"mapValue"in t}function Ha(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ns(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ha(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ha(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ZM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.value=e}static empty(){return new Wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ha(n)}setAll(e){let n=ft.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ha(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());bc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];bc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ns(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Wt(Ha(this.value))}}function FA(t){const e=[];return Ns(t.fields,(n,r)=>{const i=new ft([n]);if(bc(r)){const s=FA(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Zt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new It(e,0,Z.min(),Z.min(),Z.min(),Wt.empty(),0)}static newFoundDocument(e,n,r,i){return new It(e,1,n,Z.min(),r,i,0)}static newNoDocument(e,n){return new It(e,2,n,Z.min(),Z.min(),Wt.empty(),0)}static newUnknownDocument(e,n){return new It(e,3,n,Z.min(),Z.min(),Wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.position=e,this.inclusive=n}}function Zw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=B.comparator(B.fromName(o.referenceValue),n.key):r=jo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function e1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!tr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n="asc"){this.field=e,this.dir=n}}function eV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{}class Ke extends $A{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nV(e,n,r):n==="array-contains"?new sV(e,r):n==="in"?new oV(e,r):n==="not-in"?new aV(e,r):n==="array-contains-any"?new lV(e,r):new Ke(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rV(e,r):new iV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(jo(n,this.value)):n!==null&&Ts(this.value)===Ts(n)&&this.matchesComparison(jo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kn extends $A{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new kn(e,n)}matches(e){return UA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function UA(t){return t.op==="and"}function BA(t){return tV(t)&&UA(t)}function tV(t){for(const e of t.filters)if(e instanceof kn)return!1;return!0}function ig(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+Mo(t.value);if(BA(t))return t.filters.map(e=>ig(e)).join(",");{const e=t.filters.map(n=>ig(n)).join(",");return`${t.op}(${e})`}}function zA(t,e){return t instanceof Ke?function(r,i){return i instanceof Ke&&r.op===i.op&&r.field.isEqual(i.field)&&tr(r.value,i.value)}(t,e):t instanceof kn?function(r,i){return i instanceof kn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&zA(o,i.filters[a]),!0):!1}(t,e):void X()}function WA(t){return t instanceof Ke?function(n){return`${n.field.canonicalString()} ${n.op} ${Mo(n.value)}`}(t):t instanceof kn?function(n){return n.op.toString()+" {"+n.getFilters().map(WA).join(" ,")+"}"}(t):"Filter"}class nV extends Ke{constructor(e,n,r){super(e,n,r),this.key=B.fromName(r.referenceValue)}matches(e){const n=B.comparator(e.key,this.key);return this.matchesComparison(n)}}class rV extends Ke{constructor(e,n){super(e,"in",n),this.keys=HA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class iV extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=HA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function HA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>B.fromName(r.referenceValue))}class sV extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xv(n)&&Dl(n.arrayValue,this.value)}}class oV extends Ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Dl(this.value.arrayValue,n)}}class aV extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Dl(this.value.arrayValue,n)}}class lV extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Dl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function t1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new uV(t,e,n,r,i,s,o)}function Iv(t){const e=ee(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ig(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Nd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Mo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Mo(r)).join(",")),e.ce=n}return e.ce}function Av(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!eV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!zA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!e1(t.startAt,e.startAt)&&e1(t.endAt,e.endAt)}function sg(t){return B.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function cV(t,e,n,r,i,s,o,a){return new hu(t,e,n,r,i,s,o,a)}function Pv(t){return new hu(t)}function n1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function qA(t){return t.collectionGroup!==null}function qa(t){const e=ee(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new gt(ft.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new xh(s,r))}),n.has(ft.keyField().canonicalString())||e.le.push(new xh(ft.keyField(),r))}return e.le}function Gn(t){const e=ee(t);return e.he||(e.he=hV(e,qa(t))),e.he}function hV(t,e){if(t.limitType==="F")return t1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new xh(i.field,s)});const n=t.endAt?new Sh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sh(t.startAt.position,t.startAt.inclusive):null;return t1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function og(t,e){const n=t.filters.concat([e]);return new hu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ag(t,e,n){return new hu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dd(t,e){return Av(Gn(t),Gn(e))&&t.limitType===e.limitType}function GA(t){return`${Iv(Gn(t))}|lt:${t.limitType}`}function qs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>WA(i)).join(", ")}]`),Nd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Mo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Mo(i)).join(",")),`Target(${r})`}(Gn(t))}; limitType=${t.limitType})`}function Od(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):B.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of qa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=Zw(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,qa(r),i)||r.endAt&&!function(o,a,l){const u=Zw(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,qa(r),i))}(t,e)}function dV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function KA(t){return(e,n)=>{let r=!1;for(const i of qa(t)){const s=fV(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function fV(t,e,n){const r=t.field.isKeyField()?B.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?jo(l,u):X()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ns(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return VA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=new je(B.comparator);function Cr(){return pV}const QA=new je(B.comparator);function Ra(...t){let e=QA;for(const n of t)e=e.insert(n.key,n);return e}function XA(t){let e=QA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function is(){return Ga()}function YA(){return Ga()}function Ga(){return new ta(t=>t.toString(),(t,e)=>t.isEqual(e))}const mV=new je(B.comparator),gV=new gt(B.comparator);function ne(...t){let e=gV;for(const n of t)e=e.add(n);return e}const yV=new gt(ue);function vV(){return yV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function ZA(t){return{integerValue:""+t}}function _V(t,e){return XM(e)?ZA(e):JA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(){this._=void 0}}function wV(t,e,n){return t instanceof Ih?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Tv(s)&&(s=Sv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ol?tP(t,e):t instanceof jl?nP(t,e):function(i,s){const o=eP(i,s),a=r1(o)+r1(i.Ie);return rg(o)&&rg(i.Ie)?ZA(a):JA(i.serializer,a)}(t,e)}function EV(t,e,n){return t instanceof Ol?tP(t,e):t instanceof jl?nP(t,e):n}function eP(t,e){return t instanceof Ah?function(r){return rg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ih extends jd{}class Ol extends jd{constructor(e){super(),this.elements=e}}function tP(t,e){const n=rP(e);for(const r of t.elements)n.some(i=>tr(i,r))||n.push(r);return{arrayValue:{values:n}}}class jl extends jd{constructor(e){super(),this.elements=e}}function nP(t,e){let n=rP(e);for(const r of t.elements)n=n.filter(i=>!tr(i,r));return{arrayValue:{values:n}}}class Ah extends jd{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function r1(t){return qe(t.integerValue||t.doubleValue)}function rP(t){return xv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function TV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ol&&i instanceof Ol||r instanceof jl&&i instanceof jl?Oo(r.elements,i.elements,tr):r instanceof Ah&&i instanceof Ah?tr(r.Ie,i.Ie):r instanceof Ih&&i instanceof Ih}(t.transform,e.transform)}class SV{constructor(e,n){this.version=e,this.transformResults=n}}class Kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Md{}function iP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new oP(t.key,Kn.none()):new du(t.key,t.data,Kn.none());{const n=t.data,r=Wt.empty();let i=new gt(ft.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Di(t.key,r,new Zt(i.toArray()),Kn.none())}}function xV(t,e,n){t instanceof du?function(i,s,o){const a=i.value.clone(),l=s1(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Di?function(i,s,o){if(!Rc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=s1(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(sP(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ka(t,e,n,r){return t instanceof du?function(s,o,a,l){if(!Rc(s.precondition,o))return a;const u=s.value.clone(),c=o1(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Di?function(s,o,a,l){if(!Rc(s.precondition,o))return a;const u=o1(s.fieldTransforms,l,o),c=o.data;return c.setAll(sP(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Rc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function IV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=eP(r.transform,i||null);s!=null&&(n===null&&(n=Wt.empty()),n.set(r.field,s))}return n||null}function i1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Oo(r,i,(s,o)=>TV(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class du extends Md{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Di extends Md{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function sP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function s1(t,e,n){const r=new Map;_e(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,EV(o,a,n[i]))}return r}function o1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,wV(s,o,e))}return r}class oP extends Md{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AV extends Md{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&xV(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ka(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ka(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=YA();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=iP(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ne())}isEqual(e){return this.batchId===e.batchId&&Oo(this.mutations,e.mutations,(n,r)=>i1(n,r))&&Oo(this.baseMutations,e.baseMutations,(n,r)=>i1(n,r))}}class Cv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_e(e.mutations.length===r.length);let i=function(){return mV}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Cv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We,oe;function RV(t){switch(t){default:return X();case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0}}function aP(t){if(t===void 0)return er("GRPC error has no .code"),b.UNKNOWN;switch(t){case We.OK:return b.OK;case We.CANCELLED:return b.CANCELLED;case We.UNKNOWN:return b.UNKNOWN;case We.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case We.INTERNAL:return b.INTERNAL;case We.UNAVAILABLE:return b.UNAVAILABLE;case We.UNAUTHENTICATED:return b.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case We.NOT_FOUND:return b.NOT_FOUND;case We.ALREADY_EXISTS:return b.ALREADY_EXISTS;case We.PERMISSION_DENIED:return b.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case We.ABORTED:return b.ABORTED;case We.OUT_OF_RANGE:return b.OUT_OF_RANGE;case We.UNIMPLEMENTED:return b.UNIMPLEMENTED;case We.DATA_LOSS:return b.DATA_LOSS;default:return X()}}(oe=We||(We={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=new Eo([4294967295,4294967295],0);function a1(t){const e=kV().encode(t),n=new DM;return n.update(e),new Uint8Array(n.digest())}function l1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Eo([n,r],0),new Eo([i,s],0)]}class bv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ka(`Invalid padding: ${n}`);if(r<0)throw new ka(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ka(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ka(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Eo.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Eo.fromNumber(r)));return i.compare(NV)===1&&(i=new Eo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=a1(e),[r,i]=l1(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new bv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=a1(e),[r,i]=l1(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ka extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vd(Z.min(),i,new je(ue),Cr(),ne())}}class fu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fu(r,n,ne(),ne(),ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class lP{constructor(e,n){this.targetId=e,this.fe=n}}class uP{constructor(e,n,r=bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class u1{constructor(){this.ge=0,this.pe=h1(),this.ye=bt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ne(),n=ne(),r=ne();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:X()}}),new fu(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=h1()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,_e(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class DV{constructor(e){this.Le=e,this.ke=new Map,this.qe=Cr(),this.Qe=c1(),this.Ke=new je(ue)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:X()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(sg(s))if(r===0){const o=new B(s.path);this.We(n,o,It.newNoDocument(o,Z.min()))}else _e(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Es(r).toUint8Array()}catch(l){if(l instanceof LA)return Do("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new bv(o,i,s)}catch(l){return Do(l instanceof ka?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&sg(a.target)){const l=new B(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,It.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ne();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Vd(e,n,this.Ke,this.qe,r);return this.qe=Cr(),this.Qe=c1(),this.Ke=new je(ue),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new u1,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new gt(ue),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||D("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new u1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function c1(){return new je(B.comparator)}function h1(){return new je(B.comparator)}const OV={asc:"ASCENDING",desc:"DESCENDING"},jV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MV={and:"AND",or:"OR"};class VV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lg(t,e){return t.useProto3Json||Nd(e)?e:{value:e}}function Ph(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function LV(t,e){return Ph(t,e.toTimestamp())}function Qn(t){return _e(!!t),Z.fromTimestamp(function(n){const r=Ei(n);return new Ze(r.seconds,r.nanos)}(t))}function Rv(t,e){return ug(t,e).canonicalString()}function ug(t,e){const n=function(i){return new xe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function hP(t){const e=xe.fromString(t);return _e(gP(e)),e}function cg(t,e){return Rv(t.databaseId,e.path)}function dp(t,e){const n=hP(e);if(n.get(1)!==t.databaseId.projectId)throw new M(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new M(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new B(fP(n))}function dP(t,e){return Rv(t.databaseId,e)}function FV(t){const e=hP(t);return e.length===4?xe.emptyPath():fP(e)}function hg(t){return new xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fP(t){return _e(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function d1(t,e,n){return{name:cg(t,e),fields:n.value.mapValue.fields}}function $V(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(_e(c===void 0||typeof c=="string"),bt.fromBase64String(c||"")):(_e(c===void 0||c instanceof Uint8Array),bt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?b.UNKNOWN:aP(u.code);return new M(c,u.message||"")}(o);n=new uP(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=dp(t,r.document.name),s=Qn(r.document.updateTime),o=r.document.createTime?Qn(r.document.createTime):Z.min(),a=new Wt({mapValue:{fields:r.document.fields}}),l=It.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new kc(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=dp(t,r.document),s=r.readTime?Qn(r.readTime):Z.min(),o=It.newNoDocument(i,s),a=r.removedTargetIds||[];n=new kc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=dp(t,r.document),s=r.removedTargetIds||[];n=new kc([],s,i,null)}else{if(!("filter"in e))return X();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new bV(i,s),a=r.targetId;n=new lP(a,o)}}return n}function UV(t,e){let n;if(e instanceof du)n={update:d1(t,e.key,e.value)};else if(e instanceof oP)n={delete:cg(t,e.key)};else if(e instanceof Di)n={update:d1(t,e.key,e.data),updateMask:XV(e.fieldMask)};else{if(!(e instanceof AV))return X();n={verify:cg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Ih)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ol)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof jl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ah)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw X()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:LV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:X()}(t,e.precondition)),n}function BV(t,e){return t&&t.length>0?(_e(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Qn(i.updateTime):Qn(s);return o.isEqual(Z.min())&&(o=Qn(s)),new SV(o,i.transformResults||[])}(n,e))):[]}function zV(t,e){return{documents:[dP(t,e.path)]}}function WV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=dP(t,i);const s=function(u){if(u.length!==0)return mP(kn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:Gs(f.field),direction:GV(f.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=lg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function HV(t){let e=FV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){_e(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(h){const f=pP(h);return f instanceof kn&&BA(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(g){return new xh(Ks(g.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Nd(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new Sh(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new Sh(p,f)}(n.endAt)),cV(e,i,o,s,a,"F",l,u)}function qV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ks(n.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ks(n.unaryFilter.field);return Ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ks(n.unaryFilter.field);return Ke.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ks(n.unaryFilter.field);return Ke.create(o,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(t):t.fieldFilter!==void 0?function(n){return Ke.create(Ks(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return kn.create(n.compositeFilter.filters.map(r=>pP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X()}}(n.compositeFilter.op))}(t):X()}function GV(t){return OV[t]}function KV(t){return jV[t]}function QV(t){return MV[t]}function Gs(t){return{fieldPath:t.canonicalString()}}function Ks(t){return ft.fromServerFormat(t.fieldPath)}function mP(t){return t instanceof Ke?function(n){if(n.op==="=="){if(Jw(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NAN"}};if(Yw(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Jw(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NOT_NAN"}};if(Yw(n.value))return{unaryFilter:{field:Gs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gs(n.field),op:KV(n.op),value:n.value}}}(t):t instanceof kn?function(n){const r=n.getFilters().map(i=>mP(i));return r.length===1?r[0]:{compositeFilter:{op:QV(n.op),filters:r}}}(t):X()}function XV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n,r,i,s=Z.min(),o=Z.min(),a=bt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ei(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e){this.ct=e}}function JV(t){const e=HV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ag(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(){this._n=new eL}addToCollectionParentIndex(e,n){return this._n.add(n),R.resolve()}getCollectionParents(e,n){return R.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return R.resolve()}deleteFieldIndex(e,n){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,n){return R.resolve()}getDocumentsMatchingTarget(e,n){return R.resolve(null)}getIndexType(e,n){return R.resolve(0)}getFieldIndexes(e,n){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,n){return R.resolve(wi.min())}getMinOffsetFromCollectionGroup(e,n){return R.resolve(wi.min())}updateCollectionGroup(e,n,r){return R.resolve()}updateIndexEntries(e,n){return R.resolve()}}class eL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new gt(xe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gt(xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Vo(0)}static Bn(){return new Vo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(){this.changes=new ta(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?R.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ka(r.mutation,i,Zt.empty(),Ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ne()){const i=is();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ra();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=is();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ne()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Cr();const o=Ga(),a=function(){return Ga()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Di)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Ka(c.mutation,u,c.mutation.getFieldMask(),Ze.now())):o.set(u.key,Zt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new nL(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ga();let i=new je((o,a)=>o-a),s=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Zt.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||ne()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=YA();c.forEach(f=>{if(!s.has(f)){const p=iP(n.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return R.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return B.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):R.resolve(is());let a=-1,l=s;return o.next(u=>R.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?R.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ne())).next(c=>({batchId:a,changes:XA(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new B(n)).next(r=>{let i=Ra();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ra();return this.indexManager.getCollectionParents(e,s).next(a=>R.forEach(a,l=>{const u=function(h,f){return new hu(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,It.newInvalidDocument(c)))});let a=Ra();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Ka(c.mutation,u,Zt.empty(),Ze.now()),Od(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return R.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Qn(i.createTime)}}(n)),R.resolve()}getNamedQuery(e,n){return R.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:JV(i.bundledQuery),readTime:Qn(i.readTime)}}(n)),R.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(){this.overlays=new je(B.comparator),this.hr=new Map}getOverlay(e,n){return R.resolve(this.overlays.get(n))}getOverlays(e,n){const r=is();return R.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),R.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),R.resolve()}getOverlaysForCollection(e,n,r){const i=is(),s=n.length+1,o=new B(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return R.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new je((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=is(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=is(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return R.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new CV(n,r));let s=this.hr.get(n);s===void 0&&(s=ne(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(){this.Pr=new gt(tt.Ir),this.Tr=new gt(tt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new tt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new tt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new B(new xe([])),r=new tt(n,e),i=new tt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new B(new xe([])),r=new tt(n,e),i=new tt(n,e+1);let s=ne();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new tt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class tt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return B.comparator(e.key,n.key)||ue(e.pr,n.pr)}static Er(e,n){return ue(e.pr,n.pr)||B.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new gt(tt.Ir)}checkEmpty(e){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new PV(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new tt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return R.resolve(o)}lookupMutationBatch(e,n){return R.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return R.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new tt(n,0),i=new tt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),R.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gt(ue);return n.forEach(i=>{const s=new tt(i,0),o=new tt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),R.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;B.isDocumentKey(s)||(s=s.child(""));const o=new tt(new B(s),0);let a=new gt(ue);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},o),R.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){_e(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return R.forEach(n.mutations,i=>{const s=new tt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new tt(n,0),i=this.wr.firstAfterOrEqual(r);return R.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,R.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e){this.vr=e,this.docs=function(){return new je(B.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():It.newInvalidDocument(n))}getEntries(e,n){let r=Cr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():It.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Cr();const o=n.path,a=new B(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||HM(WM(c),r)<=0||(i.has(c.key)||Od(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return R.resolve(s)}getAllFromCollectionGroup(e,n,r,i){X()}Fr(e,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new lL(this)}getSize(e){return R.resolve(this.size)}}class lL extends tL{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),R.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e){this.persistence=e,this.Mr=new ta(n=>Iv(n),Av),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Or=0,this.Nr=new kv,this.targetCount=0,this.Br=Vo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),R.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Vo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,R.resolve()}updateTargetData(e,n){return this.qn(n),R.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),R.waitFor(s).next(()=>i)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return R.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),R.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),R.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),R.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return R.resolve(r)}containsKey(e,n){return R.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,n){this.Lr={},this.overlays={},this.kr=new Ev(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new uL(this),this.indexManager=new ZV,this.remoteDocumentCache=function(i){return new aL(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new YV(n),this.$r=new iL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new oL(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){D("MemoryPersistence","Starting transaction:",e);const i=new hL(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return R.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class hL extends GM{constructor(e){super(),this.currentSequenceNumber=e}}class Nv{constructor(e){this.persistence=e,this.zr=new kv,this.jr=null}static Hr(e){return new Nv(e)}get Jr(){if(this.jr)return this.jr;throw X()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),R.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),R.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Jr,r=>{const i=B.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Z.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return R.or([()=>R.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ne(),i=ne();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Dv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return dO()?8:rs.v(Xe())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new dL;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(ga()<=ie.DEBUG&&D("QueryEngine","SDK will not create cache indexes for query:",qs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),R.resolve()):(ga()<=ie.DEBUG&&D("QueryEngine","Query:",qs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(ga()<=ie.DEBUG&&D("QueryEngine","The SDK decides to create cache indexes for query:",qs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gn(n))):R.resolve())}ji(e,n){if(n1(n))return R.resolve(null);let r=Gn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ag(n,null,"F"),r=Gn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ne(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,ag(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return n1(n)||i.isEqual(Z.min())?R.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?R.resolve(null):(ga()<=ie.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qs(n)),this.es(e,o,n,zM(i,-1)).next(a=>a))})}Zi(e,n){let r=new gt(KA(e));return n.forEach((i,s)=>{Od(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return ga()<=ie.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",qs(n)),this.zi.getDocumentsMatchingQuery(e,n,wi.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new je(ue),this.rs=new ta(s=>Iv(s),Av),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rL(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function mL(t,e,n,r){return new pL(t,e,n,r)}async function yP(t,e){const n=ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ne();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function gL(t,e){const n=ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,f=h.keys();let p=R.resolve();return f.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(_=>{const w=u.docVersions.get(g);_e(w!==null),_.version.compareTo(w)<0&&(h.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ne();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function vP(t){const e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function yL(t,e){const n=ee(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(bt.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(_,w,v){return _.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,p,c)&&a.push(n.Qr.updateTargetData(s,p))});let l=Cr(),u=ne();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(vL(s,o,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(Z.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return R.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ns=i,s))}function vL(t,e,n){let r=ne(),i=ne();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Cr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Z.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):D("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:i}})}function _L(t,e){const n=ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wL(t,e){const n=ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,R.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new ei(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function dg(t,e,n){const r=ee(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!cu(o))throw o;D("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function f1(t,e,n){const r=ee(t);let i=Z.min(),s=ne();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=ee(l),f=h.rs.get(c);return f!==void 0?R.resolve(h.ns.get(f)):h.Qr.getTargetData(u,c)}(r,o,Gn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:Z.min(),n?s:ne())).next(a=>(EL(r,dV(e),a),{documents:a,hs:s})))}function EL(t,e,n){let r=t.ss.get(e)||Z.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class p1{constructor(){this.activeTargetIds=vV()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TL{constructor(){this.no=new p1,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new p1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){D("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){D("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc=null;function fp(){return tc===null?tc=function(){return 268435456+Math.round(2147483648*Math.random())}():tc++,"0x"+tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et="WebChannelConnection";class AL extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=fp(),l=this.bo(n,r.toUriEncodedString());D("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,l,u,i).then(c=>(D("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Do("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ea}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=xL[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=fp();return new Promise((o,a)=>{const l=new NM;l.setWithCredentials(!0),l.listenOnce(RM.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case hp.NO_ERROR:const c=l.getResponseJson();D(Et,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case hp.TIMEOUT:D(Et,`RPC '${e}' ${s} timed out`),a(new M(b.DEADLINE_EXCEEDED,"Request time out"));break;case hp.HTTP_ERROR:const h=l.getStatus();if(D(Et,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(w){const v=w.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(v)>=0?v:b.UNKNOWN}(p.status);a(new M(g,p.message))}else a(new M(b.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new M(b.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{D(Et,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);D(Et,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=fp(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=CM(),a=bM(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");D(Et,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let f=!1,p=!1;const g=new IL({lo:w=>{p?D(Et,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(f||(D(Et,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),D(Et,`RPC '${e}' stream ${i} sending:`,w),h.send(w))},ho:()=>h.close()}),_=(w,v,m)=>{w.listen(v,y=>{try{m(y)}catch(T){setTimeout(()=>{throw T},0)}})};return _(h,Ju.EventType.OPEN,()=>{p||D(Et,`RPC '${e}' stream ${i} transport opened.`)}),_(h,Ju.EventType.CLOSE,()=>{p||(p=!0,D(Et,`RPC '${e}' stream ${i} transport closed`),g.Vo())}),_(h,Ju.EventType.ERROR,w=>{p||(p=!0,Do(Et,`RPC '${e}' stream ${i} transport errored:`,w),g.Vo(new M(b.UNAVAILABLE,"The operation could not be completed")))}),_(h,Ju.EventType.MESSAGE,w=>{var v;if(!p){const m=w.data[0];_e(!!m);const y=m,T=y.error||((v=y[0])===null||v===void 0?void 0:v.error);if(T){D(Et,`RPC '${e}' stream ${i} received error:`,T);const x=T.status;let S=function(C){const k=We[C];if(k!==void 0)return aP(k)}(x),I=T.message;S===void 0&&(S=b.INTERNAL,I="Unknown error status: "+x+" with message "+T.message),p=!0,g.Vo(new M(S,I)),h.close()}else D(Et,`RPC '${e}' stream ${i} received:`,m),g.mo(m)}}),_(a,kM.STAT_EVENT,w=>{w.stat===Ww.PROXY?D(Et,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===Ww.NOPROXY&&D(Et,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}}function pp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(t){return new VV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&D("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new _P(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===b.RESOURCE_EXHAUSTED?(er(n.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===b.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new M(b.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return D("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(D("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PL extends wP{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=$V(this.serializer,e),r=function(s){if(!("targetChange"in s))return Z.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Z.min():o.readTime?Qn(o.readTime):Z.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=hg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=sg(l)?{documents:zV(s,l)}:{query:WV(s,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=cP(s,o.resumeToken);const u=lg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Z.min())>0){a.readTime=Ph(s,o.snapshotVersion.toTimestamp());const u=lg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=qV(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=hg(this.serializer),n.removeTarget=e,this.t_(n)}}class CL extends wP{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(_e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=BV(e.writeResults,e.commitTime),r=Qn(e.commitTime);return this.listener.T_(r,n)}return _e(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=hg(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>UV(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new M(b.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,ug(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new M(b.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,ug(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new M(b.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class RL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(er(n),this.g_=!1):D("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{Ds(this)&&(D("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ee(l);u.v_.add(4),await pu(u),u.x_.set("Unknown"),u.v_.delete(4),await Fd(u)}(this))})}),this.x_=new RL(r,i)}}async function Fd(t){if(Ds(t))for(const e of t.F_)await e(!0)}async function pu(t){for(const e of t.F_)await e(!1)}function EP(t,e){const n=ee(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Mv(n)?jv(n):na(n).Jo()&&Ov(n,e))}function TP(t,e){const n=ee(t),r=na(n);n.C_.delete(e),r.Jo()&&SP(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Ds(n)&&n.x_.set("Unknown"))}function Ov(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}na(t).c_(e)}function SP(t,e){t.O_.Oe(e),na(t).l_(e)}function jv(t){t.O_=new DV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),na(t).start(),t.x_.p_()}function Mv(t){return Ds(t)&&!na(t).Ho()&&t.C_.size>0}function Ds(t){return ee(t).v_.size===0}function xP(t){t.O_=void 0}async function NL(t){t.C_.forEach((e,n)=>{Ov(t,e)})}async function DL(t,e){xP(t),Mv(t)?(t.x_.S_(e),jv(t)):t.x_.set("Unknown")}async function OL(t,e,n){if(t.x_.set("Online"),e instanceof uP&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){D("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ch(t,r)}else if(e instanceof kc?t.O_.$e(e):e instanceof lP?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Z.min()))try{const r=await vP(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.C_.get(u);c&&s.C_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.C_.get(l);if(!c)return;s.C_.set(l,c.withResumeToken(bt.EMPTY_BYTE_STRING,c.snapshotVersion)),SP(s,l);const h=new ei(c.target,l,u,c.sequenceNumber);Ov(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){D("RemoteStore","Failed to raise snapshot:",r),await Ch(t,r)}}async function Ch(t,e,n){if(!cu(e))throw e;t.v_.add(1),await pu(t),t.x_.set("Offline"),n||(n=()=>vP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{D("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Fd(t)})}function IP(t,e){return e().catch(n=>Ch(t,n,e))}async function $d(t){const e=ee(t),n=Ti(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;jL(e);)try{const i=await _L(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,ML(e,i)}catch(i){await Ch(e,i)}AP(e)&&PP(e)}function jL(t){return Ds(t)&&t.D_.length<10}function ML(t,e){t.D_.push(e);const n=Ti(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function AP(t){return Ds(t)&&!Ti(t).Ho()&&t.D_.length>0}function PP(t){Ti(t).start()}async function VL(t){Ti(t).d_()}async function LL(t){const e=Ti(t);for(const n of t.D_)e.I_(n.mutations)}async function FL(t,e,n){const r=t.D_.shift(),i=Cv.from(r,e,n);await IP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await $d(t)}async function $L(t,e){e&&Ti(t).P_&&await async function(r,i){if(function(o){return RV(o)&&o!==b.ABORTED}(i.code)){const s=r.D_.shift();Ti(r).Zo(),await IP(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await $d(r)}}(t,e),AP(t)&&PP(t)}async function g1(t,e){const n=ee(t);n.asyncQueue.verifyOperationInProgress(),D("RemoteStore","RemoteStore received new credentials");const r=Ds(n);n.v_.add(3),await pu(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Fd(n)}async function UL(t,e){const n=ee(t);e?(n.v_.delete(2),await Fd(n)):e||(n.v_.add(2),await pu(n),n.x_.set("Unknown"))}function na(t){return t.N_||(t.N_=function(n,r,i){const s=ee(n);return s.R_(),new PL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:NL.bind(null,t),To:DL.bind(null,t),u_:OL.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Mv(t)?jv(t):t.x_.set("Unknown")):(await t.N_.stop(),xP(t))})),t.N_}function Ti(t){return t.B_||(t.B_=function(n,r,i){const s=ee(n);return s.R_(),new CL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:VL.bind(null,t),To:$L.bind(null,t),E_:LL.bind(null,t),T_:FL.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await $d(t)):(await t.B_.stop(),t.D_.length>0&&(D("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new _r,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Vv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new M(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lv(t,e){if(er("AsyncQueue",`${e}: ${t}`),cu(t))return new M(b.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.comparator=e?(n,r)=>e(n,r)||B.comparator(n.key,r.key):(n,r)=>B.comparator(n.key,r.key),this.keyedMap=Ra(),this.sortedSet=new je(this.comparator)}static emptySet(e){return new To(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof To)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new To;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this.L_=new je(B.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):X():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Lo{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Lo(e,n,To.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(){this.q_=void 0,this.Q_=[]}}class zL{constructor(){this.queries=new ta(e=>GA(e),Dd),this.onlineState="Unknown",this.K_=new Set}}async function CP(t,e){const n=ee(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new BL),i)try{s.q_=await n.onListen(r)}catch(o){const a=Lv(o,`Initialization of query '${qs(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&Fv(n)}async function bP(t,e){const n=ee(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function WL(t,e){const n=ee(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&Fv(n)}function HL(t,e,n){const r=ee(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function Fv(t){t.K_.forEach(e=>{e.next()})}class RP{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Lo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Lo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e){this.key=e}}class NP{constructor(e){this.key=e}}class qL{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=ne(),this.mutatedKeys=ne(),this.ua=KA(e),this.ca=new To(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new y1,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),p=Od(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;f&&p?f.data.isEqual(p.data)?g!==_&&(r.track({type:3,doc:p}),w=!0):this.Ia(f,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.ua(p,l)>0||u&&this.ua(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),w=!0):f&&!p&&(r.track({type:1,doc:f}),w=!0,(l||u)&&(a=!0)),w&&(p?(o=o.add(p),s=_?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((c,h)=>function(p,g){const _=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return _(p)-_(g)}(c.type,h.type)||this.ua(c.doc,h.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,u=l!==this._a;return this._a=l,o.length!==0||u?{snapshot:new Lo(this.query,e.ca,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new y1,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=ne(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new NP(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new kP(r))}),n}Ra(e){this.oa=e.hs,this.aa=ne();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Lo.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class GL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class KL{constructor(e){this.key=e,this.ma=!1}}class QL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new ta(a=>GA(a),Dd),this.pa=new Map,this.ya=new Set,this.wa=new je(B.comparator),this.Sa=new Map,this.ba=new kv,this.Da={},this.Ca=new Map,this.va=Vo.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function XL(t,e){const n=oF(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await wL(n.localStore,Gn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await YL(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&EP(n.remoteStore,o)}return i}async function YL(t,e,n,r,i){t.Ma=(h,f,p)=>async function(_,w,v,m){let y=w.view.ha(v);y.Xi&&(y=await f1(_.localStore,w.query,!1).then(({documents:I})=>w.view.ha(I,y)));const T=m&&m.targetChanges.get(w.targetId),x=m&&m.targetMismatches.get(w.targetId)!=null,S=w.view.applyChanges(y,_.isPrimaryClient,T,x);return _1(_,w.targetId,S.da),S.snapshot}(t,h,f,p);const s=await f1(t.localStore,e,!0),o=new qL(e,s.hs),a=o.ha(s.documents),l=fu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);_1(t,n,u.da);const c=new GL(e,n,o);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function JL(t,e){const n=ee(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Dd(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await dg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),TP(n.remoteStore,r.targetId),fg(n,r.targetId)}).catch(uu)):(fg(n,r.targetId),await dg(n.localStore,r.targetId,!0))}async function ZL(t,e,n){const r=aF(t);try{const i=await function(o,a){const l=ee(o),u=Ze.now(),c=a.reduce((p,g)=>p.add(g.key),ne());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Cr(),_=ne();return l.os.getEntries(p,c).next(w=>{g=w,g.forEach((v,m)=>{m.isValidDocument()||(_=_.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(w=>{h=w;const v=[];for(const m of a){const y=IV(m,h.get(m.key).overlayedDocument);y!=null&&v.push(new Di(m.key,y,FA(y.value.mapValue),Kn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,v,a)}).next(w=>{f=w;const v=w.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(p,w.batchId,v)})}).then(()=>({batchId:f.batchId,changes:XA(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Da[o.currentUser.toKey()];u||(u=new je(ue)),u=u.insert(a,l),o.Da[o.currentUser.toKey()]=u}(r,i.batchId,n),await mu(r,i.changes),await $d(r.remoteStore)}catch(i){const s=Lv(i,"Failed to persist write");n.reject(s)}}async function DP(t,e){const n=ee(t);try{const r=await yL(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(_e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?_e(o.ma):i.removedDocuments.size>0&&(_e(o.ma),o.ma=!1))}),await mu(n,r,e)}catch(r){await uu(r)}}function v1(t,e,n){const r=ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ee(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const f of h.Q_)f.U_(a)&&(u=!0)}),u&&Fv(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function eF(t,e,n){const r=ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new je(B.comparator);o=o.insert(s,It.newNoDocument(s,Z.min()));const a=ne().add(s),l=new Vd(Z.min(),new Map,new je(ue),o,a);await DP(r,l),r.wa=r.wa.remove(s),r.Sa.delete(e),$v(r)}else await dg(r.localStore,e,!1).then(()=>fg(r,e,n)).catch(uu)}async function tF(t,e){const n=ee(t),r=e.batch.batchId;try{const i=await gL(n.localStore,e);jP(n,r,null),OP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mu(n,i)}catch(i){await uu(i)}}async function nF(t,e,n){const r=ee(t);try{const i=await function(o,a){const l=ee(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(_e(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);jP(r,e,n),OP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await mu(r,i)}catch(i){await uu(i)}}function OP(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function jP(t,e,n){const r=ee(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function fg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||MP(t,r)})}function MP(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(TP(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),$v(t))}function _1(t,e,n){for(const r of n)r instanceof kP?(t.ba.addReference(r.key,e),rF(t,r)):r instanceof NP?(D("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||MP(t,r.key)):X()}function rF(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(D("SyncEngine","New document in limbo: "+n),t.ya.add(r),$v(t))}function $v(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new B(xe.fromString(e)),r=t.va.next();t.Sa.set(r,new KL(n)),t.wa=t.wa.insert(n,r),EP(t.remoteStore,new ei(Gn(Pv(n.path)),r,"TargetPurposeLimboResolution",Ev._e))}}async function mu(t,e,n){const r=ee(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{o.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Dv.Ki(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.fa.u_(i),await async function(l,u){const c=ee(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>R.forEach(u,f=>R.forEach(f.qi,p=>c.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>R.forEach(f.Qi,p=>c.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!cu(h))throw h;D("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=c.ns.get(f),g=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(g);c.ns=c.ns.insert(f,_)}}}(r.localStore,s))}async function iF(t,e){const n=ee(t);if(!n.currentUser.isEqual(e)){D("SyncEngine","User change. New user:",e.toKey());const r=await yP(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(l=>{l.reject(new M(b.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mu(n,r.us)}}function sF(t,e){const n=ee(t),r=n.Sa.get(e);if(r&&r.ma)return ne().add(r.key);{let i=ne();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function oF(t){const e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=DP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eF.bind(null,e),e.fa.u_=WL.bind(null,e.eventManager),e.fa.xa=HL.bind(null,e.eventManager),e}function aF(t){const e=ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nF.bind(null,e),e}class w1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ld(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return mL(this.persistence,new fL,e.initialUser,this.serializer)}createPersistence(e){return new cL(Nv.Hr,this.serializer)}createSharedClientState(e){return new TL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class lF{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>v1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=iF.bind(null,this.syncEngine),await UL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zL}()}createDatastore(e){const n=Ld(e.databaseInfo.databaseId),r=function(s){return new AL(s)}(e.databaseInfo);return function(s,o,a,l){return new bL(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new kL(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>v1(this.syncEngine,n,0),function(){return m1.D()?new m1:new SL}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const h=new QL(i,s,o,a,l,u);return c&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=ee(r);D("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await pu(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):er("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=St.UNAUTHENTICATED,this.clientId=MA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{D("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(D("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new M(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _r;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Lv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function mp(t,e){t.asyncQueue.verifyOperationInProgress(),D("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await yP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function E1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await hF(t);D("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>g1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>g1(e.remoteStore,i)),t._onlineComponents=e}function cF(t){return t.name==="FirebaseError"?t.code===b.FAILED_PRECONDITION||t.code===b.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function hF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){D("FirestoreClient","Using user provided OfflineComponentProvider");try{await mp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!cF(n))throw n;Do("Error using user provided cache. Falling back to memory cache: "+n),await mp(t,new w1)}}else D("FirestoreClient","Using default OfflineComponentProvider"),await mp(t,new w1);return t._offlineComponents}async function LP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(D("FirestoreClient","Using user provided OnlineComponentProvider"),await E1(t,t._uninitializedComponentsProvider._online)):(D("FirestoreClient","Using default OnlineComponentProvider"),await E1(t,new lF))),t._onlineComponents}function dF(t){return LP(t).then(e=>e.syncEngine)}async function pg(t){const e=await LP(t),n=e.eventManager;return n.onListen=XL.bind(null,e.syncEngine),n.onUnlisten=JL.bind(null,e.syncEngine),n}function fF(t,e,n={}){const r=new _r;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new VP({next:f=>{o.enqueueAndForget(()=>bP(s,h)),f.fromCache&&l.source==="server"?u.reject(new M(b.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new RP(a,c,{includeMetadataChanges:!0,Z_:!0});return CP(s,h)}(await pg(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(t,e,n){if(!n)throw new M(b.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pF(t,e,n,r){if(e===!0&&r===!0)throw new M(b.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function S1(t){if(!B.isDocumentKey(t))throw new M(b.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function x1(t){if(B.isDocumentKey(t))throw new M(b.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ud(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X()}function wr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new M(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ud(t);throw new M(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new M(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new M(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new M(b.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new M(b.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new M(b.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new I1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new M(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new M(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new I1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new OM;switch(r.type){case"firstParty":return new LM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new M(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=T1.get(n);r&&(D("ComponentProvider","Removing Datastore"),T1.delete(n),r.terminate())}(this),Promise.resolve()}}function mF(t,e,n,r={}){var i;const s=(t=wr(t,Bd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Do("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=St.MOCK_USER;else{a=II(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new M(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new St(u)}t._authCredentials=new jM(new jA(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Os(this.firestore,e,this._query)}}class Qt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}}class fi extends Os{constructor(e,n,r){super(e,n,Pv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new B(e))}withConverter(e){return new fi(this.firestore,e,this._path)}}function Fo(t,e,...n){if(t=Le(t),$P("collection","path",e),t instanceof Bd){const r=xe.fromString(e,...n);return x1(r),new fi(t,null,r)}{if(!(t instanceof Qt||t instanceof fi))throw new M(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xe.fromString(e,...n));return x1(r),new fi(t.firestore,null,r)}}function UP(t,e,...n){if(t=Le(t),arguments.length===1&&(e=MA.newId()),$P("doc","path",e),t instanceof Bd){const r=xe.fromString(e,...n);return S1(r),new Qt(t,null,new B(r))}{if(!(t instanceof Qt||t instanceof fi))throw new M(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xe.fromString(e,...n));return S1(r),new Qt(t.firestore,t instanceof fi?t.converter:null,new B(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new _P(this,"async_queue_retry"),this._u=()=>{const n=pp();n&&D("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=pp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=pp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new _r;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!cu(e))throw e;D("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw er("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=Vv.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&X()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function A1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class $o extends Bd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new gF}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||BP(this),this._firestoreClient.terminate()}}function yF(t,e){const n=typeof t=="object"?t:Qy(),r=typeof t=="string"?t:e||"(default)",i=md(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=TI("firestore");s&&mF(i,...s)}return i}function Uv(t){return t._firestoreClient||BP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function BP(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new JM(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,FP(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new uF(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Uo(bt.fromBase64String(e))}catch(n){throw new M(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Uo(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new M(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new M(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new M(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF=/^__.*__$/;class _F{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Di(e,this.data,this.fieldMask,n,this.fieldTransforms):new du(e,this.data,n,this.fieldTransforms)}}class zP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Di(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}class Wv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Wv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return bh(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(WP(this.du)&&vF.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class wF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ld(e)}Su(e,n,r,i=!1){return new Wv({du:e,methodName:n,wu:r,path:ft.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hv(t){const e=t._freezeSettings(),n=Ld(t._databaseId);return new wF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function EF(t,e,n,r,i,s={}){const o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);qv("Data must be an object, but it was:",o,r);const a=HP(r,o);let l,u;if(s.merge)l=new Zt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=mg(e,h,n);if(!o.contains(f))throw new M(b.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);GP(c,f)||c.push(f)}l=new Zt(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new _F(new Wt(a),l,u)}class Wd extends Bv{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wd}}function TF(t,e,n,r){const i=t.Su(1,e,n);qv("Data must be an object, but it was:",i,r);const s=[],o=Wt.empty();Ns(r,(l,u)=>{const c=Gv(e,l,n);u=Le(u);const h=i.fu(c);if(u instanceof Wd)s.push(c);else{const f=gu(u,h);f!=null&&(s.push(c),o.set(c,f))}});const a=new Zt(s);return new zP(o,a,i.fieldTransforms)}function SF(t,e,n,r,i,s){const o=t.Su(1,e,n),a=[mg(e,r,n)],l=[i];if(s.length%2!=0)throw new M(b.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(mg(e,s[f])),l.push(s[f+1]);const u=[],c=Wt.empty();for(let f=a.length-1;f>=0;--f)if(!GP(u,a[f])){const p=a[f];let g=l[f];g=Le(g);const _=o.fu(p);if(g instanceof Wd)u.push(p);else{const w=gu(g,_);w!=null&&(u.push(p),c.set(p,w))}}const h=new Zt(u);return new zP(c,h,o.fieldTransforms)}function xF(t,e,n,r=!1){return gu(n,t.Su(r?4:3,e))}function gu(t,e){if(qP(t=Le(t)))return qv("Unsupported field value:",e,t),HP(t,e);if(t instanceof Bv)return function(r,i){if(!WP(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=gu(a,i.gu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Le(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _V(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ze.fromDate(r);return{timestampValue:Ph(i.serializer,s)}}if(r instanceof Ze){const s=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ph(i.serializer,s)}}if(r instanceof zv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Uo)return{bytesValue:cP(i.serializer,r._byteString)};if(r instanceof Qt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Rv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Ud(r)}`)}(t,e)}function HP(t,e){const n={};return VA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ns(t,(r,i)=>{const s=gu(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function qP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof zv||t instanceof Uo||t instanceof Qt||t instanceof Bv)}function qv(t,e,n){if(!qP(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Ud(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function mg(t,e,n){if((e=Le(e))instanceof zd)return e._internalPath;if(typeof e=="string")return Gv(t,e);throw bh("Field path arguments must be of type string or ",t,!1,void 0,n)}const IF=new RegExp("[~\\*/\\[\\]]");function Gv(t,e,n){if(e.search(IF)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zd(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new M(b.INVALID_ARGUMENT,a+t+l)}function GP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Kv("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class AF extends KP{data(){return super.data()}}function Kv(t,e){return typeof e=="string"?Gv(t,e):e instanceof zd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new M(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qv{}class PF extends Qv{}function XP(t,e,...n){let r=[];e instanceof Qv&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Xv).length,a=s.filter(l=>l instanceof Hd).length;if(o>1||o>0&&a>0)throw new M(b.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Hd extends PF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Hd(e,n,r)}_apply(e){const n=this._parse(e);return JP(e._query,n),new Os(e.firestore,e.converter,og(e._query,n))}_parse(e){const n=Hv(e.firestore);return function(s,o,a,l,u,c,h){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new M(b.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){C1(h,c);const p=[];for(const g of h)p.push(P1(l,s,g));f={arrayValue:{values:p}}}else f=P1(l,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||C1(h,c),f=xF(a,o,h,c==="in"||c==="not-in");return Ke.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function YP(t,e,n){const r=e,i=Kv("where",t);return Hd._create(i,r,n)}class Xv extends Qv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Xv(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:kn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)JP(o,l),o=og(o,l)}(e._query,n),new Os(e.firestore,e.converter,og(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function P1(t,e,n){if(typeof(n=Le(n))=="string"){if(n==="")throw new M(b.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qA(e)&&n.indexOf("/")!==-1)throw new M(b.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(xe.fromString(n));if(!B.isDocumentKey(r))throw new M(b.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xw(t,new B(r))}if(n instanceof Qt)return Xw(t,n._key);throw new M(b.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ud(n)}.`)}function C1(t,e){if(!Array.isArray(t)||t.length===0)throw new M(b.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JP(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new M(b.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new M(b.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class CF{convertValue(e,n="none"){switch(Ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw X()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ns(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new zv(qe(e.latitude),qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Sv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(kl(e));default:return null}}convertTimestamp(e){const n=Ei(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=xe.fromString(e);_e(gP(r));const i=new Nl(r.get(1),r.get(3)),s=new B(r.popFirst(5));return i.isEqual(n)||er(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bF(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZP extends KP{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Kv("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Nc extends ZP{data(e={}){return super.data(e)}}class eC{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Na(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Nc(this._firestore,this._userDataWriter,r.key,r,new Na(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new M(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Nc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Na(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Nc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Na(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:RF(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function RF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}class Yv extends CF{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,n)}}function kF(t){t=wr(t,Os);const e=wr(t.firestore,$o),n=Uv(e),r=new Yv(e);return QP(t._query),fF(n,t._query).then(i=>new eC(e,r,t,i))}function NF(t,e,n,...r){t=wr(t,Qt);const i=wr(t.firestore,$o),s=Hv(i);let o;return o=typeof(e=Le(e))=="string"||e instanceof zd?SF(s,"updateDoc",t._key,e,n,r):TF(s,"updateDoc",t._key,e),nC(i,[o.toMutation(t._key,Kn.exists(!0))])}function gg(t,e){const n=wr(t.firestore,$o),r=UP(t),i=bF(t.converter,e);return nC(n,[EF(Hv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Kn.exists(!1))]).then(()=>r)}function tC(t,...e){var n,r,i;t=Le(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||A1(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(A1(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof Qt)u=wr(t.firestore,$o),c=Pv(t._key.path),l={next:h=>{e[o]&&e[o](DF(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=wr(t,Os);u=wr(h.firestore,$o),c=h._query;const f=new Yv(u);l={next:p=>{e[o]&&e[o](new eC(u,f,h,p))},error:e[o+1],complete:e[o+2]},QP(t._query)}return function(f,p,g,_){const w=new VP(_),v=new RP(p,w,g);return f.asyncQueue.enqueueAndForget(async()=>CP(await pg(f),v)),()=>{w.La(),f.asyncQueue.enqueueAndForget(async()=>bP(await pg(f),v))}}(Uv(u),c,a,l)}function nC(t,e){return function(r,i){const s=new _r;return r.asyncQueue.enqueueAndForget(async()=>ZL(await dF(r),i,s)),s.promise}(Uv(t),e)}function DF(t,e,n){const r=n.docs.get(e._key),i=new Yv(t);return new ZP(t,i,e._key,r,new Na(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ea=i})(Rs),_s(new _i("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new $o(new MM(r.getProvider("auth-internal")),new $M(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new M(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),qn(Hw,"4.4.2",e),qn(Hw,"4.4.2","esm2017")})();function Jv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function rC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OF=rC,iC=new Zl("auth","Firebase",rC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new Gy("@firebase/auth");function jF(t,...e){Rh.logLevel<=ie.WARN&&Rh.warn(`Auth (${Rs}): ${t}`,...e)}function Dc(t,...e){Rh.logLevel<=ie.ERROR&&Rh.error(`Auth (${Rs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t,...e){throw Zv(t,...e)}function Xn(t,...e){return Zv(t,...e)}function sC(t,e,n){const r=Object.assign(Object.assign({},OF()),{[e]:n});return new Zl("auth","Firebase",r).create(e,{appName:t.name})}function MF(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&En(t,"argument-error"),sC(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return iC.create(t,...e)}function H(t,e,...n){if(!t)throw Zv(e,...n)}function pr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Dc(e),new Error(e)}function br(t,e){t||pr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function VF(){return b1()==="http:"||b1()==="https:"}function b1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VF()||uO()||"connection"in navigator)?navigator.onLine:!0}function FF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){this.shortDelay=e,this.longDelay=n,br(n>e,"Short delay should be less than long delay!"),this.isMobile=aO()||cO()}get(){return LF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(t,e){br(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=new yu(3e4,6e4);function Nr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Dr(t,e,n,r,i={}){return aC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=eu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),oC.fetch()(lC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function aC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},$F),e);try{const i=new zF(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw nc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw nc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw nc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw nc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw sC(t,c,u);En(t,c)}}catch(i){if(i instanceof nr)throw i;En(t,"network-request-failed",{message:String(i)})}}async function vu(t,e,n,r,i={}){const s=await Dr(t,e,n,r,i);return"mfaPendingCredential"in s&&En(t,"multi-factor-auth-required",{_serverResponse:s}),s}function lC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?e0(t.config,i):`${t.config.apiScheme}://${i}`}function BF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zF{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xn(this.auth,"network-request-failed")),UF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xn(t,e,r);return i.customData._tokenResponse=n,i}function R1(t){return t!==void 0&&t.enterprise!==void 0}class WF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return BF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function HF(t,e){return Dr(t,"GET","/v2/recaptchaConfig",Nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qF(t,e){return Dr(t,"POST","/v1/accounts:delete",e)}async function GF(t,e){return Dr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KF(t,e=!1){const n=Le(t),r=await n.getIdToken(e),i=t0(r);H(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Qa(gp(i.auth_time)),issuedAtTime:Qa(gp(i.iat)),expirationTime:Qa(gp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function gp(t){return Number(t)*1e3}function t0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dc("JWT malformed, contained fewer than 3 sections"),null;try{const i=wI(n);return i?JSON.parse(i):(Dc("Failed to decode base64 JWT payload"),null)}catch(i){return Dc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function QF(t){const e=t0(t);return H(e,"internal-error"),H(typeof e.exp<"u","internal-error"),H(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof nr&&XF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function XF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qa(this.lastLoginAt),this.creationTime=Qa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ml(t,GF(n,{idToken:r}));H(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?e4(s.providerUserInfo):[],a=ZF(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new uC(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function JF(t){const e=Le(t);await kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function e4(t){return t.map(e=>{var{providerId:n}=e,r=Jv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4(t,e){const n=await aC(t,{},async()=>{const r=eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=lC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",oC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function n4(t,e){return Dr(t,"POST","/v2/accounts:revokeToken",Nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){H(e.idToken,"internal-error"),H(typeof e.idToken<"u","internal-error"),H(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QF(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return H(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await t4(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Vl;return r&&(H(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(H(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(H(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vl,this.toJSON())}_performRefresh(){return pr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(t,e){H(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Jv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new YF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new uC(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ml(this,this.stsTokenManager.getToken(this.auth,e));return H(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return KF(this,e)}reload(){return JF(this)}_assign(e){this!==e&&(H(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await kh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ml(this,qF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,m=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:T,isAnonymous:x,providerData:S,stsTokenManager:I}=n;H(y&&I,e,"internal-error");const A=Vl.fromJSON(this.name,I);H(typeof y=="string",e,"internal-error"),Lr(h,e.name),Lr(f,e.name),H(typeof T=="boolean",e,"internal-error"),H(typeof x=="boolean",e,"internal-error"),Lr(p,e.name),Lr(g,e.name),Lr(_,e.name),Lr(w,e.name),Lr(v,e.name),Lr(m,e.name);const C=new cs({uid:y,auth:e,email:f,emailVerified:T,displayName:h,isAnonymous:x,photoURL:g,phoneNumber:p,tenantId:_,stsTokenManager:A,createdAt:v,lastLoginAt:m});return S&&Array.isArray(S)&&(C.providerData=S.map(k=>Object.assign({},k))),w&&(C._redirectEventId=w),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new Vl;i.updateFromServerResponse(n);const s=new cs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await kh(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=new Map;function mr(t){br(t instanceof Function,"Expected a class definition");let e=k1.get(t);return e?(br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,k1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cC.type="NONE";const N1=cC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t,e,n){return`firebase:${t}:${e}:${n}`}class So{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Oc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Oc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?cs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new So(mr(N1),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||mr(N1);const o=Oc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=cs._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new So(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new So(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mC(e))return"Blackberry";if(gC(e))return"Webos";if(n0(e))return"Safari";if((e.includes("chrome/")||dC(e))&&!e.includes("edge/"))return"Chrome";if(pC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function hC(t=Xe()){return/firefox\//i.test(t)}function n0(t=Xe()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dC(t=Xe()){return/crios\//i.test(t)}function fC(t=Xe()){return/iemobile/i.test(t)}function pC(t=Xe()){return/android/i.test(t)}function mC(t=Xe()){return/blackberry/i.test(t)}function gC(t=Xe()){return/webos/i.test(t)}function qd(t=Xe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function r4(t=Xe()){var e;return qd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function i4(){return hO()&&document.documentMode===10}function yC(t=Xe()){return qd(t)||pC(t)||gC(t)||mC(t)||/windows phone/i.test(t)||fC(t)}function s4(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(t,e=[]){let n;switch(t){case"Browser":n=D1(Xe());break;case"Worker":n=`${D1(Xe())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Rs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a4(t,e={}){return Dr(t,"GET","/v2/passwordPolicy",Nr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=6;class u4{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:l4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new O1(this),this.idTokenSubscription=new O1(this),this.beforeStateQueue=new o4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=mr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await So.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return H(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await kh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Le(e):null;return n&&H(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&H(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await a4(this),n=new u4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await n4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&mr(e)||this._popupRedirectResolver;H(n,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[mr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(H(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&jF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Or(t){return Le(t)}class O1{constructor(e){this.auth=e,this.observer=null,this.addObserver=vO(n=>this.observer=n)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function h4(t){Gd=t}function _C(t){return Gd.loadJS(t)}function d4(){return Gd.recaptchaEnterpriseScript}function f4(){return Gd.gapiScript}function p4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const m4="recaptcha-enterprise",g4="NO_RECAPTCHA";class y4{constructor(e){this.type=m4,this.auth=Or(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{HF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new WF(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;R1(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(g4)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&R1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=d4();l.length!==0&&(l+=a),_C(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function j1(t,e,n,r=!1){const i=new y4(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Nh(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await j1(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await j1(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(t,e){const n=md(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ph(s,e??{}))return i;En(i,"already-initialized")}return n.initialize({options:e})}function _4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(mr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function w4(t,e,n){const r=Or(t);H(r._canInitEmulator,r,"emulator-config-failed"),H(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=wC(e),{host:o,port:a}=E4(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||T4()}function wC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function E4(t){const e=wC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:M1(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:M1(o)}}}function M1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function T4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pr("not implemented")}_getIdTokenResponse(e){return pr("not implemented")}_linkToIdToken(e,n){return pr("not implemented")}_getReauthenticationResolver(e){return pr("not implemented")}}async function S4(t,e){return Dr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x4(t,e){return vu(t,"POST","/v1/accounts:signInWithPassword",Nr(t,e))}async function I4(t,e){return Dr(t,"POST","/v1/accounts:sendOobCode",Nr(t,e))}async function A4(t,e){return I4(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P4(t,e){return vu(t,"POST","/v1/accounts:signInWithEmailLink",Nr(t,e))}async function C4(t,e){return vu(t,"POST","/v1/accounts:signInWithEmailLink",Nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends r0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ll(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ll(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nh(e,n,"signInWithPassword",x4);case"emailLink":return P4(e,{email:this._email,oobCode:this._password});default:En(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nh(e,r,"signUpPassword",S4);case"emailLink":return C4(e,{idToken:n,email:this._email,oobCode:this._password});default:En(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(t,e){return vu(t,"POST","/v1/accounts:signInWithIdp",Nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4="http://localhost";class Ss extends r0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ss(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):En("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Jv(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ss(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return xo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,xo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xo(e,n)}buildRequest(){const e={requestUri:b4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=eu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function k4(t){const e=Aa(Pa(t)).link,n=e?Aa(Pa(e)).deep_link_id:null,r=Aa(Pa(t)).deep_link_id;return(r?Aa(Pa(r)).link:null)||r||n||e||t}class i0{constructor(e){var n,r,i,s,o,a;const l=Aa(Pa(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=R4((i=l.mode)!==null&&i!==void 0?i:null);H(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=k4(e);try{return new i0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(){this.providerId=ra.PROVIDER_ID}static credential(e,n){return Ll._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=i0.parseLink(n);return H(r,"argument-error"),Ll._fromEmailAndCode(e,r.code,r.tenantId)}}ra.PROVIDER_ID="password";ra.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ra.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends s0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends _u{constructor(){super("facebook.com")}static credential(e){return Ss._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr extends _u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ss._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return cr.credential(n,r)}catch{return null}}}cr.GOOGLE_SIGN_IN_METHOD="google.com";cr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends _u{constructor(){super("github.com")}static credential(e){return Ss._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.GITHUB_SIGN_IN_METHOD="github.com";Kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends _u{constructor(){super("twitter.com")}static credential(e,n){return Ss._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qr.credential(n,r)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(t,e){return vu(t,"POST","/v1/accounts:signUp",Nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await cs._fromIdTokenResponse(e,r,i),o=V1(r);return new xs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=V1(r);return new xs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function V1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends nr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Dh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Dh(e,n,r,i)}}function EC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Dh._fromErrorAndOperation(t,s,e,r):s})}async function D4(t,e,n=!1){const r=await Ml(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O4(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Ml(t,EC(r,i,e,t),n);H(s.idToken,r,"internal-error");const o=t0(s.idToken);H(o,r,"internal-error");const{sub:a}=o;return H(t.uid===a,r,"user-mismatch"),xs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&En(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TC(t,e,n=!1){const r="signIn",i=await EC(t,r,e),s=await xs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function j4(t,e){return TC(Or(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(t,e,n){var r;H(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),H(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(H(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(H(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(t){const e=Or(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function V4(t,e,n){const r=Or(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&M4(r,i,n),await Nh(r,i,"getOobCode",A4)}async function L4(t,e,n){const r=Or(t),o=await Nh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",N4).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&SC(t),l}),a=await xs._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function F4(t,e,n){return j4(Le(t),ra.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&SC(t),r})}function $4(t,e,n,r){return Le(t).onIdTokenChanged(e,n,r)}function U4(t,e,n){return Le(t).beforeAuthStateChanged(e,n)}function B4(t){return Le(t).signOut()}const Oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Oh,"1"),this.storage.removeItem(Oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(){const t=Xe();return n0(t)||qd(t)}const W4=1e3,H4=10;class IC extends xC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=z4()&&s4(),this.fallbackToPolling=yC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);i4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,H4):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},W4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}IC.type="LOCAL";const q4=IC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC extends xC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AC.type="SESSION";const PC=AC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Kd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await G4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=o0("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(){return window}function Q4(t){Yn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(){return typeof Yn().WorkerGlobalScope<"u"&&typeof Yn().importScripts=="function"}async function X4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Y4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function J4(){return CC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="firebaseLocalStorageDb",Z4=1,jh="firebaseLocalStorage",RC="fbase_key";class wu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qd(t,e){return t.transaction([jh],e?"readwrite":"readonly").objectStore(jh)}function e$(){const t=indexedDB.deleteDatabase(bC);return new wu(t).toPromise()}function vg(){const t=indexedDB.open(bC,Z4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jh,{keyPath:RC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jh)?e(r):(r.close(),await e$(),e(await vg()))})})}async function L1(t,e,n){const r=Qd(t,!0).put({[RC]:e,value:n});return new wu(r).toPromise()}async function t$(t,e){const n=Qd(t,!1).get(e),r=await new wu(n).toPromise();return r===void 0?null:r.value}function F1(t,e){const n=Qd(t,!0).delete(e);return new wu(n).toPromise()}const n$=800,r$=3;class kC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>r$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kd._getInstance(J4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await X4(),!this.activeServiceWorker)return;this.sender=new K4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Y4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vg();return await L1(e,Oh,"1"),await F1(e,Oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>L1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>t$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>F1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Qd(i,!1).getAll();return new wu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kC.type="LOCAL";const i$=kC;new yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(t,e){return e?mr(e):(H(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0 extends r0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function s$(t){return TC(t.auth,new a0(t),t.bypassAuthState)}function o$(t){const{auth:e,user:n}=t;return H(n,e,"internal-error"),O4(n,new a0(t),t.bypassAuthState)}async function a$(t){const{auth:e,user:n}=t;return H(n,e,"internal-error"),D4(n,new a0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return s$;case"linkViaPopup":case"linkViaRedirect":return a$;case"reauthViaPopup":case"reauthViaRedirect":return o$;default:En(this.auth,"internal-error")}}resolve(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$=new yu(2e3,1e4);async function OC(t,e,n){const r=Or(t);MF(t,e,s0);const i=NC(r,n);return new ss(r,"signInViaPopup",e,i).executeNotNull()}class ss extends DC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ss.currentPopupAction&&ss.currentPopupAction.cancel(),ss.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return H(e,this.auth,"internal-error"),e}async onExecution(){br(this.filter.length===1,"Popup operations only handle one event");const e=o0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ss.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,l$.get())};e()}}ss.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$="pendingRedirect",jc=new Map;class c$ extends DC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=jc.get(this.auth._key());if(!e){try{const r=await h$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}jc.set(this.auth._key(),e)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function h$(t,e){const n=p$(e),r=f$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function d$(t,e){jc.set(t._key(),e)}function f$(t){return mr(t._redirectPersistence)}function p$(t){return Oc(u$,t.config.apiKey,t.name)}async function m$(t,e,n=!1){const r=Or(t),i=NC(r,e),o=await new c$(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g$=10*60*1e3;class y${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!v$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Xn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=g$&&this.cachedEventUids.clear(),this.cachedEventUids.has($1(e))}saveEventToCache(e){this.cachedEventUids.add($1(e)),this.lastProcessedEventTime=Date.now()}}function $1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function v$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _$(t,e={}){return Dr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E$=/^https?/;async function T$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _$(t);for(const n of e)try{if(S$(n))return}catch{}En(t,"unauthorized-domain")}function S$(t){const e=yg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!E$.test(n))return!1;if(w$.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x$=new yu(3e4,6e4);function U1(){const t=Yn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function I$(t){return new Promise((e,n)=>{var r,i,s;function o(){U1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{U1(),n(Xn(t,"network-request-failed"))},timeout:x$.get()})}if(!((i=(r=Yn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Yn().gapi)===null||s===void 0)&&s.load)o();else{const a=p4("iframefcb");return Yn()[a]=()=>{gapi.load?o():n(Xn(t,"network-request-failed"))},_C(`${f4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Mc=null,e})}let Mc=null;function A$(t){return Mc=Mc||I$(t),Mc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$=new yu(5e3,15e3),C$="__/auth/iframe",b$="emulator/auth/iframe",R$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},k$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N$(t){const e=t.config;H(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?e0(e,b$):`https://${t.config.authDomain}/${C$}`,r={apiKey:e.apiKey,appName:t.name,v:Rs},i=k$.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${eu(r).slice(1)}`}async function D$(t){const e=await A$(t),n=Yn().gapi;return H(n,t,"internal-error"),e.open({where:document.body,url:N$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:R$,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Xn(t,"network-request-failed"),a=Yn().setTimeout(()=>{s(o)},P$.get());function l(){Yn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},j$=500,M$=600,V$="_blank",L$="http://localhost";class B1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function F$(t,e,n,r=j$,i=M$){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},O$),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Xe().toLowerCase();n&&(a=dC(u)?V$:n),hC(u)&&(e=e||L$,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(r4(u)&&a!=="_self")return $$(e||"",a),new B1(null);const h=window.open(e||"",a,c);H(h,t,"popup-blocked");try{h.focus()}catch{}return new B1(h)}function $$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$="__/auth/handler",B$="emulator/auth/handler",z$=encodeURIComponent("fac");async function z1(t,e,n,r,i,s){H(t.config.authDomain,t,"auth-domain-config-required"),H(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Rs,eventId:i};if(e instanceof s0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",yO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof _u){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${z$}=${encodeURIComponent(l)}`:"";return`${W$(t)}?${eu(a).slice(1)}${u}`}function W$({config:t}){return t.emulator?e0(t,B$):`https://${t.authDomain}/${U$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="webStorageSupport";class H${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PC,this._completeRedirectFn=m$,this._overrideRedirectResult=d$}async _openPopup(e,n,r,i){var s;br((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await z1(e,n,r,yg(),i);return F$(e,o,o0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await z1(e,n,r,yg(),i);return Q4(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(br(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await D$(e),r=new y$(e);return n.register("authEvent",i=>(H(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yp,{type:yp},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[yp];o!==void 0&&n(!!o),En(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=T$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yC()||n0()||qd()}}const q$=H$;var W1="@firebase/auth",H1="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Q$(t){_s(new _i("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;H(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vC(t)},u=new c4(r,i,s,l);return _4(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_s(new _i("auth-internal",e=>{const n=Or(e.getProvider("auth").getImmediate());return(r=>new G$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qn(W1,H1,K$(t)),qn(W1,H1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X$=5*60,Y$=xI("authIdTokenMaxAge")||X$;let q1=null;const J$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Y$)return;const i=n==null?void 0:n.token;q1!==i&&(q1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Z$(t=Qy()){const e=md(t,"auth");if(e.isInitialized())return e.getImmediate();const n=v4(t,{popupRedirectResolver:q$,persistence:[i$,q4,PC]}),r=xI("authTokenSyncURL");if(r){const s=J$(r);U4(n,s,()=>s(n.currentUser)),$4(n,o=>s(o))}const i=EI("auth");return i&&w4(n,`http://${i}`),n}function eU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}h4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Xn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",eU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Q$("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="firebasestorage.googleapis.com",VC="storageBucket",tU=2*60*1e3,nU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue extends nr{constructor(e,n,r=0){super(vp(e),`Firebase Storage: ${n} (${vp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ue.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $e;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($e||($e={}));function vp(t){return"storage/"+t}function l0(){const t="An unknown error occurred, please check the error payload for server response.";return new Ue($e.UNKNOWN,t)}function rU(t){return new Ue($e.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function iU(t){return new Ue($e.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function sU(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ue($e.UNAUTHENTICATED,t)}function oU(){return new Ue($e.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function aU(t){return new Ue($e.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function lU(){return new Ue($e.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uU(){return new Ue($e.CANCELED,"User canceled the upload/download.")}function cU(t){return new Ue($e.INVALID_URL,"Invalid URL '"+t+"'.")}function hU(t){return new Ue($e.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function dU(){return new Ue($e.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+VC+"' property when initializing the app?")}function fU(){return new Ue($e.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function pU(){return new Ue($e.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function mU(t){return new Ue($e.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function _g(t){return new Ue($e.INVALID_ARGUMENT,t)}function LC(){return new Ue($e.APP_DELETED,"The Firebase app was deleted.")}function gU(t){return new Ue($e.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Xa(t,e){return new Ue($e.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ya(t){throw new Ue($e.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=en.makeFromUrl(e,n)}catch{return new en(e,"")}if(r.path==="")return r;throw hU(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(T){T.path_=decodeURIComponent(T.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${c}/b/${i}/o${f}`,"i"),g={bucket:1,path:3},_=n===MC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",v=new RegExp(`^https?://${_}/${i}/${w}`,"i"),y=[{regex:a,indices:l,postModify:s},{regex:p,indices:g,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let T=0;T<y.length;T++){const x=y[T],S=x.regex.exec(e);if(S){const I=S[x.indices.bucket];let A=S[x.indices.path];A||(A=""),r=new en(I,A),x.postModify(r);break}}if(r==null)throw cU(e);return r}}class yU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...w){u||(u=!0,e.apply(null,w))}function h(w){i=setTimeout(()=>{i=null,t(p,l())},w)}function f(){s&&clearTimeout(s)}function p(w,...v){if(u){f();return}if(w){f(),c.call(null,w,...v);return}if(l()||o){f(),c.call(null,w,...v);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,h(y)}let g=!1;function _(w){g||(g=!0,f(),!u&&(i!==null?(w||(a=2),clearTimeout(i),h(0)):w||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,_(!0)},n),_}function _U(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wU(t){return t!==void 0}function EU(t){return typeof t=="object"&&!Array.isArray(t)}function u0(t){return typeof t=="string"||t instanceof String}function G1(t){return c0()&&t instanceof Blob}function c0(){return typeof Blob<"u"}function K1(t,e,n,r){if(r<e)throw _g(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw _g(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function FC(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(hs||(hs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,n,r,i,s,o,a,l,u,c,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new rc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===hs.NO_ERROR,l=s.getStatus();if(!a||TU(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===hs.ABORT;r(!1,new rc(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new rc(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());wU(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=l0();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?LC():uU();o(l)}else{const l=lU();o(l)}};this.canceled_?n(!1,new rc(!1,null,!0)):this.backoffId_=vU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_U(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class rc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function xU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function IU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function AU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function PU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function CU(t,e,n,r,i,s,o=!0){const a=FC(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return AU(u,e),xU(u,n),IU(u,s),PU(u,r),new SU(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function RU(...t){const e=bU();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(c0())return new Blob(t);throw new Ue($e.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function kU(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t){if(typeof atob>"u")throw mU("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class _p{constructor(e,n){this.data=e,this.contentType=n||null}}function DU(t,e){switch(t){case Bn.RAW:return new _p($C(e));case Bn.BASE64:case Bn.BASE64URL:return new _p(UC(t,e));case Bn.DATA_URL:return new _p(jU(e),MU(e))}throw l0()}function $C(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function OU(t){let e;try{e=decodeURIComponent(t)}catch{throw Xa(Bn.DATA_URL,"Malformed data URL.")}return $C(e)}function UC(t,e){switch(t){case Bn.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Xa(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Bn.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Xa(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=NU(e)}catch(i){throw i.message.includes("polyfill")?i:Xa(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class BC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Xa(Bn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=VU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function jU(t){const e=new BC(t);return e.base64?UC(Bn.BASE64,e.rest):OU(e.rest)}function MU(t){return new BC(t).contentType}function VU(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n){let r=0,i="";G1(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(G1(this.data_)){const r=this.data_,i=kU(r,e,n);return i===null?null:new Xr(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Xr(r,!0)}}static getBlob(...e){if(c0()){const n=e.map(r=>r instanceof Xr?r.data_:r);return new Xr(RU.apply(null,n))}else{const n=e.map(o=>u0(o)?DU(Bn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Xr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(t){let e;try{e=JSON.parse(t)}catch{return null}return EU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function FU(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function WC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(t,e){return e}class Nt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||$U}}let ic=null;function UU(t){return!u0(t)||t.length<2?t:WC(t)}function HC(){if(ic)return ic;const t=[];t.push(new Nt("bucket")),t.push(new Nt("generation")),t.push(new Nt("metageneration")),t.push(new Nt("name","fullPath",!0));function e(s,o){return UU(o)}const n=new Nt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Nt("size");return i.xform=r,t.push(i),t.push(new Nt("timeCreated")),t.push(new Nt("updated")),t.push(new Nt("md5Hash",null,!0)),t.push(new Nt("cacheControl",null,!0)),t.push(new Nt("contentDisposition",null,!0)),t.push(new Nt("contentEncoding",null,!0)),t.push(new Nt("contentLanguage",null,!0)),t.push(new Nt("contentType",null,!0)),t.push(new Nt("metadata","customMetadata",!0)),ic=t,ic}function BU(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new en(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function zU(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return BU(r,t),r}function qC(t,e,n){const r=zC(e);return r===null?null:zU(t,r,n)}function WU(t,e,n,r){const i=zC(e);if(i===null||!u0(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,h=t.fullPath,f="/b/"+o(c)+"/o/"+o(h),p=h0(f,n,r),g=FC({alt:"media",token:u});return p+g})[0]}function HU(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class GC{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(t){if(!t)throw l0()}function qU(t,e){function n(r,i){const s=qC(t,i,e);return KC(s!==null),s}return n}function GU(t,e){function n(r,i){const s=qC(t,i,e);return KC(s!==null),WU(s,i,t.host,t._protocol)}return n}function QC(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=oU():i=sU():n.getStatus()===402?i=iU(t.bucket):n.getStatus()===403?i=aU(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function KU(t){const e=QC(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=rU(t.path)),s.serverResponse=i.serverResponse,s}return n}function QU(t,e,n){const r=e.fullServerUrl(),i=h0(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new GC(i,s,GU(t,n),o);return a.errorHandler=KU(e),a}function XU(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function YU(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=XU(null,e)),r}function JU(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let y="";for(let T=0;T<2;T++)y=y+Math.random().toString().slice(2);return y}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=YU(e,r,i),c=HU(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=Xr.getBlob(h,r,f);if(p===null)throw fU();const g={name:u.fullPath},_=h0(s,t.host,t._protocol),w="POST",v=t.maxUploadRetryTime,m=new GC(_,w,qU(t,n),v);return m.urlParams=g,m.headers=o,m.body=p.uploadData(),m.errorHandler=QC(e),m}class ZU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=hs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=hs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=hs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ya("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ya("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ya("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ya("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ya("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class e3 extends ZU{initXhr(){this.xhr_.responseType="text"}}function XC(){return new e3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xd=class wg{constructor(e,n){this._service=e,n instanceof en?this._location=n:this._location=en.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new wg(e,n)}get root(){const e=new en(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WC(this._location.path)}get storage(){return this._service}get parent(){const e=LU(this._location.path);if(e===null)return null;const n=new en(this._location.bucket,e);return new wg(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw gU(e)}};function t3(t,e,n){t._throwIfRoot("uploadBytes");const r=JU(t.storage,t._location,HC(),new Xr(e,!0),n);return t.storage.makeRequestWithTokens(r,XC).then(i=>({metadata:i,ref:t}))}function n3(t){t._throwIfRoot("getDownloadURL");const e=QU(t.storage,t._location,HC());return t.storage.makeRequestWithTokens(e,XC).then(n=>{if(n===null)throw pU();return n})}function r3(t,e){const n=FU(t._location.path,e),r=new en(t._location.bucket,n);return new Xd(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(t){return/^[A-Za-z]+:\/\//.test(t)}function s3(t,e){return new Xd(t,e)}function YC(t,e){if(t instanceof d0){const n=t;if(n._bucket==null)throw dU();const r=new Xd(n,n._bucket);return e!=null?YC(r,e):r}else return e!==void 0?r3(t,e):t}function o3(t,e){if(e&&i3(e)){if(t instanceof d0)return s3(t,e);throw _g("To use ref(service, url), the first argument must be a Storage instance.")}else return YC(t,e)}function Q1(t,e){const n=e==null?void 0:e[VC];return n==null?null:en.makeFromBucketSpec(n,t)}function a3(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:II(i,t.app.options.projectId))}class d0{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=MC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tU,this._maxUploadRetryTime=nU,this._requests=new Set,i!=null?this._bucket=en.makeFromBucketSpec(i,this._host):this._bucket=Q1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=en.makeFromBucketSpec(this._url,e):this._bucket=Q1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){K1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){K1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Xd(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new yU(LC());{const o=CU(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const X1="@firebase/storage",Y1="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="storage";function l3(t,e,n){return t=Le(t),t3(t,e,n)}function u3(t){return t=Le(t),n3(t)}function c3(t,e){return t=Le(t),o3(t,e)}function h3(t=Qy(),e){t=Le(t);const r=md(t,JC).getImmediate({identifier:e}),i=TI("storage");return i&&d3(r,...i),r}function d3(t,e,n,r={}){a3(t,e,n,r)}function f3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new d0(n,r,i,e,Rs)}function p3(){_s(new _i(JC,f3,"PUBLIC").setMultipleInstances(!0)),qn(X1,Y1,""),qn(X1,Y1,"esm2017")}p3();var m3={VITE_FIREBASE_API_KEY:"AIzaSyB-J4OxMiXMfGIApqpVpdUyf2mqPr_6AiM",VITE_FIREBASE_AUTH_DOMAIN:"petpals-5c451.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"petpals-5c451",VITE_FIREBASE_STORAGE_BUCKET:"petpals-5c451.appspot.com",VITE_FIREBASE_MESSADING_SENDER_ID:"682122634026",VITE_FIREBASE_APP_ID:"1:682122634026:web:9d2303f86bbe9fb0353453",BASE_URL:"/PetPals/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const g3={apiKey:"AIzaSyB-J4OxMiXMfGIApqpVpdUyf2mqPr_6AiM",authDomain:"petpals-5c451.firebaseapp.com",projectId:"petpals-5c451",storageBucket:"petpals-5c451.appspot.com",messagingSenderId:m3.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:"1:682122634026:web:9d2303f86bbe9fb0353453"},f0=bI(g3),rt=Z$(f0),Is=yF(f0),y3=h3(f0),ZC=new cr,eb="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20x='0'%20y='0'%20version='1.1'%20viewBox='0%200%201280%201280'%3e%3cpath%20d='M231.6%20252.5c-6.2%2011.7%202.5%2022.9%2012.3%2022.4a75.8%2086%200%200%201%2042.5%2014c8.2%206.1%2021.4%202%2021.8-11.2%201.3-24.3-9-45.8-27.2-51.4-17.7-6-37.5%205.6-49.4%2026.2M983.8%20296a74.6%2084.6%200%200%201%2044-2.4c10%202.8%2020.7-5.6%2017.4-18.7-6.6-23.3-23.5-39.2-42-38.3-18.6%201-33.9%2018.7-38.4%2042.5-2.5%2013.6%209.5%2021%2019%2016.9'%20class='prefix__st0'/%3e%3cpath%20d='M1263.6%201227.2a114%20114%200%200%200%2016.5-59.8c0-59.4-43.3-112.7-119.5-118.3a28.9%2032.7%200%200%200-3.3-.4C1055.5%20937%201008.9%20666.9%201036%20504.8a191.6%20217.3%200%200%200%20182.6-165c10.7-43.8-8.3-77.5-47.8-85.4-19.4-4.2-32.6-16.4-39.6-37.4l-.8-2.3c-37.1-88.8-102.2-99.6-145.1-103.3v-.5c-15.7%201-34.6%201-24.7-11.2C988.3%2067%20993.2%2051.6%20996.5%2040c7-26.1-19-43-38.3-39.7-106.7%2018.7-211.4%20120.5-266.7%20258a7105.4%208055.1%200%200%200-34.6%2088.7c-19.8-50-59.3-170-174-233.6A296%20335.5%200%200%200%20331.4%2080C288%2082.9%20198.2%2088.5%20150%20204.4c-1.7%201.4-13.2%2012.1-64.3%2018.2-31.3%203.3-60.2%203.3-60.6%203.3-14%200-24.7%2011.2-24.7%2025.7-2%20150%2061.4%20215.4%20108.8%20243v.4a202%20229%200%200%200%2098.9%2022.9c18.1%200%2034.6-1.4%2047-2.8%209%2062.6%2026.4%20316.3-91.1%20534-75.8%206.1-118.3%2059.8-118.3%20118.3%200%2021%205.4%2042%2016.5%2059.8%200%200%2026.4%2052.8%20108%2052.8h266.6c13.6%200%2024.8-12.2%2024.8-26.7s-11.2-26.6-24.8-26.6H162.3c-46.5%200-67.1-29.4-67.1-59.3%200-37.4%2030.9-64%2078.3-65.5%2021.8%204.7%2048.2%2018.3%2059%2051%204.4%2014%2018.9%2021%2031.6%2016.3%2012.8-4.7%2019.8-20%2015.3-33.6a114.6%20129.9%200%200%200-64.7-74.8C325%20846%20316.5%20598.3%20304.5%20513.2a193.7%20219.6%200%200%200-9-37.8%2025.1%2028.5%200%200%200-26.8-15.4c-21.5%203.7-80%2010.2-120.8-4.2-1.2%200-2-1-3.3-1.4a146.3%20165.9%200%200%201-87-118.7c16.1-4.2%2039.2-18.2%2054.5-63.6%2047-8%2073.3-22.9%2082.8-45.8a127.8%20144.8%200%200%201%2091.5-86.9c18.5-4.6%2066.8-11.6%20107.2%2017.3%2012%208%2020.6%2021.5%2026.3%2038.3%209.5%2028.5%202.5%2060.8-18.5%2089.7-55.7%2075.7-69.3%20114.5-64.3%20165a82.4%2093.4%200%200%200%2045.3%2073.3%20127%20144%200%200%200%20119.6-1.8c38.7-25.3%2061.4-71%2072-147.7-9-26.1-24.2-61.2-42.4-86%201.3%2021.5%204.1%2048.2-1.6%2076.7-12%2057.4-19.4%2086-49.5%20109.3a74.2%2084.1%200%200%201-73.8%203.3%2035.9%2040.6%200%200%201-20.6-32.7c-2.4-27.1%200-52.8%2054-127.1%2034.2-46.7%2045-105.6%2019-157.5a308.3%20349.5%200%200%200%2090.7%2086c10.7%2014%2047.8%2065.9%2080.3%20171-75%20198.6-184.6%20510.2-184.6%20636.8%200%20124.8%2095.2%20226.7%20212.2%20226.7S870%201178.6%20870%201053.3c0-68.2-38.3-214.9-113.8-434.5-17.3-50.4-35-99.5-51-144.4l-25.6%2076.7c66.3%20185%20141%20415.8%20141%20502.2%200%2095.8-73%20173.9-162.9%20173.9-89.4%200-162.8-78-162.8-173.9%200-133.6%20141.4-511.6%20188.8-636.3A6489%206489%200%200%201%20737.3%20279c35-87.3%20106-182.2%20192.9-216.3-65.1%2066.4-41.7%20101-18.2%20101h64.3c39.6%203.2%2081.2%207.9%20108.8%2071.9a96.4%20109.3%200%200%200%2057.7%2065c-6.1%2015.4-10.3%2042%2018.2%2056-21.5%2054.7-69.3%20106-173.1%2094.8-13.6-1.4-25.6%209.4-26.8%2023.4-1.7%2015%208.2%2028%2021.8%2029.4h3.3c-12.8%2084.1-8.2%20194.9%2012.8%20300a532%20603.2%200%200%200%20106%20261.2%20113%20128%200%200%200-56.1%2070c-5.8%2017.4%206.6%2035.1%2023.5%2035.1a24.7%2028%200%200%200%2023.5-17.7c10.7-32.7%2037-45.8%2058.5-51.4%20102.6%205.6%2098%20125.7%209%20125.7H879.1a25.5%2025.5%200%200%200-24.8%2026.1c0%2015%2011.2%2026.7%2024.8%2026.7h284.3c78.4%200%20100.2-52.8%20100.2-52.8'%20class='prefix__st0'/%3e%3c/svg%3e";function v3(){const[t,e]=E.useState(!1),[n,r]=E.useState(!!rt.currentUser);E.useEffect(()=>{const o=rt.onAuthStateChanged(a=>{r(!!a)});return()=>o()},[]);const i=()=>{e(o=>!o)},s=()=>{document.getElementById("nav").click()};return d.jsx(d.Fragment,{children:d.jsxs("nav",{children:[d.jsxs(Re,{to:"/PetPals",className:"logo",children:[d.jsx("img",{src:eb,className:"nav-logo",alt:"PetPals"}),"PetPals"]}),d.jsx("input",{type:"checkbox",id:"nav",className:"hidden",onChange:i}),d.jsxs("label",{htmlFor:"nav",className:`nav-btn ${t?"open":""}`,children:[d.jsx("i",{}),d.jsx("i",{}),d.jsx("i",{})]}),d.jsx("div",{className:`nav-wrapper ${t?"show":""}`,children:d.jsxs("ul",{children:[d.jsx("li",{children:d.jsx(Re,{to:"PetPals/add",onClick:s,children:"Add"})}),d.jsx("li",{children:d.jsx(Re,{to:"PetPals/discover",onClick:s,children:"Discover"})}),d.jsx("li",{children:d.jsx(Re,{to:"PetPals/blog",onClick:s,children:"Blog"})}),d.jsx("li",{children:d.jsx(Re,{to:"PetPals/about",onClick:s,children:"About"})}),d.jsx("li",{children:n?d.jsx(Re,{to:"PetPals/users/me",onClick:s,children:d.jsxs("button",{children:[d.jsx("i",{className:"bx bxs-cat bx-sm"}),rt.currentUser.displayName||rt.currentUser.email]})}):d.jsx(Re,{to:"PetPals/login",onClick:s,children:d.jsxs("button",{children:[d.jsx("i",{className:"bx bxs-log-in-circle bx-sm"}),"Login"]})})})]})})]})})}const _3="/PetPals/assets/Animal shelter-cuate-OPFTOdXc.svg";function w3(){return d.jsx(d.Fragment,{children:d.jsxs("main",{children:[d.jsxs("div",{className:"about-content-panel",children:[d.jsx("div",{className:"about-content-text",children:d.jsx("h1",{className:"about-content-heading",children:"Connecting potential adopters, animal rescuers, and shelters."})}),d.jsx("div",{className:"about-content-image",children:d.jsx("img",{src:_3,style:{width:"100%"},alt:"Adoption Image"})})]}),d.jsx("p",{className:"about-content-description",children:"PetPals was launched to address the growing issue of homeless animals, aiming to create a meaningful impact on their lives and alleviate their hardships."}),d.jsx("div",{className:"about-content-panel",children:d.jsx("div",{className:"about-content-card",children:d.jsxs("div",{className:"about-card-text",children:[d.jsx("h3",{className:"about-card-title",children:"Why PetPals?"}),d.jsxs("p",{children:["It is estimated that there are over 3 million strays, many of whom suffer from starvation, malnutrition, diseases and severe injuries. ",d.jsx("br",{}),d.jsx("br",{}),"Our platform connects potential adopters with people who need to rehome their pets, initially starting with the Sri Lanka's most popular pets; dogs, cats.",d.jsx("br",{}),d.jsx("br",{}),"This makes it easier for good people to adopt the right pet whilst maximising the chance of pets finding their forever home. ",d.jsx("br",{}),d.jsx("br",{}),"We offer a non-judgmental service to rehomers and give them full control of the process while helping to reduce the number of animals going into shelters."]})]})})})]})})}var E3=function(e){return T3(e)&&!S3(e)};function T3(t){return!!t&&typeof t=="object"}function S3(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||A3(t)}var x3=typeof Symbol=="function"&&Symbol.for,I3=x3?Symbol.for("react.element"):60103;function A3(t){return t.$$typeof===I3}function P3(t){return Array.isArray(t)?[]:{}}function Mh(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Fl(P3(t),t,e):t}function C3(t,e,n){return t.concat(e).map(function(r){return Mh(r,n)})}function b3(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=Mh(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=Mh(e[i],n):r[i]=Fl(t[i],e[i],n)}),r}function Fl(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||C3,n.isMergeableObject=n.isMergeableObject||E3;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):b3(t,e,n):Mh(e,n)}Fl.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return Fl(r,i,n)},{})};var Eg=Fl,R3=typeof global=="object"&&global&&global.Object===Object&&global;const tb=R3;var k3=typeof self=="object"&&self&&self.Object===Object&&self,N3=tb||k3||Function("return this")();const rr=N3;var D3=rr.Symbol;const Si=D3;var nb=Object.prototype,O3=nb.hasOwnProperty,j3=nb.toString,va=Si?Si.toStringTag:void 0;function M3(t){var e=O3.call(t,va),n=t[va];try{t[va]=void 0;var r=!0}catch{}var i=j3.call(t);return r&&(e?t[va]=n:delete t[va]),i}var V3=Object.prototype,L3=V3.toString;function F3(t){return L3.call(t)}var $3="[object Null]",U3="[object Undefined]",J1=Si?Si.toStringTag:void 0;function js(t){return t==null?t===void 0?U3:$3:J1&&J1 in Object(t)?M3(t):F3(t)}function rb(t,e){return function(n){return t(e(n))}}var B3=rb(Object.getPrototypeOf,Object);const p0=B3;function Ms(t){return t!=null&&typeof t=="object"}var z3="[object Object]",W3=Function.prototype,H3=Object.prototype,ib=W3.toString,q3=H3.hasOwnProperty,G3=ib.call(Object);function Z1(t){if(!Ms(t)||js(t)!=z3)return!1;var e=p0(t);if(e===null)return!0;var n=q3.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&ib.call(n)==G3}var eE=Array.isArray,tE=Object.keys,K3=Object.prototype.hasOwnProperty,Q3=typeof Element<"u";function Tg(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=eE(t),r=eE(e),i,s,o;if(n&&r){if(s=t.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!Tg(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,l=e instanceof Date;if(a!=l)return!1;if(a&&l)return t.getTime()==e.getTime();var u=t instanceof RegExp,c=e instanceof RegExp;if(u!=c)return!1;if(u&&c)return t.toString()==e.toString();var h=tE(t);if(s=h.length,s!==tE(e).length)return!1;for(i=s;i--!==0;)if(!K3.call(e,h[i]))return!1;if(Q3&&t instanceof Element&&e instanceof Element)return t===e;for(i=s;i--!==0;)if(o=h[i],!(o==="_owner"&&t.$$typeof)&&!Tg(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var X3=function(e,n){try{return Tg(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const zr=Qh(X3);var Y3=!0;function sb(t,e){if(!Y3){if(t)return;var n="Warning: "+e;typeof console<"u"&&console.warn(n);try{throw Error(n)}catch{}}}function J3(){this.__data__=[],this.size=0}function ob(t,e){return t===e||t!==t&&e!==e}function Yd(t,e){for(var n=t.length;n--;)if(ob(t[n][0],e))return n;return-1}var Z3=Array.prototype,e6=Z3.splice;function t6(t){var e=this.__data__,n=Yd(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():e6.call(e,n,1),--this.size,!0}function n6(t){var e=this.__data__,n=Yd(e,t);return n<0?void 0:e[n][1]}function r6(t){return Yd(this.__data__,t)>-1}function i6(t,e){var n=this.__data__,r=Yd(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function jr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}jr.prototype.clear=J3;jr.prototype.delete=t6;jr.prototype.get=n6;jr.prototype.has=r6;jr.prototype.set=i6;function s6(){this.__data__=new jr,this.size=0}function o6(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function a6(t){return this.__data__.get(t)}function l6(t){return this.__data__.has(t)}function Eu(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var u6="[object AsyncFunction]",c6="[object Function]",h6="[object GeneratorFunction]",d6="[object Proxy]";function ab(t){if(!Eu(t))return!1;var e=js(t);return e==c6||e==h6||e==u6||e==d6}var f6=rr["__core-js_shared__"];const wp=f6;var nE=function(){var t=/[^.]+$/.exec(wp&&wp.keys&&wp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function p6(t){return!!nE&&nE in t}var m6=Function.prototype,g6=m6.toString;function Vs(t){if(t!=null){try{return g6.call(t)}catch{}try{return t+""}catch{}}return""}var y6=/[\\^$.*+?()[\]{}|]/g,v6=/^\[object .+?Constructor\]$/,_6=Function.prototype,w6=Object.prototype,E6=_6.toString,T6=w6.hasOwnProperty,S6=RegExp("^"+E6.call(T6).replace(y6,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function x6(t){if(!Eu(t)||p6(t))return!1;var e=ab(t)?S6:v6;return e.test(Vs(t))}function I6(t,e){return t==null?void 0:t[e]}function Ls(t,e){var n=I6(t,e);return x6(n)?n:void 0}var A6=Ls(rr,"Map");const $l=A6;var P6=Ls(Object,"create");const Ul=P6;function C6(){this.__data__=Ul?Ul(null):{},this.size=0}function b6(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var R6="__lodash_hash_undefined__",k6=Object.prototype,N6=k6.hasOwnProperty;function D6(t){var e=this.__data__;if(Ul){var n=e[t];return n===R6?void 0:n}return N6.call(e,t)?e[t]:void 0}var O6=Object.prototype,j6=O6.hasOwnProperty;function M6(t){var e=this.__data__;return Ul?e[t]!==void 0:j6.call(e,t)}var V6="__lodash_hash_undefined__";function L6(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ul&&e===void 0?V6:e,this}function As(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}As.prototype.clear=C6;As.prototype.delete=b6;As.prototype.get=D6;As.prototype.has=M6;As.prototype.set=L6;function F6(){this.size=0,this.__data__={hash:new As,map:new($l||jr),string:new As}}function $6(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Jd(t,e){var n=t.__data__;return $6(e)?n[typeof e=="string"?"string":"hash"]:n.map}function U6(t){var e=Jd(this,t).delete(t);return this.size-=e?1:0,e}function B6(t){return Jd(this,t).get(t)}function z6(t){return Jd(this,t).has(t)}function W6(t,e){var n=Jd(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Oi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Oi.prototype.clear=F6;Oi.prototype.delete=U6;Oi.prototype.get=B6;Oi.prototype.has=z6;Oi.prototype.set=W6;var H6=200;function q6(t,e){var n=this.__data__;if(n instanceof jr){var r=n.__data__;if(!$l||r.length<H6-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Oi(r)}return n.set(t,e),this.size=n.size,this}function ia(t){var e=this.__data__=new jr(t);this.size=e.size}ia.prototype.clear=s6;ia.prototype.delete=o6;ia.prototype.get=a6;ia.prototype.has=l6;ia.prototype.set=q6;function G6(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var K6=function(){try{var t=Ls(Object,"defineProperty");return t({},"",{}),t}catch{}}();const rE=K6;function lb(t,e,n){e=="__proto__"&&rE?rE(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Q6=Object.prototype,X6=Q6.hasOwnProperty;function ub(t,e,n){var r=t[e];(!(X6.call(t,e)&&ob(r,n))||n===void 0&&!(e in t))&&lb(t,e,n)}function Zd(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?lb(n,a,l):ub(n,a,l)}return n}function Y6(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var J6="[object Arguments]";function iE(t){return Ms(t)&&js(t)==J6}var cb=Object.prototype,Z6=cb.hasOwnProperty,e5=cb.propertyIsEnumerable,t5=iE(function(){return arguments}())?iE:function(t){return Ms(t)&&Z6.call(t,"callee")&&!e5.call(t,"callee")};const n5=t5;var r5=Array.isArray;const Tu=r5;function i5(){return!1}var hb=typeof nn=="object"&&nn&&!nn.nodeType&&nn,sE=hb&&typeof rn=="object"&&rn&&!rn.nodeType&&rn,s5=sE&&sE.exports===hb,oE=s5?rr.Buffer:void 0,o5=oE?oE.isBuffer:void 0,a5=o5||i5;const db=a5;var l5=9007199254740991,u5=/^(?:0|[1-9]\d*)$/;function c5(t,e){var n=typeof t;return e=e??l5,!!e&&(n=="number"||n!="symbol"&&u5.test(t))&&t>-1&&t%1==0&&t<e}var h5=9007199254740991;function fb(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=h5}var d5="[object Arguments]",f5="[object Array]",p5="[object Boolean]",m5="[object Date]",g5="[object Error]",y5="[object Function]",v5="[object Map]",_5="[object Number]",w5="[object Object]",E5="[object RegExp]",T5="[object Set]",S5="[object String]",x5="[object WeakMap]",I5="[object ArrayBuffer]",A5="[object DataView]",P5="[object Float32Array]",C5="[object Float64Array]",b5="[object Int8Array]",R5="[object Int16Array]",k5="[object Int32Array]",N5="[object Uint8Array]",D5="[object Uint8ClampedArray]",O5="[object Uint16Array]",j5="[object Uint32Array]",Te={};Te[P5]=Te[C5]=Te[b5]=Te[R5]=Te[k5]=Te[N5]=Te[D5]=Te[O5]=Te[j5]=!0;Te[d5]=Te[f5]=Te[I5]=Te[p5]=Te[A5]=Te[m5]=Te[g5]=Te[y5]=Te[v5]=Te[_5]=Te[w5]=Te[E5]=Te[T5]=Te[S5]=Te[x5]=!1;function M5(t){return Ms(t)&&fb(t.length)&&!!Te[js(t)]}function m0(t){return function(e){return t(e)}}var pb=typeof nn=="object"&&nn&&!nn.nodeType&&nn,Ya=pb&&typeof rn=="object"&&rn&&!rn.nodeType&&rn,V5=Ya&&Ya.exports===pb,Ep=V5&&tb.process,L5=function(){try{var t=Ya&&Ya.require&&Ya.require("util").types;return t||Ep&&Ep.binding&&Ep.binding("util")}catch{}}();const Bo=L5;var aE=Bo&&Bo.isTypedArray,F5=aE?m0(aE):M5;const $5=F5;var U5=Object.prototype,B5=U5.hasOwnProperty;function mb(t,e){var n=Tu(t),r=!n&&n5(t),i=!n&&!r&&db(t),s=!n&&!r&&!i&&$5(t),o=n||r||i||s,a=o?Y6(t.length,String):[],l=a.length;for(var u in t)(e||B5.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||c5(u,l)))&&a.push(u);return a}var z5=Object.prototype;function g0(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||z5;return t===n}var W5=rb(Object.keys,Object);const H5=W5;var q5=Object.prototype,G5=q5.hasOwnProperty;function K5(t){if(!g0(t))return H5(t);var e=[];for(var n in Object(t))G5.call(t,n)&&n!="constructor"&&e.push(n);return e}function gb(t){return t!=null&&fb(t.length)&&!ab(t)}function y0(t){return gb(t)?mb(t):K5(t)}function Q5(t,e){return t&&Zd(e,y0(e),t)}function X5(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Y5=Object.prototype,J5=Y5.hasOwnProperty;function Z5(t){if(!Eu(t))return X5(t);var e=g0(t),n=[];for(var r in t)r=="constructor"&&(e||!J5.call(t,r))||n.push(r);return n}function v0(t){return gb(t)?mb(t,!0):Z5(t)}function e9(t,e){return t&&Zd(e,v0(e),t)}var yb=typeof nn=="object"&&nn&&!nn.nodeType&&nn,lE=yb&&typeof rn=="object"&&rn&&!rn.nodeType&&rn,t9=lE&&lE.exports===yb,uE=t9?rr.Buffer:void 0,cE=uE?uE.allocUnsafe:void 0;function n9(t,e){if(e)return t.slice();var n=t.length,r=cE?cE(n):new t.constructor(n);return t.copy(r),r}function vb(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function r9(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function _b(){return[]}var i9=Object.prototype,s9=i9.propertyIsEnumerable,hE=Object.getOwnPropertySymbols,o9=hE?function(t){return t==null?[]:(t=Object(t),r9(hE(t),function(e){return s9.call(t,e)}))}:_b;const _0=o9;function a9(t,e){return Zd(t,_0(t),e)}function wb(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var l9=Object.getOwnPropertySymbols,u9=l9?function(t){for(var e=[];t;)wb(e,_0(t)),t=p0(t);return e}:_b;const Eb=u9;function c9(t,e){return Zd(t,Eb(t),e)}function Tb(t,e,n){var r=e(t);return Tu(t)?r:wb(r,n(t))}function h9(t){return Tb(t,y0,_0)}function d9(t){return Tb(t,v0,Eb)}var f9=Ls(rr,"DataView");const Sg=f9;var p9=Ls(rr,"Promise");const xg=p9;var m9=Ls(rr,"Set");const Ig=m9;var g9=Ls(rr,"WeakMap");const Ag=g9;var dE="[object Map]",y9="[object Object]",fE="[object Promise]",pE="[object Set]",mE="[object WeakMap]",gE="[object DataView]",v9=Vs(Sg),_9=Vs($l),w9=Vs(xg),E9=Vs(Ig),T9=Vs(Ag),Gi=js;(Sg&&Gi(new Sg(new ArrayBuffer(1)))!=gE||$l&&Gi(new $l)!=dE||xg&&Gi(xg.resolve())!=fE||Ig&&Gi(new Ig)!=pE||Ag&&Gi(new Ag)!=mE)&&(Gi=function(t){var e=js(t),n=e==y9?t.constructor:void 0,r=n?Vs(n):"";if(r)switch(r){case v9:return gE;case _9:return dE;case w9:return fE;case E9:return pE;case T9:return mE}return e});const w0=Gi;var S9=Object.prototype,x9=S9.hasOwnProperty;function I9(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&x9.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var A9=rr.Uint8Array;const yE=A9;function E0(t){var e=new t.constructor(t.byteLength);return new yE(e).set(new yE(t)),e}function P9(t,e){var n=e?E0(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var C9=/\w*$/;function b9(t){var e=new t.constructor(t.source,C9.exec(t));return e.lastIndex=t.lastIndex,e}var vE=Si?Si.prototype:void 0,_E=vE?vE.valueOf:void 0;function R9(t){return _E?Object(_E.call(t)):{}}function k9(t,e){var n=e?E0(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var N9="[object Boolean]",D9="[object Date]",O9="[object Map]",j9="[object Number]",M9="[object RegExp]",V9="[object Set]",L9="[object String]",F9="[object Symbol]",$9="[object ArrayBuffer]",U9="[object DataView]",B9="[object Float32Array]",z9="[object Float64Array]",W9="[object Int8Array]",H9="[object Int16Array]",q9="[object Int32Array]",G9="[object Uint8Array]",K9="[object Uint8ClampedArray]",Q9="[object Uint16Array]",X9="[object Uint32Array]";function Y9(t,e,n){var r=t.constructor;switch(e){case $9:return E0(t);case N9:case D9:return new r(+t);case U9:return P9(t,n);case B9:case z9:case W9:case H9:case q9:case G9:case K9:case Q9:case X9:return k9(t,n);case O9:return new r;case j9:case L9:return new r(t);case M9:return b9(t);case V9:return new r;case F9:return R9(t)}}var wE=Object.create,J9=function(){function t(){}return function(e){if(!Eu(e))return{};if(wE)return wE(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const Z9=J9;function eB(t){return typeof t.constructor=="function"&&!g0(t)?Z9(p0(t)):{}}var tB="[object Map]";function nB(t){return Ms(t)&&w0(t)==tB}var EE=Bo&&Bo.isMap,rB=EE?m0(EE):nB;const iB=rB;var sB="[object Set]";function oB(t){return Ms(t)&&w0(t)==sB}var TE=Bo&&Bo.isSet,aB=TE?m0(TE):oB;const lB=aB;var uB=1,cB=2,hB=4,Sb="[object Arguments]",dB="[object Array]",fB="[object Boolean]",pB="[object Date]",mB="[object Error]",xb="[object Function]",gB="[object GeneratorFunction]",yB="[object Map]",vB="[object Number]",Ib="[object Object]",_B="[object RegExp]",wB="[object Set]",EB="[object String]",TB="[object Symbol]",SB="[object WeakMap]",xB="[object ArrayBuffer]",IB="[object DataView]",AB="[object Float32Array]",PB="[object Float64Array]",CB="[object Int8Array]",bB="[object Int16Array]",RB="[object Int32Array]",kB="[object Uint8Array]",NB="[object Uint8ClampedArray]",DB="[object Uint16Array]",OB="[object Uint32Array]",me={};me[Sb]=me[dB]=me[xB]=me[IB]=me[fB]=me[pB]=me[AB]=me[PB]=me[CB]=me[bB]=me[RB]=me[yB]=me[vB]=me[Ib]=me[_B]=me[wB]=me[EB]=me[TB]=me[kB]=me[NB]=me[DB]=me[OB]=!0;me[mB]=me[xb]=me[SB]=!1;function Ja(t,e,n,r,i,s){var o,a=e&uB,l=e&cB,u=e&hB;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!Eu(t))return t;var c=Tu(t);if(c){if(o=I9(t),!a)return vb(t,o)}else{var h=w0(t),f=h==xb||h==gB;if(db(t))return n9(t,a);if(h==Ib||h==Sb||f&&!i){if(o=l||f?{}:eB(t),!a)return l?c9(t,e9(o,t)):a9(t,Q5(o,t))}else{if(!me[h])return i?t:{};o=Y9(t,h,a)}}s||(s=new ia);var p=s.get(t);if(p)return p;s.set(t,o),lB(t)?t.forEach(function(w){o.add(Ja(w,e,n,w,t,s))}):iB(t)&&t.forEach(function(w,v){o.set(v,Ja(w,e,n,v,t,s))});var g=u?l?d9:h9:l?v0:y0,_=c?void 0:g(t);return G6(_||t,function(w,v){_&&(v=w,w=t[v]),ub(o,v,Ja(w,e,n,v,t,s))}),o}var jB=4;function SE(t){return Ja(t,jB)}function Ab(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var MB="[object Symbol]";function T0(t){return typeof t=="symbol"||Ms(t)&&js(t)==MB}var VB="Expected a function";function S0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(VB);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(S0.Cache||Oi),n}S0.Cache=Oi;var LB=500;function FB(t){var e=S0(t,function(r){return n.size===LB&&n.clear(),r}),n=e.cache;return e}var $B=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,UB=/\\(\\)?/g,BB=FB(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace($B,function(n,r,i,s){e.push(i?s.replace(UB,"$1"):r||n)}),e});const zB=BB;var WB=1/0;function HB(t){if(typeof t=="string"||T0(t))return t;var e=t+"";return e=="0"&&1/t==-WB?"-0":e}var qB=1/0,xE=Si?Si.prototype:void 0,IE=xE?xE.toString:void 0;function Pb(t){if(typeof t=="string")return t;if(Tu(t))return Ab(t,Pb)+"";if(T0(t))return IE?IE.call(t):"";var e=t+"";return e=="0"&&1/t==-qB?"-0":e}function GB(t){return t==null?"":Pb(t)}function Cb(t){return Tu(t)?Ab(t,HB):T0(t)?[t]:vb(zB(GB(t)))}var bb={exports:{}},pe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var at=typeof Symbol=="function"&&Symbol.for,x0=at?Symbol.for("react.element"):60103,I0=at?Symbol.for("react.portal"):60106,ef=at?Symbol.for("react.fragment"):60107,tf=at?Symbol.for("react.strict_mode"):60108,nf=at?Symbol.for("react.profiler"):60114,rf=at?Symbol.for("react.provider"):60109,sf=at?Symbol.for("react.context"):60110,A0=at?Symbol.for("react.async_mode"):60111,of=at?Symbol.for("react.concurrent_mode"):60111,af=at?Symbol.for("react.forward_ref"):60112,lf=at?Symbol.for("react.suspense"):60113,KB=at?Symbol.for("react.suspense_list"):60120,uf=at?Symbol.for("react.memo"):60115,cf=at?Symbol.for("react.lazy"):60116,QB=at?Symbol.for("react.block"):60121,XB=at?Symbol.for("react.fundamental"):60117,YB=at?Symbol.for("react.responder"):60118,JB=at?Symbol.for("react.scope"):60119;function hn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case x0:switch(t=t.type,t){case A0:case of:case ef:case nf:case tf:case lf:return t;default:switch(t=t&&t.$$typeof,t){case sf:case af:case cf:case uf:case rf:return t;default:return e}}case I0:return e}}}function Rb(t){return hn(t)===of}pe.AsyncMode=A0;pe.ConcurrentMode=of;pe.ContextConsumer=sf;pe.ContextProvider=rf;pe.Element=x0;pe.ForwardRef=af;pe.Fragment=ef;pe.Lazy=cf;pe.Memo=uf;pe.Portal=I0;pe.Profiler=nf;pe.StrictMode=tf;pe.Suspense=lf;pe.isAsyncMode=function(t){return Rb(t)||hn(t)===A0};pe.isConcurrentMode=Rb;pe.isContextConsumer=function(t){return hn(t)===sf};pe.isContextProvider=function(t){return hn(t)===rf};pe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===x0};pe.isForwardRef=function(t){return hn(t)===af};pe.isFragment=function(t){return hn(t)===ef};pe.isLazy=function(t){return hn(t)===cf};pe.isMemo=function(t){return hn(t)===uf};pe.isPortal=function(t){return hn(t)===I0};pe.isProfiler=function(t){return hn(t)===nf};pe.isStrictMode=function(t){return hn(t)===tf};pe.isSuspense=function(t){return hn(t)===lf};pe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ef||t===of||t===nf||t===tf||t===lf||t===KB||typeof t=="object"&&t!==null&&(t.$$typeof===cf||t.$$typeof===uf||t.$$typeof===rf||t.$$typeof===sf||t.$$typeof===af||t.$$typeof===XB||t.$$typeof===YB||t.$$typeof===JB||t.$$typeof===QB)};pe.typeOf=hn;bb.exports=pe;var ZB=bb.exports,P0=ZB,e8={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t8={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n8={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},kb={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},C0={};C0[P0.ForwardRef]=n8;C0[P0.Memo]=kb;function AE(t){return P0.isMemo(t)?kb:C0[t.$$typeof]||e8}var r8=Object.defineProperty,i8=Object.getOwnPropertyNames,PE=Object.getOwnPropertySymbols,s8=Object.getOwnPropertyDescriptor,o8=Object.getPrototypeOf,CE=Object.prototype;function Nb(t,e,n){if(typeof e!="string"){if(CE){var r=o8(e);r&&r!==CE&&Nb(t,r,n)}var i=i8(e);PE&&(i=i.concat(PE(e)));for(var s=AE(t),o=AE(e),a=0;a<i.length;++a){var l=i[a];if(!t8[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var u=s8(e,l);try{r8(t,l,u)}catch{}}}}return t}var a8=Nb;const l8=Qh(a8);var u8=1,c8=4;function h8(t){return Ja(t,u8|c8)}function he(){return he=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},he.apply(this,arguments)}function Db(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function ti(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function bE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var hf=E.createContext(void 0);hf.displayName="FormikContext";var d8=hf.Provider,f8=hf.Consumer;function Ob(){var t=E.useContext(hf);return t||sb(!1),t}var RE=function(e){return Array.isArray(e)&&e.length===0},ct=function(e){return typeof e=="function"},Su=function(e){return e!==null&&typeof e=="object"},p8=function(e){return String(Math.floor(Number(e)))===e},Tp=function(e){return Object.prototype.toString.call(e)==="[object String]"},jb=function(e){return E.Children.count(e)===0},Sp=function(e){return Su(e)&&ct(e.then)};function Pe(t,e,n,r){r===void 0&&(r=0);for(var i=Cb(e);t&&r<i.length;)t=t[i[r++]];return r!==i.length&&!t||t===void 0?n:t}function Jn(t,e,n){for(var r=SE(t),i=r,s=0,o=Cb(e);s<o.length-1;s++){var a=o[s],l=Pe(t,o.slice(0,s+1));if(l&&(Su(l)||Array.isArray(l)))i=i[a]=SE(l);else{var u=o[s+1];i=i[a]=p8(u)&&Number(u)>=0?[]:{}}}return(s===0?t:i)[o[s]]===n?t:(n===void 0?delete i[o[s]]:i[o[s]]=n,s===0&&n===void 0&&delete r[o[s]],r)}function Mb(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i],a=t[o];Su(a)?n.get(a)||(n.set(a,!0),r[o]=Array.isArray(a)?[]:{},Mb(a,e,n,r[o])):r[o]=e}return r}function m8(t,e){switch(e.type){case"SET_VALUES":return he({},t,{values:e.payload});case"SET_TOUCHED":return he({},t,{touched:e.payload});case"SET_ERRORS":return zr(t.errors,e.payload)?t:he({},t,{errors:e.payload});case"SET_STATUS":return he({},t,{status:e.payload});case"SET_ISSUBMITTING":return he({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return he({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return he({},t,{values:Jn(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return he({},t,{touched:Jn(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return he({},t,{errors:Jn(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return he({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return he({},t,{touched:Mb(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return he({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return he({},t,{isSubmitting:!1});default:return t}}var $i={},sc={};function g8(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,s=t.validateOnMount,o=s===void 0?!1:s,a=t.isInitialValid,l=t.enableReinitialize,u=l===void 0?!1:l,c=t.onSubmit,h=ti(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),f=he({validateOnChange:n,validateOnBlur:i,validateOnMount:o,onSubmit:c},h),p=E.useRef(f.initialValues),g=E.useRef(f.initialErrors||$i),_=E.useRef(f.initialTouched||sc),w=E.useRef(f.initialStatus),v=E.useRef(!1),m=E.useRef({});E.useEffect(function(){return v.current=!0,function(){v.current=!1}},[]);var y=E.useState(0),T=y[1],x=E.useRef({values:f.initialValues,errors:f.initialErrors||$i,touched:f.initialTouched||sc,status:f.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),S=x.current,I=E.useCallback(function(P){var V=x.current;x.current=m8(V,P),V!==x.current&&T(function(U){return U+1})},[]),A=E.useCallback(function(P,V){return new Promise(function(U,W){var te=f.validate(P,V);te==null?U($i):Sp(te)?te.then(function(ce){U(ce||$i)},function(ce){W(ce)}):U(te)})},[f.validate]),C=E.useCallback(function(P,V){var U=f.validationSchema,W=ct(U)?U(V):U,te=V&&W.validateAt?W.validateAt(V,P):v8(P,W);return new Promise(function(ce,et){te.then(function(){ce($i)},function(or){or.name==="ValidationError"?ce(y8(or)):et(or)})})},[f.validationSchema]),k=E.useCallback(function(P,V){return new Promise(function(U){return U(m.current[P].validate(V))})},[]),$=E.useCallback(function(P){var V=Object.keys(m.current).filter(function(W){return ct(m.current[W].validate)}),U=V.length>0?V.map(function(W){return k(W,Pe(P,W))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(U).then(function(W){return W.reduce(function(te,ce,et){return ce==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||ce&&(te=Jn(te,V[et],ce)),te},{})})},[k]),se=E.useCallback(function(P){return Promise.all([$(P),f.validationSchema?C(P):{},f.validate?A(P):{}]).then(function(V){var U=V[0],W=V[1],te=V[2],ce=Eg.all([U,W,te],{arrayMerge:_8});return ce})},[f.validate,f.validationSchema,$,A,C]),Y=dn(function(P){return P===void 0&&(P=S.values),I({type:"SET_ISVALIDATING",payload:!0}),se(P).then(function(V){return v.current&&(I({type:"SET_ISVALIDATING",payload:!1}),I({type:"SET_ERRORS",payload:V})),V})});E.useEffect(function(){o&&v.current===!0&&zr(p.current,f.initialValues)&&Y(p.current)},[o,Y]);var K=E.useCallback(function(P){var V=P&&P.values?P.values:p.current,U=P&&P.errors?P.errors:g.current?g.current:f.initialErrors||{},W=P&&P.touched?P.touched:_.current?_.current:f.initialTouched||{},te=P&&P.status?P.status:w.current?w.current:f.initialStatus;p.current=V,g.current=U,_.current=W,w.current=te;var ce=function(){I({type:"RESET_FORM",payload:{isSubmitting:!!P&&!!P.isSubmitting,errors:U,touched:W,status:te,values:V,isValidating:!!P&&!!P.isValidating,submitCount:P&&P.submitCount&&typeof P.submitCount=="number"?P.submitCount:0}})};if(f.onReset){var et=f.onReset(S.values,Bs);Sp(et)?et.then(ce):ce()}else ce()},[f.initialErrors,f.initialStatus,f.initialTouched,f.onReset]);E.useEffect(function(){v.current===!0&&!zr(p.current,f.initialValues)&&u&&(p.current=f.initialValues,K(),o&&Y(p.current))},[u,f.initialValues,K,o,Y]),E.useEffect(function(){u&&v.current===!0&&!zr(g.current,f.initialErrors)&&(g.current=f.initialErrors||$i,I({type:"SET_ERRORS",payload:f.initialErrors||$i}))},[u,f.initialErrors]),E.useEffect(function(){u&&v.current===!0&&!zr(_.current,f.initialTouched)&&(_.current=f.initialTouched||sc,I({type:"SET_TOUCHED",payload:f.initialTouched||sc}))},[u,f.initialTouched]),E.useEffect(function(){u&&v.current===!0&&!zr(w.current,f.initialStatus)&&(w.current=f.initialStatus,I({type:"SET_STATUS",payload:f.initialStatus}))},[u,f.initialStatus,f.initialTouched]);var F=dn(function(P){if(m.current[P]&&ct(m.current[P].validate)){var V=Pe(S.values,P),U=m.current[P].validate(V);return Sp(U)?(I({type:"SET_ISVALIDATING",payload:!0}),U.then(function(W){return W}).then(function(W){I({type:"SET_FIELD_ERROR",payload:{field:P,value:W}}),I({type:"SET_ISVALIDATING",payload:!1})})):(I({type:"SET_FIELD_ERROR",payload:{field:P,value:U}}),Promise.resolve(U))}else if(f.validationSchema)return I({type:"SET_ISVALIDATING",payload:!0}),C(S.values,P).then(function(W){return W}).then(function(W){I({type:"SET_FIELD_ERROR",payload:{field:P,value:Pe(W,P)}}),I({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),we=E.useCallback(function(P,V){var U=V.validate;m.current[P]={validate:U}},[]),Rt=E.useCallback(function(P){delete m.current[P]},[]),j=dn(function(P,V){I({type:"SET_TOUCHED",payload:P});var U=V===void 0?i:V;return U?Y(S.values):Promise.resolve()}),q=E.useCallback(function(P){I({type:"SET_ERRORS",payload:P})},[]),Q=dn(function(P,V){var U=ct(P)?P(S.values):P;I({type:"SET_VALUES",payload:U});var W=V===void 0?n:V;return W?Y(U):Promise.resolve()}),z=E.useCallback(function(P,V){I({type:"SET_FIELD_ERROR",payload:{field:P,value:V}})},[]),ae=dn(function(P,V,U){I({type:"SET_FIELD_VALUE",payload:{field:P,value:V}});var W=U===void 0?n:U;return W?Y(Jn(S.values,P,V)):Promise.resolve()}),Ft=E.useCallback(function(P,V){var U=V,W=P,te;if(!Tp(P)){P.persist&&P.persist();var ce=P.target?P.target:P.currentTarget,et=ce.type,or=ce.name,xf=ce.id,If=ce.value,xR=ce.checked,BG=ce.outerHTML,s_=ce.options,IR=ce.multiple;U=V||or||xf,W=/number|range/.test(et)?(te=parseFloat(If),isNaN(te)?"":te):/checkbox/.test(et)?E8(Pe(S.values,U),xR,If):s_&&IR?w8(s_):If}U&&ae(U,W)},[ae,S.values]),lt=dn(function(P){if(Tp(P))return function(V){return Ft(V,P)};Ft(P)}),vt=dn(function(P,V,U){V===void 0&&(V=!0),I({type:"SET_FIELD_TOUCHED",payload:{field:P,value:V}});var W=U===void 0?i:U;return W?Y(S.values):Promise.resolve()}),ze=E.useCallback(function(P,V){P.persist&&P.persist();var U=P.target,W=U.name,te=U.id,ce=U.outerHTML,et=V||W||te;vt(et,!0)},[vt]),kt=dn(function(P){if(Tp(P))return function(V){return ze(V,P)};ze(P)}),Vi=E.useCallback(function(P){ct(P)?I({type:"SET_FORMIK_STATE",payload:P}):I({type:"SET_FORMIK_STATE",payload:function(){return P}})},[]),ir=E.useCallback(function(P){I({type:"SET_STATUS",payload:P})},[]),Dn=E.useCallback(function(P){I({type:"SET_ISSUBMITTING",payload:P})},[]),$t=dn(function(){return I({type:"SUBMIT_ATTEMPT"}),Y().then(function(P){var V=P instanceof Error,U=!V&&Object.keys(P).length===0;if(U){var W;try{if(W=Fi(),W===void 0)return}catch(te){throw te}return Promise.resolve(W).then(function(te){return v.current&&I({type:"SUBMIT_SUCCESS"}),te}).catch(function(te){if(v.current)throw I({type:"SUBMIT_FAILURE"}),te})}else if(v.current&&(I({type:"SUBMIT_FAILURE"}),V))throw P})}),Li=dn(function(P){P&&P.preventDefault&&ct(P.preventDefault)&&P.preventDefault(),P&&P.stopPropagation&&ct(P.stopPropagation)&&P.stopPropagation(),$t().catch(function(V){console.warn("Warning: An unhandled error was caught from submitForm()",V)})}),Bs={resetForm:K,validateForm:Y,validateField:F,setErrors:q,setFieldError:z,setFieldTouched:vt,setFieldValue:ae,setStatus:ir,setSubmitting:Dn,setTouched:j,setValues:Q,setFormikState:Vi,submitForm:$t},Fi=dn(function(){return c(S.values,Bs)}),bu=dn(function(P){P&&P.preventDefault&&ct(P.preventDefault)&&P.preventDefault(),P&&P.stopPropagation&&ct(P.stopPropagation)&&P.stopPropagation(),K()}),Ru=E.useCallback(function(P){return{value:Pe(S.values,P),error:Pe(S.errors,P),touched:!!Pe(S.touched,P),initialValue:Pe(p.current,P),initialTouched:!!Pe(_.current,P),initialError:Pe(g.current,P)}},[S.errors,S.touched,S.values]),Mr=E.useCallback(function(P){return{setValue:function(U,W){return ae(P,U,W)},setTouched:function(U,W){return vt(P,U,W)},setError:function(U){return z(P,U)}}},[ae,vt,z]),sa=E.useCallback(function(P){var V=Su(P),U=V?P.name:P,W=Pe(S.values,U),te={name:U,value:W,onChange:lt,onBlur:kt};if(V){var ce=P.type,et=P.value,or=P.as,xf=P.multiple;ce==="checkbox"?et===void 0?te.checked=!!W:(te.checked=!!(Array.isArray(W)&&~W.indexOf(et)),te.value=et):ce==="radio"?(te.checked=W===et,te.value=et):or==="select"&&xf&&(te.value=te.value||[],te.multiple=!0)}return te},[kt,lt,S.values]),sr=E.useMemo(function(){return!zr(p.current,S.values)},[p.current,S.values]),TR=E.useMemo(function(){return typeof a<"u"?sr?S.errors&&Object.keys(S.errors).length===0:a!==!1&&ct(a)?a(f):a:S.errors&&Object.keys(S.errors).length===0},[a,sr,S.errors,f]),SR=he({},S,{initialValues:p.current,initialErrors:g.current,initialTouched:_.current,initialStatus:w.current,handleBlur:kt,handleChange:lt,handleReset:bu,handleSubmit:Li,resetForm:K,setErrors:q,setFormikState:Vi,setFieldTouched:vt,setFieldValue:ae,setFieldError:z,setStatus:ir,setSubmitting:Dn,setTouched:j,setValues:Q,submitForm:$t,validateForm:Y,validateField:F,isValid:TR,dirty:sr,unregisterField:Rt,registerField:we,getFieldProps:sa,getFieldMeta:Ru,getFieldHelpers:Mr,validateOnBlur:i,validateOnChange:n,validateOnMount:o});return SR}function Bl(t){var e=g8(t),n=t.component,r=t.children,i=t.render,s=t.innerRef;return E.useImperativeHandle(s,function(){return e}),E.createElement(d8,{value:e},n?E.createElement(n,e):i?i(e):r?ct(r)?r(e):jb(r)?null:E.Children.only(r):null)}function y8(t){var e={};if(t.inner){if(t.inner.length===0)return Jn(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(r>=i.length)break;s=i[r++]}else{if(r=i.next(),r.done)break;s=r.value}var o=s;Pe(e,o.path)||(e=Jn(e,o.path,o.message))}}return e}function v8(t,e,n,r){n===void 0&&(n=!1);var i=Pg(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:r||i})}function Pg(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||Z1(i)?Pg(i):i!==""?i:void 0}):Z1(t[r])?e[r]=Pg(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function _8(t,e,n){var r=t.slice();return e.forEach(function(s,o){if(typeof r[o]>"u"){var a=n.clone!==!1,l=a&&n.isMergeableObject(s);r[o]=l?Eg(Array.isArray(s)?[]:{},s,n):s}else n.isMergeableObject(s)?r[o]=Eg(t[o],s,n):t.indexOf(s)===-1&&r.push(s)}),r}function w8(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function E8(t,e,n){if(typeof t=="boolean")return!!e;var r=[],i=!1,s=-1;if(Array.isArray(t))r=t,s=t.indexOf(n),i=s>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!i?r.concat(n):i?r.slice(0,s).concat(r.slice(s+1)):r}var T8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?E.useLayoutEffect:E.useEffect;function dn(t){var e=E.useRef(t);return T8(function(){e.current=t}),E.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}function ge(t){var e=t.validate,n=t.name,r=t.render,i=t.children,s=t.as,o=t.component,a=t.className,l=ti(t,["validate","name","render","children","as","component","className"]),u=Ob(),c=ti(u,["validate","validationSchema"]),h=c.registerField,f=c.unregisterField;E.useEffect(function(){return h(n,{validate:e}),function(){f(n)}},[h,f,n,e]);var p=c.getFieldProps(he({name:n},l)),g=c.getFieldMeta(n),_={field:p,form:c};if(r)return r(he({},_,{meta:g}));if(ct(i))return i(he({},_,{meta:g}));if(o){if(typeof o=="string"){var w=l.innerRef,v=ti(l,["innerRef"]);return E.createElement(o,he({ref:w},p,v,{className:a}),i)}return E.createElement(o,he({field:p,form:c},l,{className:a}),i)}var m=s||"input";if(typeof m=="string"){var y=l.innerRef,T=ti(l,["innerRef"]);return E.createElement(m,he({ref:y},p,T,{className:a}),i)}return E.createElement(m,he({},p,l,{className:a}),i)}var zo=E.forwardRef(function(t,e){var n=t.action,r=ti(t,["action"]),i=n??"#",s=Ob(),o=s.handleReset,a=s.handleSubmit;return E.createElement("form",he({onSubmit:a,ref:e,onReset:o,action:i},r))});zo.displayName="Form";function S8(t){var e=function(i){return E.createElement(f8,null,function(s){return s||sb(!1),E.createElement(t,he({},i,{formik:s}))})},n=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+n+")",l8(e,t)}var x8=function(e,n,r){var i=Ps(e),s=i[n];return i.splice(n,1),i.splice(r,0,s),i},I8=function(e,n,r){var i=Ps(e),s=i[n];return i[n]=i[r],i[r]=s,i},xp=function(e,n,r){var i=Ps(e);return i.splice(n,0,r),i},A8=function(e,n,r){var i=Ps(e);return i[n]=r,i},Ps=function(e){if(e){if(Array.isArray(e))return[].concat(e);var n=Object.keys(e).map(function(r){return parseInt(r)}).reduce(function(r,i){return i>r?i:r},0);return Array.from(he({},e,{length:n+1}))}else return[]},kE=function(e,n){var r=typeof e=="function"?e:n;return function(i){if(Array.isArray(i)||Su(i)){var s=Ps(i);return r(s)}return i}},P8=function(t){Db(e,t);function e(r){var i;return i=t.call(this,r)||this,i.updateArrayField=function(s,o,a){var l=i.props,u=l.name,c=l.formik.setFormikState;c(function(h){var f=kE(a,s),p=kE(o,s),g=Jn(h.values,u,s(Pe(h.values,u))),_=a?f(Pe(h.errors,u)):void 0,w=o?p(Pe(h.touched,u)):void 0;return RE(_)&&(_=void 0),RE(w)&&(w=void 0),he({},h,{values:g,errors:a?Jn(h.errors,u,_):h.errors,touched:o?Jn(h.touched,u,w):h.touched})})},i.push=function(s){return i.updateArrayField(function(o){return[].concat(Ps(o),[h8(s)])},!1,!1)},i.handlePush=function(s){return function(){return i.push(s)}},i.swap=function(s,o){return i.updateArrayField(function(a){return I8(a,s,o)},!0,!0)},i.handleSwap=function(s,o){return function(){return i.swap(s,o)}},i.move=function(s,o){return i.updateArrayField(function(a){return x8(a,s,o)},!0,!0)},i.handleMove=function(s,o){return function(){return i.move(s,o)}},i.insert=function(s,o){return i.updateArrayField(function(a){return xp(a,s,o)},function(a){return xp(a,s,null)},function(a){return xp(a,s,null)})},i.handleInsert=function(s,o){return function(){return i.insert(s,o)}},i.replace=function(s,o){return i.updateArrayField(function(a){return A8(a,s,o)},!1,!1)},i.handleReplace=function(s,o){return function(){return i.replace(s,o)}},i.unshift=function(s){var o=-1;return i.updateArrayField(function(a){var l=a?[s].concat(a):[s];return o=l.length,l},function(a){return a?[null].concat(a):[null]},function(a){return a?[null].concat(a):[null]}),o},i.handleUnshift=function(s){return function(){return i.unshift(s)}},i.handleRemove=function(s){return function(){return i.remove(s)}},i.handlePop=function(){return function(){return i.pop()}},i.remove=i.remove.bind(bE(i)),i.pop=i.pop.bind(bE(i)),i}var n=e.prototype;return n.componentDidUpdate=function(i){this.props.validateOnChange&&this.props.formik.validateOnChange&&!zr(Pe(i.formik.values,i.name),Pe(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(i){var s;return this.updateArrayField(function(o){var a=o?Ps(o):[];return s||(s=a[i]),ct(a.splice)&&a.splice(i,1),ct(a.every)&&a.every(function(l){return l===void 0})?[]:a},!0,!0),s},n.pop=function(){var i;return this.updateArrayField(function(s){var o=s.slice();return i||(i=o&&o.pop&&o.pop()),o},!0,!0),i},n.render=function(){var i={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},s=this.props,o=s.component,a=s.render,l=s.children,u=s.name,c=s.formik,h=ti(c,["validate","validationSchema"]),f=he({},i,{form:h,name:u});return o?E.createElement(o,f):a?a(f):l?typeof l=="function"?l(f):jb(l)?null:E.Children.only(l):null},e}(E.Component);P8.defaultProps={validateOnChange:!0};var C8=function(t){Db(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.shouldComponentUpdate=function(i){return Pe(this.props.formik.errors,this.props.name)!==Pe(i.formik.errors,this.props.name)||Pe(this.props.formik.touched,this.props.name)!==Pe(i.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(i).length},n.render=function(){var i=this.props,s=i.component,o=i.formik,a=i.render,l=i.children,u=i.name,c=ti(i,["component","formik","render","children","name"]),h=Pe(o.touched,u),f=Pe(o.errors,u);return h&&f?a?ct(a)?a(f):null:l?ct(l)?l(f):null:s?E.createElement(s,c,f):f:null},e}(E.Component),be=S8(C8);function Fs(t){this._maxSize=t,this.clear()}Fs.prototype.clear=function(){this._size=0,this._values=Object.create(null)};Fs.prototype.get=function(t){return this._values[t]};Fs.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var b8=/[^.^\]^[]+|(?=\[\]|\.\.)/g,Vb=/^\d+$/,R8=/^\d/,k8=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,N8=/^\s*(['"]?)(.*?)(\1)\s*$/,b0=512,NE=new Fs(b0),DE=new Fs(b0),OE=new Fs(b0),ds={Cache:Fs,split:Cg,normalizePath:Ip,setter:function(t){var e=Ip(t);return DE.get(t)||DE.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=Ip(t);return OE.get(t)||OE.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(R0(n)||Vb.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){D8(Array.isArray(t)?t:Cg(t),e,n)}};function Ip(t){return NE.get(t)||NE.set(t,Cg(t).map(function(e){return e.replace(N8,"$2")}))}function Cg(t){return t.match(b8)||[""]}function D8(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(M8(i)&&(i='"'+i+'"'),a=R0(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function R0(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function O8(t){return t.match(R8)&&!t.match(Vb)}function j8(t){return k8.test(t)}function M8(t){return!R0(t)&&(O8(t)||j8(t))}const V8=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,df=t=>t.match(V8)||[],ff=t=>t[0].toUpperCase()+t.slice(1),k0=(t,e)=>df(t).join(e).toLowerCase(),Lb=t=>df(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),L8=t=>ff(Lb(t)),F8=t=>k0(t,"_"),$8=t=>k0(t,"-"),U8=t=>ff(k0(t," ")),B8=t=>df(t).map(ff).join(" ");var Ap={words:df,upperFirst:ff,camelCase:Lb,pascalCase:L8,snakeCase:F8,kebabCase:$8,sentenceCase:U8,titleCase:B8},N0={exports:{}};N0.exports=function(t){return Fb(z8(t),t)};N0.exports.array=Fb;function Fb(t,e){var n=t.length,r=new Array(n),i={},s=n,o=W8(e),a=H8(t);for(e.forEach(function(u){if(!a.has(u[0])||!a.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(t[s],s,new Set);return r;function l(u,c,h){if(h.has(u)){var f;try{f=", node was:"+JSON.stringify(u)}catch{f=""}throw new Error("Cyclic dependency"+f)}if(!a.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!i[c]){i[c]=!0;var p=o.get(u)||new Set;if(p=Array.from(p),c=p.length){h.add(u);do{var g=p[--c];l(g,a.get(g),h)}while(c);h.delete(u)}r[--n]=u}}}function z8(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function W8(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function H8(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var q8=N0.exports;const G8=Qh(q8),K8=Object.prototype.toString,Q8=Error.prototype.toString,X8=RegExp.prototype.toString,Y8=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",J8=/^Symbol\((.*)\)(.*)$/;function Z8(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function jE(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return Z8(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return Y8.call(t).replace(J8,"Symbol($1)");const r=K8.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+Q8.call(t)+"]":r==="RegExp"?X8.call(t):null}function pi(t,e){let n=jE(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=jE(this[r],e);return s!==null?s:i},2)}function $b(t){return t==null?[]:[].concat(t)}let Ub,ez=/\$\{\s*(\w+)\s*\}/g;Ub=Symbol.toStringTag;class zt extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(ez,(i,s)=>pi(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,s){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this[Ub]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],$b(e).forEach(o=>{if(zt.isError(o)){this.errors.push(...o.errors);const a=o.inner.length?o.inner:[o];this.inner.push(...a)}else this.errors.push(o)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],!s&&Error.captureStackTrace&&Error.captureStackTrace(this,zt)}}let Vn={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${pi(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${pi(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${pi(n,!0)}\``+i}},Sn={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Fr={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},bg={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},tz={isValue:"${path} field must be ${value}"},Rg={noUnknown:"${path} field has unspecified keys: ${unknown}"},nz={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},rz={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${pi(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${pi(n,!0)}\``}return zt.formatError(Vn.notType,t)}};Object.assign(Object.create(null),{mixed:Vn,string:Sn,number:Fr,date:bg,object:Rg,array:nz,boolean:tz,tuple:rz});const D0=t=>t&&t.__isYupSchema__;class Vh{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new Vh(e,(a,l)=>{var u;let c=o(...a)?i:s;return(u=c==null?void 0:c(l))!=null?u:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!D0(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const oc={context:"$",value:"."};function iz(t,e){return new ji(t,e)}class ji{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===oc.context,this.isValue=this.key[0]===oc.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?oc.context:this.isValue?oc.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&ds.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}ji.prototype.__isYupRef=!0;const gr=t=>t==null;function Hs(t){function e({value:n,path:r="",options:i,originalValue:s,schema:o},a,l){const{name:u,test:c,params:h,message:f,skipAbsent:p}=t;let{parent:g,context:_,abortEarly:w=o.spec.abortEarly,disableStackTrace:v=o.spec.disableStackTrace}=i;function m($){return ji.isRef($)?$.getValue(n,g,_):$}function y($={}){var se;const Y=Object.assign({value:n,originalValue:s,label:o.spec.label,path:$.path||r,spec:o.spec},h,$.params);for(const F of Object.keys(Y))Y[F]=m(Y[F]);const K=new zt(zt.formatError($.message||f,Y),n,Y.path,$.type||u,(se=$.disableStackTrace)!=null?se:v);return K.params=Y,K}const T=w?a:l;let x={path:r,parent:g,type:u,from:i.from,createError:y,resolve:m,options:i,originalValue:s,schema:o};const S=$=>{zt.isError($)?T($):$?l(null):T(y())},I=$=>{zt.isError($)?T($):a($)};if(p&&gr(n))return S(!0);let C;try{var k;if(C=c.call(x,n,x),typeof((k=C)==null?void 0:k.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${x.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(C).then(S,I)}}catch($){I($);return}S(C)}return e.OPTIONS=t,e}function sz(t,e,n,r=n){let i,s,o;return e?(ds.forEach(e,(a,l,u)=>{let c=l?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:i,value:n});let h=t.type==="tuple",f=u?parseInt(c,10):0;if(t.innerType||h){if(h&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&f>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[f],t=h?t.spec.types[f]:t.innerType}if(!u){if(!t.fields||!t.fields[c])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=n,n=n&&n[c],t=t.fields[c]}s=c,o=l?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class Lh extends Set{describe(){const e=[];for(const n of this.values())e.push(ji.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new Lh(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function lo(t,e=new Map){if(D0(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=lo(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,lo(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(lo(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=lo(i,e)}else throw Error(`Unable to clone ${t}`);return n}class Nn{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Lh,this._blacklist=new Lh,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Vn.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=lo(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&gr(s))return s;let o=pi(e),a=pi(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=n,l=e;a||(l=this._cast(l,Object.assign({assert:!1},n)));let u=[];for(let c of Object.values(this.internalTests))c&&u.push(c);this.runTests({path:s,value:l,originalValue:o,options:n,tests:u},r,c=>{if(c.length)return i(c,l);this.runTests({path:s,value:l,originalValue:o,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:o,originalValue:a,path:l,options:u}=e,c=_=>{i||(i=!0,n(_,o))},h=_=>{i||(i=!0,r(_,o))},f=s.length,p=[];if(!f)return h([]);let g={value:o,originalValue:a,path:l,options:u,schema:this};for(let _=0;_<s.length;_++){const w=s[_];w(g,c,function(m){m&&(Array.isArray(m)?p.push(...m):p.push(m)),--f<=0&&h(p)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let u=r[a];const c=Object.assign({},o,{strict:!0,parent:r,value:u,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${u?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(h,f,p)=>this.resolve(c)._validate(u,c,f,p)}validate(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((o,a)=>i._validate(e,n,(l,u)=>{zt.isError(l)&&(l.value=u),a(l)},(l,u)=>{l.length?a(new zt(l,u,void 0,void 0,s)):o(u)}))}validateSync(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},n,{sync:!0}),(a,l)=>{throw zt.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new zt(a,e,void 0,void 0,o);s=l}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(zt.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(zt.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):lo(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=Hs({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=Hs({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Vn.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Vn.notNull){return this.nullability(!1,e)}required(e=Vn.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Vn.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=Hs(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=$b(e).map(s=>new ji(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new Vh(i,n):Vh.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=Hs({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Vn.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=Hs({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),r}notOneOf(e,n=Vn.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=Hs({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:r,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,c)=>c.findIndex(h=>h.name===l.name)===u)}}}Nn.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Nn.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=sz(this,e,n,r.context);return o[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])Nn.prototype[t]=Nn.prototype.oneOf;for(const t of["not","nope"])Nn.prototype[t]=Nn.prototype.notOneOf;let oz=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,az=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,lz=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,uz=t=>gr(t)||t===t.trim(),cz={}.toString();function Ae(){return new Bb}class Bb extends Nn{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===cz?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Vn.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Sn.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=Sn.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=Sn.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||Sn.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=Sn.email){return this.matches(oz,{name:"email",message:e,excludeEmptyString:!0})}url(e=Sn.url){return this.matches(az,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Sn.uuid){return this.matches(lz,{name:"uuid",message:e,excludeEmptyString:!1})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Sn.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:uz})}lowercase(e=Sn.lowercase){return this.transform(n=>gr(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>gr(n)||n===n.toLowerCase()})}uppercase(e=Sn.uppercase){return this.transform(n=>gr(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>gr(n)||n===n.toUpperCase()})}}Ae.prototype=Bb.prototype;let hz=t=>t!=+t;function zb(){return new Wb}class Wb extends Nn{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!hz(e)}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce)return e;let i=e;if(typeof i=="string"){if(i=i.replace(/\s/g,""),i==="")return NaN;i=+i}return r.isType(i)||i===null?i:parseFloat(i)})})}min(e,n=Fr.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,n=Fr.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,n=Fr.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,n=Fr.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=Fr.positive){return this.moreThan(0,e)}negative(e=Fr.negative){return this.lessThan(0,e)}integer(e=Fr.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>gr(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(i=>gr(i)?i:Math[e](i))}}zb.prototype=Wb.prototype;const dz=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function ar(t,e=0){return Number(t)||e}function fz(t){const e=dz.exec(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;const n={year:ar(e[1]),month:ar(e[2],1)-1,day:ar(e[3],1),hour:ar(e[4]),minute:ar(e[5]),second:ar(e[6]),millisecond:e[7]?ar(e[7].substring(0,3)):0,z:e[8]||void 0,plusMinus:e[9]||void 0,hourOffset:ar(e[10]),minuteOffset:ar(e[11])};if(n.z===void 0&&n.plusMinus===void 0)return new Date(n.year,n.month,n.day,n.hour,n.minute,n.second,n.millisecond).valueOf();let r=0;return n.z!=="Z"&&n.plusMinus!==void 0&&(r=n.hourOffset*60+n.minuteOffset,n.plusMinus==="+"&&(r=0-r)),Date.UTC(n.year,n.month,n.day,n.hour,n.minute+r,n.second,n.millisecond)}let pz=new Date(""),mz=t=>Object.prototype.toString.call(t)==="[object Date]";class pf extends Nn{constructor(){super({type:"date",check(e){return mz(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=fz(e),isNaN(e)?pf.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(ji.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=bg.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=bg.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}pf.INVALID_DATE=pz;pf.prototype;function gz(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let l=ds.split(o)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const o of Object.keys(t)){let a=t[o];r.add(o),ji.isRef(a)&&a.isSibling?s(a.path,o):D0(a)&&"deps"in a&&a.deps.forEach(l=>s(l,o))}return G8.array(Array.from(r),n).reverse()}function ME(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function Hb(t){return(e,n)=>ME(t,e)-ME(t,n)}const yz=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function Vc(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=Vc(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Vc(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Vc)}):"optional"in t?t.optional():t}const vz=(t,e)=>{const n=[...ds.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=ds.getter(ds.join(n),!0)(t);return!!(i&&r in i)};let VE=t=>Object.prototype.toString.call(t)==="[object Object]";function _z(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const wz=Hb([]);function Wo(t){return new qb(t)}class qb extends Nn{constructor(e){super({type:"object",check(n){return VE(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=wz,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(h=>!this._nodes.includes(h))),l={},u=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),c=!1;for(const h of a){let f=s[h],p=h in i;if(f){let g,_=i[h];u.path=(n.path?`${n.path}.`:"")+h,f=f.resolve({value:_,context:n.context,parent:l});let w=f instanceof Nn?f.spec:void 0,v=w==null?void 0:w.strict;if(w!=null&&w.strip){c=c||h in i;continue}g=!n.__validating||!v?f.cast(i[h],u):i[h],g!==void 0&&(l[h]=g)}else p&&!o&&(l[h]=i[h]);(p!==h in l||l[h]!==i[h])&&(c=!0)}return c?l:i}_validate(e,n={},r,i){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(l,u)=>{if(!a||!VE(u)){i(l,u);return}o=o||u;let c=[];for(let h of this._nodes){let f=this.fields[h];!f||ji.isRef(f)||c.push(f.asNestedTest({options:n,key:h,parent:u,parentPath:n.path,originalParent:o}))}this.runTests({tests:c,value:u,originalValue:o,options:n},r,h=>{i(h.sort(this._sortErrors).concat(l),u)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];r[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=gz(e,n),r._sortErrors=Hb(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return Vc(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let i=ds.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return vz(s,e)&&(o=Object.assign({},s),r||delete o[e],o[n]=i(s)),o})}json(){return this.transform(yz)}noUnknown(e=!0,n=Rg.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=_z(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=Rg.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(Ap.camelCase)}snakeCase(){return this.transformKeys(Ap.snakeCase)}constantCase(){return this.transformKeys(e=>Ap.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,o]of Object.entries(n.fields)){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),r.fields[s]=o.describe(a)}return r}}Wo.prototype=qb.prototype;/*!
 * Compressor.js v1.2.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-02-28T14:09:41.732Z
 */function LE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ac(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LE(Object(n),!0).forEach(function(r){Sz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ez(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gb(r.key),r)}}function Tz(t,e,n){return e&&FE(t.prototype,e),n&&FE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sz(t,e,n){return e=Gb(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fh(){return Fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fh.apply(this,arguments)}function xz(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gb(t){var e=xz(t,"string");return typeof e=="symbol"?e:String(e)}var Kb={exports:{}};(function(t){typeof window>"u"||function(e){var n=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,r=e.Blob&&function(){try{return!!new Blob}catch{return!1}}(),i=r&&e.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch{return!1}}(),s=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,o=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,a=(r||s)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(l){var u,c,h,f,p,g,_,w,v;if(u=l.match(o),!u)throw new Error("invalid data URI");for(c=u[2]?u[1]:"text/plain"+(u[3]||";charset=US-ASCII"),h=!!u[4],f=l.slice(u[0].length),h?p=atob(f):p=decodeURIComponent(f),g=new ArrayBuffer(p.length),_=new Uint8Array(g),w=0;w<p.length;w+=1)_[w]=p.charCodeAt(w);return r?new Blob([i?_:g],{type:c}):(v=new s,v.append(g),v.getBlob(c))};e.HTMLCanvasElement&&!n.toBlob&&(n.mozGetAsFile?n.toBlob=function(l,u,c){var h=this;setTimeout(function(){c&&n.toDataURL&&a?l(a(h.toDataURL(u,c))):l(h.mozGetAsFile("blob",u))})}:n.toDataURL&&a&&(n.msToBlob?n.toBlob=function(l,u,c){var h=this;setTimeout(function(){(u&&u!=="image/png"||c)&&n.toDataURL&&a?l(a(h.toDataURL(u,c))):l(h.msToBlob(u))})}:n.toBlob=function(l,u,c){var h=this;setTimeout(function(){l(a(h.toDataURL(u,c)))})})),t.exports?t.exports=a:e.dataURLtoBlob=a}(window)})(Kb);var $E=Kb.exports,Iz=function(e){return typeof Blob>"u"?!1:e instanceof Blob||Object.prototype.toString.call(e)==="[object Blob]"},UE={strict:!0,checkOrientation:!0,retainExif:!1,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},Az=typeof window<"u"&&typeof window.document<"u",xi=Az?window:{},$h=function(e){return e>0&&e<1/0},Pz=Array.prototype.slice;function O0(t){return Array.from?Array.from(t):Pz.call(t)}var Cz=/^image\/.+$/;function kg(t){return Cz.test(t)}function bz(t){var e=kg(t)?t.substr(6):"";return e==="jpeg"&&(e="jpg"),".".concat(e)}var Qb=String.fromCharCode;function Rz(t,e,n){var r="",i;for(n+=e,i=e;i<n;i+=1)r+=Qb(t.getUint8(i));return r}var kz=xi.btoa;function BE(t,e){for(var n=[],r=8192,i=new Uint8Array(t);i.length>0;)n.push(Qb.apply(null,O0(i.subarray(0,r)))),i=i.subarray(r);return"data:".concat(e,";base64,").concat(kz(n.join("")))}function Nz(t){var e=new DataView(t),n;try{var r,i,s;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var o=e.byteLength,a=2;a+1<o;){if(e.getUint8(a)===255&&e.getUint8(a+1)===225){i=a;break}a+=1}if(i){var l=i+4,u=i+10;if(Rz(e,l,4)==="Exif"){var c=e.getUint16(u);if(r=c===18761,(r||c===19789)&&e.getUint16(u+2,r)===42){var h=e.getUint32(u+4,r);h>=8&&(s=u+h)}}}if(s){var f=e.getUint16(s,r),p,g;for(g=0;g<f;g+=1)if(p=s+g*12+2,e.getUint16(p,r)===274){p+=8,n=e.getUint16(p,r),e.setUint16(p,1,r);break}}}catch{n=1}return n}function Dz(t){var e=0,n=1,r=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:n,scaleY:r}}var Oz=/\.\d*(?:0|9){12}\d*$/;function zE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Oz.test(t)?Math.round(t*e)/e:t}function _a(t){var e=t.aspectRatio,n=t.height,r=t.width,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",s=$h(r),o=$h(n);if(s&&o){var a=n*e;(i==="contain"||i==="none")&&a>r||i==="cover"&&a<r?n=r/e:r=n*e}else s?n=r/e:o&&(r=n*e);return{width:r,height:n}}function jz(t){for(var e=O0(new Uint8Array(t)),n=e.length,r=[],i=0;i+3<n;){var s=e[i],o=e[i+1];if(s===255&&o===218)break;if(s===255&&o===216)i+=2;else{var a=e[i+2]*256+e[i+3],l=i+a+2,u=e.slice(i,l);r.push(u),i=l}}return r.reduce(function(c,h){return h[0]===255&&h[1]===225?c.concat(h):c},[])}function Mz(t,e){var n=O0(new Uint8Array(t));if(n[2]!==255||n[3]!==224)return t;var r=n[4]*256+n[5],i=[255,216].concat(e,n.slice(4+r));return new Uint8Array(i)}var Vz=xi.ArrayBuffer,Pp=xi.FileReader,Ui=xi.URL||xi.webkitURL,Lz=/\.\w+$/,Fz=xi.Compressor,$z=function(){function t(e,n){Ez(this,t),this.file=e,this.exif=[],this.image=new Image,this.options=ac(ac({},UE),n),this.aborted=!1,this.result=null,this.init()}return Tz(t,[{key:"init",value:function(){var n=this,r=this.file,i=this.options;if(!Iz(r)){this.fail(new Error("The first argument must be a File or Blob object."));return}var s=r.type;if(!kg(s)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!Ui||!Pp){this.fail(new Error("The current browser does not support image compression."));return}Vz||(i.checkOrientation=!1,i.retainExif=!1);var o=s==="image/jpeg",a=o&&i.checkOrientation,l=o&&i.retainExif;if(Ui&&!a&&!l)this.load({url:Ui.createObjectURL(r)});else{var u=new Pp;this.reader=u,u.onload=function(c){var h=c.target,f=h.result,p={},g=1;a&&(g=Nz(f),g>1&&Fh(p,Dz(g))),l&&(n.exif=jz(f)),a||l?!Ui||g>1?p.url=BE(f,s):p.url=Ui.createObjectURL(r):p.url=f,n.load(p)},u.onabort=function(){n.fail(new Error("Aborted to read the image with FileReader."))},u.onerror=function(){n.fail(new Error("Failed to read the image with FileReader."))},u.onloadend=function(){n.reader=null},a||l?u.readAsArrayBuffer(r):u.readAsDataURL(r)}}},{key:"load",value:function(n){var r=this,i=this.file,s=this.image;s.onload=function(){r.draw(ac(ac({},n),{},{naturalWidth:s.naturalWidth,naturalHeight:s.naturalHeight}))},s.onabort=function(){r.fail(new Error("Aborted to load the image."))},s.onerror=function(){r.fail(new Error("Failed to load the image."))},xi.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(xi.navigator.userAgent)&&(s.crossOrigin="anonymous"),s.alt=i.name,s.src=n.url}},{key:"draw",value:function(n){var r=this,i=n.naturalWidth,s=n.naturalHeight,o=n.rotate,a=o===void 0?0:o,l=n.scaleX,u=l===void 0?1:l,c=n.scaleY,h=c===void 0?1:c,f=this.file,p=this.image,g=this.options,_=document.createElement("canvas"),w=_.getContext("2d"),v=Math.abs(a)%180===90,m=(g.resize==="contain"||g.resize==="cover")&&$h(g.width)&&$h(g.height),y=Math.max(g.maxWidth,0)||1/0,T=Math.max(g.maxHeight,0)||1/0,x=Math.max(g.minWidth,0)||0,S=Math.max(g.minHeight,0)||0,I=i/s,A=g.width,C=g.height;if(v){var k=[T,y];y=k[0],T=k[1];var $=[S,x];x=$[0],S=$[1];var se=[C,A];A=se[0],C=se[1]}m&&(I=A/C);var Y=_a({aspectRatio:I,width:y,height:T},"contain");y=Y.width,T=Y.height;var K=_a({aspectRatio:I,width:x,height:S},"cover");if(x=K.width,S=K.height,m){var F=_a({aspectRatio:I,width:A,height:C},g.resize);A=F.width,C=F.height}else{var we=_a({aspectRatio:I,width:A,height:C}),Rt=we.width;A=Rt===void 0?i:Rt;var j=we.height;C=j===void 0?s:j}A=Math.floor(zE(Math.min(Math.max(A,x),y))),C=Math.floor(zE(Math.min(Math.max(C,S),T)));var q=-A/2,Q=-C/2,z=A,ae=C,Ft=[];if(m){var lt=0,vt=0,ze=i,kt=s,Vi=_a({aspectRatio:I,width:i,height:s},{contain:"cover",cover:"contain"}[g.resize]);ze=Vi.width,kt=Vi.height,lt=(i-ze)/2,vt=(s-kt)/2,Ft.push(lt,vt,ze,kt)}if(Ft.push(q,Q,z,ae),v){var ir=[C,A];A=ir[0],C=ir[1]}_.width=A,_.height=C,kg(g.mimeType)||(g.mimeType=f.type);var Dn="transparent";f.size>g.convertSize&&g.convertTypes.indexOf(g.mimeType)>=0&&(g.mimeType="image/jpeg");var $t=g.mimeType==="image/jpeg";if($t&&(Dn="#fff"),w.fillStyle=Dn,w.fillRect(0,0,A,C),g.beforeDraw&&g.beforeDraw.call(this,w,_),!this.aborted&&(w.save(),w.translate(A/2,C/2),w.rotate(a*Math.PI/180),w.scale(u,h),w.drawImage.apply(w,[p].concat(Ft)),w.restore(),g.drew&&g.drew.call(this,w,_),!this.aborted)){var Li=function(Fi){if(!r.aborted){var bu=function(sr){return r.done({naturalWidth:i,naturalHeight:s,result:sr})};if(Fi&&$t&&g.retainExif&&r.exif&&r.exif.length>0){var Ru=function(sr){return bu($E(BE(Mz(sr,r.exif),g.mimeType)))};if(Fi.arrayBuffer)Fi.arrayBuffer().then(Ru).catch(function(){r.fail(new Error("Failed to read the compressed image with Blob.arrayBuffer()."))});else{var Mr=new Pp;r.reader=Mr,Mr.onload=function(sa){var sr=sa.target;Ru(sr.result)},Mr.onabort=function(){r.fail(new Error("Aborted to read the compressed image with FileReader."))},Mr.onerror=function(){r.fail(new Error("Failed to read the compressed image with FileReader."))},Mr.onloadend=function(){r.reader=null},Mr.readAsArrayBuffer(Fi)}}else bu(Fi)}};_.toBlob?_.toBlob(Li,g.mimeType,g.quality):Li($E(_.toDataURL(g.mimeType,g.quality)))}}},{key:"done",value:function(n){var r=n.naturalWidth,i=n.naturalHeight,s=n.result,o=this.file,a=this.image,l=this.options;if(Ui&&a.src.indexOf("blob:")===0&&Ui.revokeObjectURL(a.src),s)if(l.strict&&!l.retainExif&&s.size>o.size&&l.mimeType===o.type&&!(l.width>r||l.height>i||l.minWidth>r||l.minHeight>i||l.maxWidth<r||l.maxHeight<i))s=o;else{var u=new Date;s.lastModified=u.getTime(),s.lastModifiedDate=u,s.name=o.name,s.name&&s.type!==o.type&&(s.name=s.name.replace(Lz,bz(s.type)))}else s=o;this.result=s,l.success&&l.success.call(this,s)}},{key:"fail",value:function(n){var r=this.options;if(r.error)r.error.call(this,n);else throw n}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=Fz,t}},{key:"setDefaults",value:function(n){Fh(UE,n)}}]),t}();const Xb=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),mf=E.createContext({}),gf=E.createContext(null),yf=typeof document<"u",vf=yf?E.useLayoutEffect:E.useEffect,Yb=E.createContext({strict:!1}),j0=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Uz="framerAppearId",Jb="data-"+j0(Uz);function Bz(t,e,n,r){const{visualElement:i}=E.useContext(mf),s=E.useContext(Yb),o=E.useContext(gf),a=E.useContext(Xb).reducedMotion,l=E.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;E.useInsertionEffect(()=>{u&&u.update(n,o)});const c=E.useRef(!!(n[Jb]&&!window.HandoffComplete));return vf(()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())}),E.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))}),u}function uo(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function zz(t,e,n){return E.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):uo(n)&&(n.current=r))},[e])}function zl(t){return typeof t=="string"||Array.isArray(t)}function _f(t){return typeof t=="object"&&typeof t.start=="function"}const M0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],V0=["initial",...M0];function wf(t){return _f(t.animate)||V0.some(e=>zl(t[e]))}function Zb(t){return!!(wf(t)||t.variants)}function Wz(t,e){if(wf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||zl(n)?n:void 0,animate:zl(r)?r:void 0}}return t.inherit!==!1?e:{}}function Hz(t){const{initial:e,animate:n}=Wz(t,E.useContext(mf));return E.useMemo(()=>({initial:e,animate:n}),[WE(e),WE(n)])}function WE(t){return Array.isArray(t)?t.join(" "):t}const HE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wl={};for(const t in HE)Wl[t]={isEnabled:e=>HE[t].some(n=>!!e[n])};function qz(t){for(const e in t)Wl[e]={...Wl[e],...t[e]}}const L0=E.createContext({}),e2=E.createContext({}),Gz=Symbol.for("motionComponentSymbol");function Kz({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&qz(t);function s(a,l){let u;const c={...E.useContext(Xb),...a,layoutId:Qz(a)},{isStatic:h}=c,f=Hz(a),p=r(a,h);if(!h&&yf){f.visualElement=Bz(i,p,c,e);const g=E.useContext(e2),_=E.useContext(Yb).strict;f.visualElement&&(u=f.visualElement.loadFeatures(c,_,t,g))}return E.createElement(mf.Provider,{value:f},u&&f.visualElement?E.createElement(u,{visualElement:f.visualElement,...c}):null,n(i,a,zz(p,f.visualElement,l),p,h,f.visualElement))}const o=E.forwardRef(s);return o[Gz]=i,o}function Qz({layoutId:t}){const e=E.useContext(L0).id;return e&&t!==void 0?e+"-"+t:t}function Xz(t){function e(r,i={}){return Kz(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const Yz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function F0(t){return typeof t!="string"||t.includes("-")?!1:!!(Yz.indexOf(t)>-1||/[A-Z]/.test(t))}const Uh={};function Jz(t){Object.assign(Uh,t)}const xu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$s=new Set(xu);function t2(t,{layout:e,layoutId:n}){return $s.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Uh[t]||t==="opacity")}const Xt=t=>!!(t&&t.getVelocity),Zz={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},e7=xu.length;function t7(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<e7;o++){const a=xu[o];if(t[a]!==void 0){const l=Zz[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const n2=t=>e=>typeof e=="string"&&e.startsWith(t),r2=n2("--"),Ng=n2("var(--"),n7=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,r7=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ii=(t,e,n)=>Math.min(Math.max(n,t),e),Us={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Za={...Us,transform:t=>Ii(0,1,t)},lc={...Us,default:1},el=t=>Math.round(t*1e5)/1e5,Ef=/(-)?([\d]*\.?[\d])+/g,i2=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,i7=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Iu(t){return typeof t=="string"}const Au=t=>({test:e=>Iu(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$r=Au("deg"),Zn=Au("%"),G=Au("px"),s7=Au("vh"),o7=Au("vw"),qE={...Zn,parse:t=>Zn.parse(t)/100,transform:t=>Zn.transform(t*100)},GE={...Us,transform:Math.round},s2={borderWidth:G,borderTopWidth:G,borderRightWidth:G,borderBottomWidth:G,borderLeftWidth:G,borderRadius:G,radius:G,borderTopLeftRadius:G,borderTopRightRadius:G,borderBottomRightRadius:G,borderBottomLeftRadius:G,width:G,maxWidth:G,height:G,maxHeight:G,size:G,top:G,right:G,bottom:G,left:G,padding:G,paddingTop:G,paddingRight:G,paddingBottom:G,paddingLeft:G,margin:G,marginTop:G,marginRight:G,marginBottom:G,marginLeft:G,rotate:$r,rotateX:$r,rotateY:$r,rotateZ:$r,scale:lc,scaleX:lc,scaleY:lc,scaleZ:lc,skew:$r,skewX:$r,skewY:$r,distance:G,translateX:G,translateY:G,translateZ:G,x:G,y:G,z:G,perspective:G,transformPerspective:G,opacity:Za,originX:qE,originY:qE,originZ:G,zIndex:GE,fillOpacity:Za,strokeOpacity:Za,numOctaves:GE};function $0(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,u=!1,c=!0;for(const h in e){const f=e[h];if(r2(h)){s[h]=f;continue}const p=s2[h],g=r7(f,p);if($s.has(h)){if(l=!0,o[h]=g,!c)continue;f!==(p.default||0)&&(c=!1)}else h.startsWith("origin")?(u=!0,a[h]=g):i[h]=g}if(e.transform||(l||r?i.transform=t7(t.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:p=0}=a;i.transformOrigin=`${h} ${f} ${p}`}}const U0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function o2(t,e,n){for(const r in e)!Xt(e[r])&&!t2(r,n)&&(t[r]=e[r])}function a7({transformTemplate:t},e,n){return E.useMemo(()=>{const r=U0();return $0(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function l7(t,e,n){const r=t.style||{},i={};return o2(i,r,t),Object.assign(i,a7(t,e,n)),t.transformValues?t.transformValues(i):i}function u7(t,e,n){const r={},i=l7(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const c7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Bh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||c7.has(t)}let a2=t=>!Bh(t);function h7(t){t&&(a2=e=>e.startsWith("on")?!Bh(e):t(e))}try{h7(require("@emotion/is-prop-valid").default)}catch{}function d7(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(a2(i)||n===!0&&Bh(i)||!e&&!Bh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function KE(t,e,n){return typeof t=="string"?t:G.transform(e+n*t)}function f7(t,e,n){const r=KE(e,t.x,t.width),i=KE(n,t.y,t.height);return`${r} ${i}`}const p7={offset:"stroke-dashoffset",array:"stroke-dasharray"},m7={offset:"strokeDashoffset",array:"strokeDasharray"};function g7(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?p7:m7;t[s.offset]=G.transform(-r);const o=G.transform(e),a=G.transform(n);t[s.array]=`${o} ${a}`}function B0(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,h,f){if($0(t,u,c,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g,dimensions:_}=t;p.transform&&(_&&(g.transform=p.transform),delete p.transform),_&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=f7(_,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&g7(p,o,a,l,!1)}const l2=()=>({...U0(),attrs:{}}),z0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function y7(t,e,n,r){const i=E.useMemo(()=>{const s=l2();return B0(s,e,{enableHardwareAcceleration:!1},z0(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};o2(s,t.style,t),i.style={...s,...i.style}}return i}function v7(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(F0(n)?y7:u7)(r,s,o,n),c={...d7(r,typeof n=="string",t),...l,ref:i},{children:h}=r,f=E.useMemo(()=>Xt(h)?h.get():h,[h]);return E.createElement(n,{...c,children:f})}}function u2(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const c2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function h2(t,e,n,r){u2(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(c2.has(i)?i:j0(i),e.attrs[i])}function W0(t,e){const{style:n}=t,r={};for(const i in n)(Xt(n[i])||e.style&&Xt(e.style[i])||t2(i,t))&&(r[i]=n[i]);return r}function d2(t,e){const n=W0(t,e);for(const r in t)if(Xt(t[r])||Xt(e[r])){const i=xu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function H0(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function q0(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const zh=t=>Array.isArray(t),_7=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),w7=t=>zh(t)?t[t.length-1]||0:t;function Lc(t){const e=Xt(t)?t.get():t;return _7(e)?e.toValue():e}function E7({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:T7(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const f2=t=>(e,n)=>{const r=E.useContext(mf),i=E.useContext(gf),s=()=>E7(t,e,r,i);return n?s():q0(s)};function T7(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=Lc(s[f]);let{initial:o,animate:a}=t;const l=wf(t),u=Zb(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const h=c?a:o;return h&&typeof h!="boolean"&&!_f(h)&&(Array.isArray(h)?h:[h]).forEach(p=>{const g=H0(t,p);if(!g)return;const{transitionEnd:_,transition:w,...v}=g;for(const m in v){let y=v[m];if(Array.isArray(y)){const T=c?y.length-1:0;y=y[T]}y!==null&&(i[m]=y)}for(const m in _)i[m]=_[m]}),i}const Ve=t=>t;class QE{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function S7(t){let e=new QE,n=new QE,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const h=c&&i,f=h?e:n;return u&&o.add(l),f.add(l)&&h&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const c=e.order[u];c(l),o.has(c)&&(a.schedule(c),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const uc=["prepare","read","update","preRender","render","postRender"],x7=40;function I7(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=uc.reduce((h,f)=>(h[f]=S7(()=>n=!0),h),{}),o=h=>s[h].process(i),a=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,x7),1),i.timestamp=h,i.isProcessing=!0,uc.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:uc.reduce((h,f)=>{const p=s[f];return h[f]=(g,_=!1,w=!1)=>(n||l(),p.schedule(g,_,w)),h},{}),cancel:h=>uc.forEach(f=>s[f].cancel(h)),state:i,steps:s}}const{schedule:ve,cancel:Rr,state:Tt,steps:Cp}=I7(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ve,!0),A7={useVisualState:f2({scrapeMotionValuesFromProps:d2,createRenderState:l2,onMount:(t,e,{renderState:n,latestValues:r})=>{ve.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ve.render(()=>{B0(n,r,{enableHardwareAcceleration:!1},z0(e.tagName),t.transformTemplate),h2(e,n)})}})},P7={useVisualState:f2({scrapeMotionValuesFromProps:W0,createRenderState:U0})};function C7(t,{forwardMotionProps:e=!1},n,r){return{...F0(t)?A7:P7,preloadedFeatures:n,useRender:v7(e),createVisualElement:r,Component:t}}function yr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const p2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Tf(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const b7=t=>e=>p2(e)&&t(e,Tf(e));function Er(t,e,n,r){return yr(t,e,b7(n),r)}const R7=(t,e)=>n=>e(t(n)),mi=(...t)=>t.reduce(R7);function m2(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const XE=m2("dragHorizontal"),YE=m2("dragVertical");function g2(t){let e=!1;if(t==="y")e=YE();else if(t==="x")e=XE();else{const n=XE(),r=YE();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function y2(){const t=g2(!0);return t?(t(),!1):!0}class Mi{constructor(e){this.isMounted=!1,this.node=e}update(){}}function JE(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||y2())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&ve.update(()=>a[r](s,o))};return Er(t.current,n,i,{passive:!t.getProps()[r]})}class k7 extends Mi{mount(){this.unmount=mi(JE(this.node,!0),JE(this.node,!1))}unmount(){}}class N7 extends Mi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mi(yr(this.node.current,"focus",()=>this.onFocus()),yr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const v2=(t,e)=>e?t===e?!0:v2(t,e.parentElement):!1;function bp(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Tf(n))}class D7 extends Mi{constructor(){super(...arguments),this.removeStartListeners=Ve,this.removeEndListeners=Ve,this.removeAccessibleListeners=Ve,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=Er(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c}=this.node.getProps();ve.update(()=>{v2(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Er(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=mi(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||bp("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&ve.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=yr(this.node.current,"keyup",o),bp("down",(a,l)=>{this.startPress(a,l)})},n=yr(this.node.current,"keydown",e),r=()=>{this.isPressing&&bp("cancel",(s,o)=>this.cancelPress(s,o))},i=yr(this.node.current,"blur",r);this.removeAccessibleListeners=mi(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ve.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!y2()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ve.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Er(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=yr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=mi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Dg=new WeakMap,Rp=new WeakMap,O7=t=>{const e=Dg.get(t.target);e&&e(t)},j7=t=>{t.forEach(O7)};function M7({root:t,...e}){const n=t||document;Rp.has(n)||Rp.set(n,{});const r=Rp.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(j7,{root:t,...e})),r[i]}function V7(t,e,n){const r=M7(e);return Dg.set(t,n),r.observe(t),()=>{Dg.delete(t),r.unobserve(t)}}const L7={some:0,all:1};class F7 extends Mi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:L7[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),f=u?c:h;f&&f(l)};return V7(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some($7(e,n))&&this.startObserver()}unmount(){}}function $7({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const U7={inView:{Feature:F7},tap:{Feature:D7},focus:{Feature:N7},hover:{Feature:k7}};function _2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function B7(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function z7(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Sf(t,e,n){const r=t.getProps();return H0(r,e,n!==void 0?n:r.custom,B7(t),z7(t))}let W7=Ve,G0=Ve;const gi=t=>t*1e3,Tr=t=>t/1e3,H7={current:!1},w2=t=>Array.isArray(t)&&typeof t[0]=="number";function E2(t){return!!(!t||typeof t=="string"&&T2[t]||w2(t)||Array.isArray(t)&&t.every(E2))}const Da=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,T2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Da([0,.65,.55,1]),circOut:Da([.55,0,1,.45]),backIn:Da([.31,.01,.66,-.59]),backOut:Da([.33,1.53,.69,.99])};function S2(t){if(t)return w2(t)?Da(t):Array.isArray(t)?t.map(S2):T2[t]}function q7(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=S2(a);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function G7(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const x2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,K7=1e-7,Q7=12;function X7(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=x2(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>K7&&++a<Q7);return o}function Pu(t,e,n,r){if(t===e&&n===r)return Ve;const i=s=>X7(s,0,1,t,n);return s=>s===0||s===1?s:x2(i(s),e,r)}const Y7=Pu(.42,0,1,1),J7=Pu(0,0,.58,1),I2=Pu(.42,0,.58,1),Z7=t=>Array.isArray(t)&&typeof t[0]!="number",A2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,P2=t=>e=>1-t(1-e),K0=t=>1-Math.sin(Math.acos(t)),C2=P2(K0),eW=A2(K0),b2=Pu(.33,1.53,.69,.99),Q0=P2(b2),tW=A2(Q0),nW=t=>(t*=2)<1?.5*Q0(t):.5*(2-Math.pow(2,-10*(t-1))),rW={linear:Ve,easeIn:Y7,easeInOut:I2,easeOut:J7,circIn:K0,circInOut:eW,circOut:C2,backIn:Q0,backInOut:tW,backOut:b2,anticipate:nW},ZE=t=>{if(Array.isArray(t)){G0(t.length===4);const[e,n,r,i]=t;return Pu(e,n,r,i)}else if(typeof t=="string")return rW[t];return t},X0=(t,e)=>n=>!!(Iu(n)&&i7.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),R2=(t,e,n)=>r=>{if(!Iu(r))return r;const[i,s,o,a]=r.match(Ef);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},iW=t=>Ii(0,255,t),kp={...Us,transform:t=>Math.round(iW(t))},os={test:X0("rgb","red"),parse:R2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+kp.transform(t)+", "+kp.transform(e)+", "+kp.transform(n)+", "+el(Za.transform(r))+")"};function sW(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Og={test:X0("#"),parse:sW,transform:os.transform},co={test:X0("hsl","hue"),parse:R2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Zn.transform(el(e))+", "+Zn.transform(el(n))+", "+el(Za.transform(r))+")"},Dt={test:t=>os.test(t)||Og.test(t)||co.test(t),parse:t=>os.test(t)?os.parse(t):co.test(t)?co.parse(t):Og.parse(t),transform:t=>Iu(t)?t:t.hasOwnProperty("red")?os.transform(t):co.transform(t)},Ne=(t,e,n)=>-n*t+n*e+t;function Np(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function oW({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Np(l,a,t+1/3),s=Np(l,a,t),o=Np(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Dp=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},aW=[Og,os,co],lW=t=>aW.find(e=>e.test(t));function eT(t){const e=lW(t);let n=e.parse(t);return e===co&&(n=oW(n)),n}const k2=(t,e)=>{const n=eT(t),r=eT(e),i={...n};return s=>(i.red=Dp(n.red,r.red,s),i.green=Dp(n.green,r.green,s),i.blue=Dp(n.blue,r.blue,s),i.alpha=Ne(n.alpha,r.alpha,s),os.transform(i))};function uW(t){var e,n;return isNaN(t)&&Iu(t)&&(((e=t.match(Ef))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(i2))===null||n===void 0?void 0:n.length)||0)>0}const N2={regex:n7,countKey:"Vars",token:"${v}",parse:Ve},D2={regex:i2,countKey:"Colors",token:"${c}",parse:Dt.parse},O2={regex:Ef,countKey:"Numbers",token:"${n}",parse:Us.parse};function Op(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function Wh(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Op(n,N2),Op(n,D2),Op(n,O2),n}function j2(t){return Wh(t).values}function M2(t){const{values:e,numColors:n,numVars:r,tokenised:i}=Wh(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(N2.token,o[l]):l<r+n?a=a.replace(D2.token,Dt.transform(o[l])):a=a.replace(O2.token,el(o[l]));return a}}const cW=t=>typeof t=="number"?0:t;function hW(t){const e=j2(t);return M2(t)(e.map(cW))}const Ai={test:uW,parse:j2,createTransformer:M2,getAnimatableNone:hW},V2=(t,e)=>n=>`${n>0?e:t}`;function L2(t,e){return typeof t=="number"?n=>Ne(t,e,n):Dt.test(t)?k2(t,e):t.startsWith("var(")?V2(t,e):$2(t,e)}const F2=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>L2(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},dW=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=L2(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},$2=(t,e)=>{const n=Ai.createTransformer(e),r=Wh(t),i=Wh(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?mi(F2(r.values,i.values),n):V2(t,e)},Hl=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},tT=(t,e)=>n=>Ne(t,e,n);function fW(t){return typeof t=="number"?tT:typeof t=="string"?Dt.test(t)?k2:$2:Array.isArray(t)?F2:typeof t=="object"?dW:tT}function pW(t,e,n){const r=[],i=n||fW(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Ve:e;a=mi(l,a)}r.push(a)}return r}function U2(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(G0(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=pW(e,r,i),a=o.length,l=u=>{let c=0;if(a>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const h=Hl(t[c],t[c+1],u);return o[c](h)};return n?u=>l(Ii(t[0],t[s-1],u)):l}function mW(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Hl(0,e,r);t.push(Ne(n,1,i))}}function gW(t){const e=[0];return mW(e,t.length-1),e}function yW(t,e){return t.map(n=>n*e)}function vW(t,e){return t.map(()=>e||I2).splice(0,t.length-1)}function Hh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Z7(r)?r.map(ZE):ZE(r),s={done:!1,value:e[0]},o=yW(n&&n.length===e.length?n:gW(e),t),a=U2(o,e,{ease:Array.isArray(i)?i:vW(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function B2(t,e){return e?t*(1e3/e):0}const _W=5;function z2(t,e,n){const r=Math.max(e-_W,0);return B2(n-t(r),e-r)}const jp=.001,wW=.01,nT=10,EW=.05,TW=1;function SW({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;W7(t<=gi(nT));let o=1-e;o=Ii(EW,TW,o),t=Ii(wW,nT,Tr(t)),o<1?(i=u=>{const c=u*o,h=c*t,f=c-n,p=jg(u,o),g=Math.exp(-h);return jp-f/p*g},s=u=>{const h=u*o*t,f=h*n+n,p=Math.pow(o,2)*Math.pow(u,2)*t,g=Math.exp(-h),_=jg(Math.pow(u,2),o);return(-i(u)+jp>0?-1:1)*((f-p)*g)/_}):(i=u=>{const c=Math.exp(-u*t),h=(u-n)*t+1;return-jp+c*h},s=u=>{const c=Math.exp(-u*t),h=(n-u)*(t*t);return c*h});const a=5/t,l=IW(i,s,a);if(t=gi(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const xW=12;function IW(t,e,n){let r=n;for(let i=1;i<xW;i++)r=r-t(r)/e(r);return r}function jg(t,e){return t*Math.sqrt(1-e*e)}const AW=["duration","bounce"],PW=["stiffness","damping","mass"];function rT(t,e){return e.some(n=>t[n]!==void 0)}function CW(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!rT(t,PW)&&rT(t,AW)){const n=SW(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function W2({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,velocity:c,duration:h,isResolvedFromDuration:f}=CW(r),p=c?-Tr(c):0,g=l/(2*Math.sqrt(a*u)),_=s-i,w=Tr(Math.sqrt(a/u)),v=Math.abs(_)<5;n||(n=v?.01:2),e||(e=v?.005:.5);let m;if(g<1){const y=jg(w,g);m=T=>{const x=Math.exp(-g*w*T);return s-x*((p+g*w*_)/y*Math.sin(y*T)+_*Math.cos(y*T))}}else if(g===1)m=y=>s-Math.exp(-w*y)*(_+(p+w*_)*y);else{const y=w*Math.sqrt(g*g-1);m=T=>{const x=Math.exp(-g*w*T),S=Math.min(y*T,300);return s-x*((p+g*w*_)*Math.sinh(S)+y*_*Math.cosh(S))/y}}return{calculatedDuration:f&&h||null,next:y=>{const T=m(y);if(f)o.done=y>=h;else{let x=p;y!==0&&(g<1?x=z2(m,y,T):x=0);const S=Math.abs(x)<=n,I=Math.abs(s-T)<=e;o.done=S&&I}return o.value=o.done?s:T,o}}}function iT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const h=t[0],f={done:!1,value:h},p=A=>a!==void 0&&A<a||l!==void 0&&A>l,g=A=>a===void 0?l:l===void 0||Math.abs(a-A)<Math.abs(l-A)?a:l;let _=n*e;const w=h+_,v=o===void 0?w:o(w);v!==w&&(_=v-h);const m=A=>-_*Math.exp(-A/r),y=A=>v+m(A),T=A=>{const C=m(A),k=y(A);f.done=Math.abs(C)<=u,f.value=f.done?v:k};let x,S;const I=A=>{p(f.value)&&(x=A,S=W2({keyframes:[f.value,g(f.value)],velocity:z2(y,A,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return I(0),{calculatedDuration:null,next:A=>{let C=!1;return!S&&x===void 0&&(C=!0,T(A),I(A)),x!==void 0&&A>x?S.next(A-x):(!C&&T(A),f)}}}const bW=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ve.update(e,!0),stop:()=>Rr(e),now:()=>Tt.isProcessing?Tt.timestamp:performance.now()}},sT=2e4;function oT(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<sT;)e+=n,r=t.next(e);return e>=sT?1/0:e}const RW={decay:iT,inertia:iT,tween:Hh,keyframes:Hh,spring:W2};function qh({autoplay:t=!0,delay:e=0,driver:n=bW,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:h,...f}){let p=1,g=!1,_,w;const v=()=>{w=new Promise(z=>{_=z})};v();let m;const y=RW[i]||Hh;let T;y!==Hh&&typeof r[0]!="number"&&(T=U2([0,100],r,{clamp:!1}),r=[0,100]);const x=y({...f,keyframes:r});let S;a==="mirror"&&(S=y({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let I="idle",A=null,C=null,k=null;x.calculatedDuration===null&&s&&(x.calculatedDuration=oT(x));const{calculatedDuration:$}=x;let se=1/0,Y=1/0;$!==null&&(se=$+o,Y=se*(s+1)-o);let K=0;const F=z=>{if(C===null)return;p>0&&(C=Math.min(C,z)),p<0&&(C=Math.min(z-Y/p,C)),A!==null?K=A:K=Math.round(z-C)*p;const ae=K-e*(p>=0?1:-1),Ft=p>=0?ae<0:ae>Y;K=Math.max(ae,0),I==="finished"&&A===null&&(K=Y);let lt=K,vt=x;if(s){const ir=K/se;let Dn=Math.floor(ir),$t=ir%1;!$t&&ir>=1&&($t=1),$t===1&&Dn--,Dn=Math.min(Dn,s+1);const Li=!!(Dn%2);Li&&(a==="reverse"?($t=1-$t,o&&($t-=o/se)):a==="mirror"&&(vt=S));let Bs=Ii(0,1,$t);K>Y&&(Bs=a==="reverse"&&Li?1:0),lt=Bs*se}const ze=Ft?{done:!1,value:r[0]}:vt.next(lt);T&&(ze.value=T(ze.value));let{done:kt}=ze;!Ft&&$!==null&&(kt=p>=0?K>=Y:K<=0);const Vi=A===null&&(I==="finished"||I==="running"&&kt);return h&&h(ze.value),Vi&&j(),ze},we=()=>{m&&m.stop(),m=void 0},Rt=()=>{I="idle",we(),_(),v(),C=k=null},j=()=>{I="finished",c&&c(),we(),_()},q=()=>{if(g)return;m||(m=n(F));const z=m.now();l&&l(),A!==null?C=z-A:(!C||I==="finished")&&(C=z),I==="finished"&&v(),k=C,A=null,I="running",m.start()};t&&q();const Q={then(z,ae){return w.then(z,ae)},get time(){return Tr(K)},set time(z){z=gi(z),K=z,A!==null||!m||p===0?A=z:C=m.now()-z/p},get duration(){const z=x.calculatedDuration===null?oT(x):x.calculatedDuration;return Tr(z)},get speed(){return p},set speed(z){z===p||!m||(p=z,Q.time=Tr(K))},get state(){return I},play:q,pause:()=>{I="paused",A=K},stop:()=>{g=!0,I!=="idle"&&(I="idle",u&&u(),Rt())},cancel:()=>{k!==null&&F(k),Rt()},complete:()=>{I="finished"},sample:z=>(C=0,F(z))};return Q}function kW(t){let e;return()=>(e===void 0&&(e=t()),e)}const NW=kW(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),DW=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),cc=10,OW=2e4,jW=(t,e)=>e.type==="spring"||t==="backgroundColor"||!E2(e.ease);function MW(t,e,{onUpdate:n,onComplete:r,...i}){if(!(NW()&&DW.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const u=()=>{l=new Promise(m=>{a=m})};u();let{keyframes:c,duration:h=300,ease:f,times:p}=i;if(jW(e,i)){const m=qh({...i,repeat:0,delay:0});let y={done:!1,value:c[0]};const T=[];let x=0;for(;!y.done&&x<OW;)y=m.sample(x),T.push(y.value),x+=cc;p=void 0,c=T,h=x-cc,f="linear"}const g=q7(t.owner.current,e,c,{...i,duration:h,ease:f,times:p}),_=()=>g.cancel(),w=()=>{ve.update(_),a(),u()};return g.onfinish=()=>{t.set(G7(c,i)),r&&r(),w()},{then(m,y){return l.then(m,y)},attachTimeline(m){return g.timeline=m,g.onfinish=null,Ve},get time(){return Tr(g.currentTime||0)},set time(m){g.currentTime=gi(m)},get speed(){return g.playbackRate},set speed(m){g.playbackRate=m},get duration(){return Tr(h)},play:()=>{o||(g.play(),Rr(_))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:m}=g;if(m){const y=qh({...i,autoplay:!1});t.setWithVelocity(y.sample(m-cc).value,y.sample(m).value,cc)}w()},complete:()=>g.finish(),cancel:w}}function VW({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ve,pause:Ve,stop:Ve,then:s=>(s(),Promise.resolve()),cancel:Ve,complete:Ve});return e?qh({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const LW={type:"spring",stiffness:500,damping:25,restSpeed:10},FW=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),$W={type:"keyframes",duration:.8},UW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},BW=(t,{keyframes:e})=>e.length>2?$W:$s.has(t)?t.startsWith("scale")?FW(e[1]):LW:UW,Mg=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ai.test(e)||e==="0")&&!e.startsWith("url(")),zW=new Set(["brightness","contrast","saturate","opacity"]);function WW(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Ef)||[];if(!r)return t;const i=n.replace(r,"");let s=zW.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const HW=/([a-z-]*)\(.*?\)/g,Vg={...Ai,getAnimatableNone:t=>{const e=t.match(HW);return e?e.map(WW).join(" "):t}},qW={...s2,color:Dt,backgroundColor:Dt,outlineColor:Dt,fill:Dt,stroke:Dt,borderColor:Dt,borderTopColor:Dt,borderRightColor:Dt,borderBottomColor:Dt,borderLeftColor:Dt,filter:Vg,WebkitFilter:Vg},Y0=t=>qW[t];function H2(t,e){let n=Y0(t);return n!==Vg&&(n=Ai),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const q2=t=>/^0[^.\s]+$/.test(t);function GW(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||q2(t)}function KW(t,e,n,r){const i=Mg(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),GW(s[u])&&l.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const c=l[u];s[c]=H2(e,a)}return s}function QW({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function J0(t,e){return t[e]||t.default||t}const Z0=(t,e,n,r={})=>i=>{const s=J0(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-gi(o);const l=KW(e,t,n,s),u=l[0],c=l[l.length-1],h=Mg(t,u),f=Mg(t,c);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:g=>{e.set(g),s.onUpdate&&s.onUpdate(g)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(QW(s)||(p={...p,...BW(t,p)}),p.duration&&(p.duration=gi(p.duration)),p.repeatDelay&&(p.repeatDelay=gi(p.repeatDelay)),!h||!f||H7.current||s.type===!1)return VW(p);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const g=MW(e,t,p);if(g)return g}return qh(p)};function Gh(t){return!!(Xt(t)&&t.add)}const G2=t=>/^\-?\d*\.?\d+$/.test(t);function e_(t,e){t.indexOf(e)===-1&&t.push(e)}function t_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class n_{constructor(){this.subscriptions=[]}add(e){return e_(this.subscriptions,e),()=>t_(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const XW=t=>!isNaN(parseFloat(t));class YW{constructor(e,n={}){this.version="10.16.16",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Tt;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,ve.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ve.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=XW(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new n_);const r=this.events[e].add(n);return e==="change"?()=>{r(),ve.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?B2(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ho(t,e){return new YW(t,e)}const K2=t=>e=>e.test(t),JW={test:t=>t==="auto",parse:t=>t},Q2=[Us,G,Zn,$r,o7,s7,JW],wa=t=>Q2.find(K2(t)),ZW=[...Q2,Dt,Ai],eH=t=>ZW.find(K2(t));function tH(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ho(n))}function r_(t,e){const n=Sf(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=w7(s[o]);tH(t,o,a)}}function Lg(t,e){[...e].reverse().forEach(r=>{const i=t.getVariant(r);i&&r_(t,i),t.variantChildren&&t.variantChildren.forEach(s=>{Lg(s,e)})})}function nH(t,e){if(Array.isArray(e))return Lg(t,e);if(typeof e=="string")return Lg(t,[e]);r_(t,e)}function rH(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),c!=null&&(typeof c=="string"&&(G2(c)||q2(c))?c=parseFloat(c):!eH(c)&&Ai.test(u)&&(c=H2(l,u)),t.addValue(l,Ho(c,{owner:t})),n[l]===void 0&&(n[l]=c),c!==null&&t.setBaseTarget(l,c))}}function iH(t,e){return e?(e[t]||e.default||e).from:void 0}function sH(t,e,n){const r={};for(const i in t){const s=iH(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function oH({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function aH(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function X2(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const f=t.getValue(h),p=a[h];if(!f||p===void 0||c&&oH(c,h))continue;const g={delay:n,elapsed:0,...J0(s||{},h)};if(window.HandoffAppearAnimations){const v=t.getProps()[Jb];if(v){const m=window.HandoffAppearAnimations(v,h,f,ve);m!==null&&(g.elapsed=m,g.isHandoff=!0)}}let _=!g.isHandoff&&!aH(f,p);if(g.type==="spring"&&(f.getVelocity()||g.velocity)&&(_=!1),f.animation&&(_=!1),_)continue;f.start(Z0(h,f,p,t.shouldReduceMotion&&$s.has(h)?{type:!1}:g));const w=f.animation;Gh(l)&&(l.add(h),w.then(()=>l.remove(h))),u.push(w)}return o&&Promise.all(u).then(()=>{o&&r_(t,o)}),u}function Fg(t,e,n={}){const r=Sf(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(X2(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:h}=i;return lH(t,e,u+l,c,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function lH(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(uH).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(Fg(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function uH(t,e){return t.sortNodePosition(e)}function Y2(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Fg(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Fg(t,e,n);else{const i=typeof e=="function"?Sf(t,e,n.custom):e;r=Promise.all(X2(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const cH=[...M0].reverse(),hH=M0.length;function dH(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Y2(t,n,r)))}function fH(t){let e=dH(t);const n=mH();let r=!0;const i=(l,u)=>{const c=Sf(t,u);if(c){const{transition:h,transitionEnd:f,...p}=c;l={...l,...p,...f}}return l};function s(l){e=l(t)}function o(l,u){const c=t.getProps(),h=t.getVariantContext(!0)||{},f=[],p=new Set;let g={},_=1/0;for(let v=0;v<hH;v++){const m=cH[v],y=n[m],T=c[m]!==void 0?c[m]:h[m],x=zl(T),S=m===u?y.isActive:null;S===!1&&(_=v);let I=T===h[m]&&T!==c[m]&&x;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),y.protectedKeys={...g},!y.isActive&&S===null||!T&&!y.prevProp||_f(T)||typeof T=="boolean")continue;const A=pH(y.prevProp,T);let C=A||m===u&&y.isActive&&!I&&x||v>_&&x;const k=Array.isArray(T)?T:[T];let $=k.reduce(i,{});S===!1&&($={});const{prevResolvedValues:se={}}=y,Y={...se,...$},K=F=>{C=!0,p.delete(F),y.needsAnimating[F]=!0};for(const F in Y){const we=$[F],Rt=se[F];g.hasOwnProperty(F)||(we!==Rt?zh(we)&&zh(Rt)?!_2(we,Rt)||A?K(F):y.protectedKeys[F]=!0:we!==void 0?K(F):p.add(F):we!==void 0&&p.has(F)?K(F):y.protectedKeys[F]=!0)}y.prevProp=T,y.prevResolvedValues=$,y.isActive&&(g={...g,...$}),r&&t.blockInitialAnimation&&(C=!1),C&&!I&&f.push(...k.map(F=>({animation:F,options:{type:m,...l}})))}if(p.size){const v={};p.forEach(m=>{const y=t.getBaseTarget(m);y!==void 0&&(v[m]=y)}),f.push({animation:v})}let w=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(f):Promise.resolve()}function a(l,u,c){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(l,u)}),n[l].isActive=u;const f=o(c,l);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function pH(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!_2(e,t):!1}function Bi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mH(){return{animate:Bi(!0),whileInView:Bi(),whileHover:Bi(),whileTap:Bi(),whileDrag:Bi(),whileFocus:Bi(),exit:Bi()}}class gH extends Mi{constructor(e){super(e),e.animationState||(e.animationState=fH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),_f(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let yH=0;class vH extends Mi{constructor(){super(...arguments),this.id=yH++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const _H={animation:{Feature:gH},exit:{Feature:vH}},aT=(t,e)=>Math.abs(t-e);function wH(t,e){const n=aT(t.x,e.x),r=aT(t.y,e.y);return Math.sqrt(n**2+r**2)}class J2{constructor(e,n,{transformPagePoint:r,contextWindow:i}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=Vp(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,f=wH(c.offset,{x:0,y:0})>=3;if(!h&&!f)return;const{point:p}=c,{timestamp:g}=Tt;this.history.push({...p,timestamp:g});const{onStart:_,onMove:w}=this.handlers;h||(_&&_(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,c)},this.handlePointerMove=(c,h)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=Mp(h,this.transformPagePoint),ve.update(this.updatePoint,!0)},this.handlePointerUp=(c,h)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:f,onSessionEnd:p}=this.handlers,g=Vp(c.type==="pointercancel"?this.lastMoveEventInfo:Mp(h,this.transformPagePoint),this.history);this.startEvent&&f&&f(c,g),p&&p(c,g)},!p2(e))return;this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=Tf(e),o=Mp(s,this.transformPagePoint),{point:a}=o,{timestamp:l}=Tt;this.history=[{...a,timestamp:l}];const{onSessionStart:u}=n;u&&u(e,Vp(o,this.history)),this.removeListeners=mi(Er(this.contextWindow,"pointermove",this.handlePointerMove),Er(this.contextWindow,"pointerup",this.handlePointerUp),Er(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Rr(this.updatePoint)}}function Mp(t,e){return e?{point:e(t.point)}:t}function lT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Vp({point:t},e){return{point:t,delta:lT(t,Z2(e)),offset:lT(t,EH(e)),velocity:TH(e,.1)}}function EH(t){return t[0]}function Z2(t){return t[t.length-1]}function TH(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Z2(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>gi(e)));)n--;if(!r)return{x:0,y:0};const s=Tr(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ln(t){return t.max-t.min}function $g(t,e=0,n=.01){return Math.abs(t-e)<=n}function uT(t,e,n,r=.5){t.origin=r,t.originPoint=Ne(e.min,e.max,t.origin),t.scale=ln(n)/ln(e),($g(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ne(n.min,n.max,t.origin)-t.originPoint,($g(t.translate)||isNaN(t.translate))&&(t.translate=0)}function tl(t,e,n,r){uT(t.x,e.x,n.x,r?r.originX:void 0),uT(t.y,e.y,n.y,r?r.originY:void 0)}function cT(t,e,n){t.min=n.min+e.min,t.max=t.min+ln(e)}function SH(t,e,n){cT(t.x,e.x,n.x),cT(t.y,e.y,n.y)}function hT(t,e,n){t.min=e.min-n.min,t.max=t.min+ln(e)}function nl(t,e,n){hT(t.x,e.x,n.x),hT(t.y,e.y,n.y)}function xH(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ne(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ne(n,t,r.max):Math.min(t,n)),t}function dT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function IH(t,{top:e,left:n,bottom:r,right:i}){return{x:dT(t.x,n,i),y:dT(t.y,e,r)}}function fT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function AH(t,e){return{x:fT(t.x,e.x),y:fT(t.y,e.y)}}function PH(t,e){let n=.5;const r=ln(t),i=ln(e);return i>r?n=Hl(e.min,e.max-r,t.min):r>i&&(n=Hl(t.min,t.max-i,e.min)),Ii(0,1,n)}function CH(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ug=.35;function bH(t=Ug){return t===!1?t=0:t===!0&&(t=Ug),{x:pT(t,"left","right"),y:pT(t,"top","bottom")}}function pT(t,e,n){return{min:mT(t,e),max:mT(t,n)}}function mT(t,e){return typeof t=="number"?t:t[e]||0}const gT=()=>({translate:0,scale:1,origin:0,originPoint:0}),ho=()=>({x:gT(),y:gT()}),yT=()=>({min:0,max:0}),He=()=>({x:yT(),y:yT()});function Mn(t){return[t("x"),t("y")]}function eR({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function RH({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function kH(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Lp(t){return t===void 0||t===1}function Bg({scale:t,scaleX:e,scaleY:n}){return!Lp(t)||!Lp(e)||!Lp(n)}function Ki(t){return Bg(t)||tR(t)||t.z||t.rotate||t.rotateX||t.rotateY}function tR(t){return vT(t.x)||vT(t.y)}function vT(t){return t&&t!=="0%"}function Kh(t,e,n){const r=t-n,i=e*r;return n+i}function _T(t,e,n,r,i){return i!==void 0&&(t=Kh(t,i,r)),Kh(t,n,r)+e}function zg(t,e=0,n=1,r,i){t.min=_T(t.min,e,n,r,i),t.max=_T(t.max,e,n,r,i)}function nR(t,{x:e,y:n}){zg(t.x,e.translate,e.scale,e.originPoint),zg(t.y,n.translate,n.scale,n.originPoint)}function NH(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&fo(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,nR(t,o)),r&&Ki(s.latestValues)&&fo(t,s.latestValues))}e.x=wT(e.x),e.y=wT(e.y)}function wT(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Wr(t,e){t.min=t.min+e,t.max=t.max+e}function ET(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Ne(t.min,t.max,s);zg(t,e[n],e[r],o,e.scale)}const DH=["x","scaleX","originX"],OH=["y","scaleY","originY"];function fo(t,e){ET(t.x,e,DH),ET(t.y,e,OH)}function rR(t,e){return eR(kH(t.getBoundingClientRect(),e))}function jH(t,e,n){const r=rR(t,n),{scroll:i}=e;return i&&(Wr(r.x,i.offset.x),Wr(r.y,i.offset.y)),r}const iR=({current:t})=>t?t.ownerDocument.defaultView:null,MH=new WeakMap;class VH{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=He(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),n&&this.snapToCursor(Tf(l,"page").point)},s=(l,u)=>{const{drag:c,dragPropagation:h,onDragStart:f}=this.getProps();if(c&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=g2(c),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mn(g=>{let _=this.getAxisMotionValue(g).get()||0;if(Zn.test(_)){const{projection:w}=this.visualElement;if(w&&w.layout){const v=w.layout.layoutBox[g];v&&(_=ln(v)*(parseFloat(_)/100))}}this.originPoint[g]=_}),f&&ve.update(()=>f(l,u),!1,!0);const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:c,dragDirectionLock:h,onDirectionLock:f,onDrag:p}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:g}=u;if(h&&this.currentDirection===null){this.currentDirection=LH(g),this.currentDirection!==null&&f&&f(this.currentDirection);return}this.updateAxis("x",u.point,g),this.updateAxis("y",u.point,g),this.visualElement.render(),p&&p(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new J2(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint(),contextWindow:iR(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&ve.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!hc(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=xH(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&uo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=IH(i.layoutBox,n):this.constraints=!1,this.elastic=bH(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Mn(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=CH(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!uo(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=jH(r,i.root,this.visualElement.getTransformPagePoint());let o=AH(i.layout.layoutBox,s);if(n){const a=n(RH(o));this.hasMutatedConstraints=!!a,a&&(o=eR(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Mn(c=>{if(!hc(c,n,this.currentDirection))return;let h=l&&l[c]||{};o&&(h={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,g={type:"inertia",velocity:r?e[c]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Z0(e,r,0,n))}stopAnimation(){Mn(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Mn(n=>{const{drag:r}=this.getProps();if(!hc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Ne(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!uo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Mn(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=PH({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Mn(o=>{if(!hc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Ne(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;MH.set(this.visualElement,this);const e=this.visualElement.current,n=Er(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();uo(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=yr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Mn(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Ug,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function hc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function LH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class FH extends Mi{constructor(e){super(e),this.removeGroupControls=Ve,this.removeListeners=Ve,this.controls=new VH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ve}unmount(){this.removeGroupControls(),this.removeListeners()}}const TT=t=>(e,n)=>{t&&ve.update(()=>t(e,n))};class $H extends Mi{constructor(){super(...arguments),this.removePointerDownListener=Ve}onPointerDown(e){this.session=new J2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:iR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:TT(e),onStart:TT(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&ve.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=Er(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function UH(){const t=E.useContext(gf);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=E.useId();return E.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const Fc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ST(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ea={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(G.test(t))t=parseFloat(t);else return t;const n=ST(t,e.target.x),r=ST(t,e.target.y);return`${n}% ${r}%`}},BH={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ai.parse(t);if(i.length>5)return r;const s=Ai.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Ne(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class zH extends zn.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Jz(WH),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Fc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ve.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function sR(t){const[e,n]=UH(),r=E.useContext(L0);return zn.createElement(zH,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(e2),isPresent:e,safeToRemove:n})}const WH={borderRadius:{...Ea,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ea,borderTopRightRadius:Ea,borderBottomLeftRadius:Ea,borderBottomRightRadius:Ea,boxShadow:BH},oR=["TopLeft","TopRight","BottomLeft","BottomRight"],HH=oR.length,xT=t=>typeof t=="string"?parseFloat(t):t,IT=t=>typeof t=="number"||G.test(t);function qH(t,e,n,r,i,s){i?(t.opacity=Ne(0,n.opacity!==void 0?n.opacity:1,GH(r)),t.opacityExit=Ne(e.opacity!==void 0?e.opacity:1,0,KH(r))):s&&(t.opacity=Ne(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<HH;o++){const a=`border${oR[o]}Radius`;let l=AT(e,a),u=AT(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||IT(l)===IT(u)?(t[a]=Math.max(Ne(xT(l),xT(u),r),0),(Zn.test(u)||Zn.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Ne(e.rotate||0,n.rotate||0,r))}function AT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const GH=aR(0,.5,C2),KH=aR(.5,.95,Ve);function aR(t,e,n){return r=>r<t?0:r>e?1:n(Hl(t,e,r))}function PT(t,e){t.min=e.min,t.max=e.max}function fn(t,e){PT(t.x,e.x),PT(t.y,e.y)}function CT(t,e,n,r,i){return t-=e,t=Kh(t,1/n,r),i!==void 0&&(t=Kh(t,1/i,r)),t}function QH(t,e=0,n=1,r=.5,i,s=t,o=t){if(Zn.test(e)&&(e=parseFloat(e),e=Ne(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ne(s.min,s.max,r);t===s&&(a-=e),t.min=CT(t.min,e,n,a,i),t.max=CT(t.max,e,n,a,i)}function bT(t,e,[n,r,i],s,o){QH(t,e[n],e[r],e[i],e.scale,s,o)}const XH=["x","scaleX","originX"],YH=["y","scaleY","originY"];function RT(t,e,n,r){bT(t.x,e,XH,n?n.x:void 0,r?r.x:void 0),bT(t.y,e,YH,n?n.y:void 0,r?r.y:void 0)}function kT(t){return t.translate===0&&t.scale===1}function lR(t){return kT(t.x)&&kT(t.y)}function JH(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function uR(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function NT(t){return ln(t.x)/ln(t.y)}class ZH{constructor(){this.members=[]}add(e){e_(this.members,e),e.scheduleRender()}remove(e){if(t_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function DT(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const eq=(t,e)=>t.depth-e.depth;class tq{constructor(){this.children=[],this.isDirty=!1}add(e){e_(this.children,e),this.isDirty=!0}remove(e){t_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(eq),this.isDirty=!1,this.children.forEach(e)}}function nq(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Rr(r),t(s-e))};return ve.read(r,!0),()=>Rr(r)}function rq(t){window.MotionDebug&&window.MotionDebug.record(t)}function iq(t){return t instanceof SVGElement&&t.tagName!=="svg"}function sq(t,e,n){const r=Xt(t)?t:Ho(t);return r.start(Z0("",r,e,n)),r.animation}const OT=["","X","Y","Z"],oq={visibility:"hidden"},jT=1e3;let aq=0;const Qi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function cR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=aq++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Qi.totalNodes=Qi.resolvedTargetDeltas=Qi.recalculatedProjection=0,this.nodes.forEach(cq),this.nodes.forEach(mq),this.nodes.forEach(gq),this.nodes.forEach(hq),rq(Qi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new tq)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new n_),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=iq(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=nq(f,250),Fc.hasAnimatedSinceResize&&(Fc.hasAnimatedSinceResize=!1,this.nodes.forEach(VT))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||c.getDefaultTransition()||Eq,{onLayoutAnimationStart:w,onLayoutAnimationComplete:v}=c.getProps(),m=!this.targetLayout||!uR(this.targetLayout,g)||p,y=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||f&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,y);const T={...J0(_,"layout"),onPlay:w,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else f||VT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Rr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yq),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(MT);return}this.isUpdating||this.nodes.forEach(fq),this.isUpdating=!1,this.nodes.forEach(pq),this.nodes.forEach(lq),this.nodes.forEach(uq),this.clearAllSnapshots();const a=performance.now();Tt.delta=Ii(0,1e3/60,a-Tt.timestamp),Tt.timestamp=a,Tt.isProcessing=!0,Cp.update.process(Tt),Cp.preRender.process(Tt),Cp.render.process(Tt),Tt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(dq),this.sharedNodes.forEach(vq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ve.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ve.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=He(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!lR(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||Ki(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Tq(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return He();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Wr(a.x,l.offset.x),Wr(a.y,l.offset.y)),a}removeElementScroll(o){const a=He();fn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:h}=u;if(u!==this.root&&c&&h.layoutScroll){if(c.isRoot){fn(a,o);const{scroll:f}=this.root;f&&(Wr(a.x,-f.offset.x),Wr(a.y,-f.offset.y))}Wr(a.x,c.offset.x),Wr(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=He();fn(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&fo(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Ki(c.latestValues)&&fo(l,c.latestValues)}return Ki(this.latestValues)&&fo(l,this.latestValues),l}removeTransform(o){const a=He();fn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Ki(u.latestValues))continue;Bg(u.latestValues)&&u.updateSnapshot();const c=He(),h=u.measurePageBox();fn(c,h),RT(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Ki(this.latestValues)&&RT(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Tt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=He(),this.relativeTargetOrigin=He(),nl(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=He(),this.targetWithTransforms=He()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),SH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fn(this.target,this.layout.layoutBox),nR(this.target,this.targetDelta)):fn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=He(),this.relativeTargetOrigin=He(),nl(this.relativeTargetOrigin,this.target,p.target),fn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Qi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Bg(this.parent.latestValues)||tR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Tt.timestamp&&(u=!1),u)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;fn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;NH(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:g}=a;if(!g){this.projectionTransform&&(this.projectionDelta=ho(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ho(),this.projectionDeltaWithTransform=ho());const _=this.projectionTransform;tl(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=DT(this.projectionDelta,this.treeScale),(this.projectionTransform!==_||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Qi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=ho();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=He(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,_=p!==g,w=this.getStack(),v=!w||w.members.length<=1,m=!!(_&&!v&&this.options.crossfade===!0&&!this.path.some(wq));this.animationProgress=0;let y;this.mixTargetDelta=T=>{const x=T/1e3;LT(h.x,o.x,x),LT(h.y,o.y,x),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nl(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_q(this.relativeTarget,this.relativeTargetOrigin,f,x),y&&JH(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=He()),fn(y,this.relativeTarget)),_&&(this.animationValues=c,qH(c,u,this.latestValues,x,m,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=x},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Rr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ve.update(()=>{Fc.hasAnimatedSinceResize=!0,this.currentAnimation=sq(0,jT,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(jT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&hR(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||He();const h=ln(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=ln(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}fn(a,l),fo(a,c),tl(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new ZH),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<OT.length;c++){const h="rotate"+OT[c];l[h]&&(u[h]=l[h],o.setStaticValue(h,0))}o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return oq;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Lc(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=Lc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ki(this.latestValues)&&(_.transform=c?c({},""):"none",this.hasProjected=!1),_}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=DT(this.projectionDeltaWithTransform,this.treeScale,f),c&&(u.transform=c(f,u.transform));const{x:p,y:g}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const _ in Uh){if(f[_]===void 0)continue;const{correct:w,applyTo:v}=Uh[_],m=u.transform==="none"?f[_]:w(f[_],h);if(v){const y=v.length;for(let T=0;T<y;T++)u[v[T]]=m}else u[_]=m}return this.options.layoutId&&(u.pointerEvents=h===this?Lc(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(MT),this.root.sharedNodes.clear()}}}function lq(t){t.updateLayout()}function uq(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Mn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=ln(f);f.min=r[h].min,f.max=f.min+p}):hR(s,n.layoutBox,r)&&Mn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=ln(r[h]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=ho();tl(a,r,n.layoutBox);const l=ho();o?tl(l,t.applyTransform(i,!0),n.measuredBox):tl(l,r,n.layoutBox);const u=!lR(a);let c=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const g=He();nl(g,n.layoutBox,f.layoutBox);const _=He();nl(_,r,p.layoutBox),uR(g,_)||(c=!0),h.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=g,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function cq(t){Qi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function hq(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function dq(t){t.clearSnapshot()}function MT(t){t.clearMeasurements()}function fq(t){t.isLayoutDirty=!1}function pq(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function VT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function mq(t){t.resolveTargetDelta()}function gq(t){t.calcProjection()}function yq(t){t.resetRotation()}function vq(t){t.removeLeadSnapshot()}function LT(t,e,n){t.translate=Ne(e.translate,0,n),t.scale=Ne(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function FT(t,e,n,r){t.min=Ne(e.min,n.min,r),t.max=Ne(e.max,n.max,r)}function _q(t,e,n,r){FT(t.x,e.x,n.x,r),FT(t.y,e.y,n.y,r)}function wq(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Eq={duration:.45,ease:[.4,0,.1,1]},$T=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),UT=$T("applewebkit/")&&!$T("chrome/")?Math.round:Ve;function BT(t){t.min=UT(t.min),t.max=UT(t.max)}function Tq(t){BT(t.x),BT(t.y)}function hR(t,e,n){return t==="position"||t==="preserve-aspect"&&!$g(NT(e),NT(n),.2)}const Sq=cR({attachResizeListener:(t,e)=>yr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Fp={current:void 0},dR=cR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Fp.current){const t=new Sq({});t.mount(window),t.setOptions({layoutScroll:!0}),Fp.current=t}return Fp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),xq={pan:{Feature:$H},drag:{Feature:FH,ProjectionNode:dR,MeasureLayout:sR}},Iq=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Aq(t){const e=Iq.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Wg(t,e,n=1){const[r,i]=Aq(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return G2(o)?parseFloat(o):o}else return Ng(i)?Wg(i,e,n+1):i}function Pq(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!Ng(s))return;const o=Wg(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!Ng(s))continue;const o=Wg(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const Cq=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),fR=t=>Cq.has(t),bq=t=>Object.keys(t).some(fR),zT=t=>t===Us||t===G,WT=(t,e)=>parseFloat(t.split(", ")[e]),HT=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return WT(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?WT(s[1],t):0}},Rq=new Set(["x","y","z"]),kq=xu.filter(t=>!Rq.has(t));function Nq(t){const e=[];return kq.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const qo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:HT(4,13),y:HT(5,14)};qo.translateX=qo.x;qo.translateY=qo.y;const Dq=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=qo[u](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const c=e.getValue(u);c&&c.jump(a[u]),t[u]=qo[u](l,s)}),t},Oq=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(fR);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let c=n[l],h=wa(c);const f=e[l];let p;if(zh(f)){const g=f.length,_=f[0]===null?1:0;c=f[_],h=wa(c);for(let w=_;w<g&&f[w]!==null;w++)p?G0(wa(f[w])===p):p=wa(f[w])}else p=wa(f);if(h!==p)if(zT(h)&&zT(p)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&p===G&&(e[l]=f.map(parseFloat))}else h!=null&&h.transform&&(p!=null&&p.transform)&&(c===0||f===0)?c===0?u.set(p.transform(c)):e[l]=h.transform(f):(o||(s=Nq(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=Dq(e,t,a);return s.length&&s.forEach(([c,h])=>{t.getValue(c).set(h)}),t.render(),yf&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function jq(t,e,n,r){return bq(e)?Oq(t,e,n,r):{target:e,transitionEnd:r}}const Mq=(t,e,n,r)=>{const i=Pq(t,e,r);return e=i.target,r=i.transitionEnd,jq(t,e,n,r)},Hg={current:null},pR={current:!1};function Vq(){if(pR.current=!0,!!yf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Hg.current=t.matches;t.addListener(e),e()}else Hg.current=!1}function Lq(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(Xt(s))t.addValue(i,s),Gh(r)&&r.add(i);else if(Xt(o))t.addValue(i,Ho(s,{owner:t})),Gh(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Ho(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const qT=new WeakMap,mR=Object.keys(Wl),Fq=mR.length,GT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],$q=V0.length;class Uq{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ve.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=wf(n),this.isVariantNode=Zb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const h in c){const f=c[h];a[h]!==void 0&&Xt(f)&&(f.set(a[h],!1),Gh(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,qT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),pR.current||Vq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Hg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){qT.delete(this.current),this.projection&&this.projection.unmount(),Rr(this.notifyUpdate),Rr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=$s.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ve.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<Fq;l++){const u=mR[l],{isEnabled:c,Feature:h,ProjectionNode:f,MeasureLayout:p}=Wl[u];f&&(o=f),c(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),p&&(a=p))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:h,layoutScroll:f,layoutRoot:p}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||h&&uo(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:p})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):He()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<GT.length;r++){const i=GT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=Lq(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<$q;r++){const i=V0[r],s=this.props[i];(zl(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ho(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=H0(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Xt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new n_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class gR extends Uq{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=sH(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){rH(this,r,o);const a=Mq(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function Bq(t){return window.getComputedStyle(t)}class zq extends gR{readValueFromInstance(e,n){if($s.has(n)){const r=Y0(n);return r&&r.default||0}else{const r=Bq(e),i=(r2(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return rR(e,n)}build(e,n,r,i){$0(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return W0(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Xt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){u2(e,n,r,i)}}class Wq extends gR{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if($s.has(n)){const r=Y0(n);return r&&r.default||0}return n=c2.has(n)?n:j0(n),e.getAttribute(n)}measureInstanceViewportBox(){return He()}scrapeMotionValuesFromProps(e,n){return d2(e,n)}build(e,n,r,i){B0(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){h2(e,n,r,i)}mount(e){this.isSVGTag=z0(e.tagName),super.mount(e)}}const Hq=(t,e)=>F0(t)?new Wq(e,{enableHardwareAcceleration:!1}):new zq(e,{enableHardwareAcceleration:!0}),qq={layout:{ProjectionNode:dR,MeasureLayout:sR}},Gq={..._H,...U7,...xq,...qq},tn=Xz((t,e)=>C7(t,e,Gq,Hq));function yR(){const t=E.useRef(!1);return vf(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Kq(){const t=yR(),[e,n]=E.useState(0),r=E.useCallback(()=>{t.current&&n(e+1)},[e]);return[E.useCallback(()=>ve.postRender(r),[r]),e]}class Qq extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Xq({children:t,isPresent:e}){const n=E.useId(),r=E.useRef(null),i=E.useRef({width:0,height:0,top:0,left:0});return E.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),E.createElement(Qq,{isPresent:e,childRef:r,sizeRef:i},E.cloneElement(t,{ref:r}))}const $p=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=q0(Yq),l=E.useId(),u=E.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c=>{a.set(c,!0);for(const h of a.values())if(!h)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),s?void 0:[n]);return E.useMemo(()=>{a.forEach((c,h)=>a.set(h,!1))},[n]),E.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=E.createElement(Xq,{isPresent:n},t)),E.createElement(gf.Provider,{value:u},t)};function Yq(){return new Map}function Jq(t){return E.useEffect(()=>()=>t(),[])}const Xi=t=>t.key||"";function Zq(t,e){t.forEach(n=>{const r=Xi(n);e.set(r,n)})}function eG(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const Cu=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=E.useContext(L0).forceRender||Kq()[0],l=yR(),u=eG(t);let c=u;const h=E.useRef(new Map).current,f=E.useRef(c),p=E.useRef(new Map).current,g=E.useRef(!0);if(vf(()=>{g.current=!1,Zq(u,p),f.current=c}),Jq(()=>{g.current=!0,p.clear(),h.clear()}),g.current)return E.createElement(E.Fragment,null,c.map(m=>E.createElement($p,{key:Xi(m),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},m)));c=[...c];const _=f.current.map(Xi),w=u.map(Xi),v=_.length;for(let m=0;m<v;m++){const y=_[m];w.indexOf(y)===-1&&!h.has(y)&&h.set(y,void 0)}return o==="wait"&&h.size&&(c=[]),h.forEach((m,y)=>{if(w.indexOf(y)!==-1)return;const T=p.get(y);if(!T)return;const x=_.indexOf(y);let S=m;if(!S){const I=()=>{h.delete(y);const A=Array.from(p.keys()).filter(C=>!w.includes(C));if(A.forEach(C=>p.delete(C)),f.current=u.filter(C=>{const k=Xi(C);return k===y||A.includes(k)}),!h.size){if(l.current===!1)return;a(),r&&r()}};S=E.createElement($p,{key:Xi(T),isPresent:!1,onExitComplete:I,custom:e,presenceAffectsLayout:s,mode:o},T),h.set(y,S)}c.splice(x,0,S)}),c=c.map(m=>{const y=m.key;return h.has(y)?m:E.createElement($p,{key:Xi(m),isPresent:!0,presenceAffectsLayout:s,mode:o},m)}),E.createElement(E.Fragment,null,h.size?c:c.map(m=>E.cloneElement(m)))};function tG(t){t.values.forEach(e=>e.stop())}function nG(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,r){const i=[];return t.forEach(s=>{i.push(Y2(s,n,{transitionOverride:r}))}),Promise.all(i)},set(n){return t.forEach(r=>{nH(r,n)})},stop(){t.forEach(n=>{tG(n)})},mount(){return()=>{e.stop()}}};return e}function rG(){const t=q0(nG);return vf(t.mount,[]),t}const dc=rG;function vR(t){const[e,n]=E.useState(!0);function r(){n(!1)}return e?d.jsx(Cu,{children:d.jsx(tn.div,{className:"modal-container",initial:{opacity:0,x:"-5%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"5%"},transition:{duration:.5,delay:.1,ease:[0,.71,.2,1.01]},children:d.jsxs("div",{className:"modal",children:[d.jsx("div",{className:"close-button",children:d.jsx("i",{onClick:r,className:"bx bx-x bx-md"})}),d.jsxs("div",{className:"title",children:[t.success?d.jsx("i",{className:"bx bxs-check-circle bx-lg"}):d.jsx("i",{className:"bx bxs-error-circle bx-lg"}),d.jsx("h2",{children:t.title})]}),d.jsx("div",{className:"content",children:d.jsx("p",{children:t.content})})]})})}):null}function iG(){let t="";const e=Jl(),[n,r]=E.useState(!1),[i,s]=E.useState(null),[o,a]=E.useState({userId:t,animalType:"cat",gender:"male",ageFormat:"days",age:"",petDescription:"",img1:"",img2:"",img3:""}),[l,u]=E.useState({img1:"",img2:"",img3:""}),c=Wo({animalType:Ae().required("Please select one."),gender:Ae().required("Please select a gender"),ageFormat:Ae().required("Please select one."),age:zb().min(1,"Please enter a valid age").max(30,"Please enter a valid age").required("Age is required"),img1:Ae().required("Please upload 3 images"),img2:Ae().required("Please upload 3 images"),img3:Ae().required("Please upload 3 images"),petDescription:Ae().min(20,"Description must be at least 20 characters").max(200,"Description must be at most 200 characters").required("Description is required")});async function h(_){try{if(i)return i;console.log(_);const w=await gg(Fo(Is,"posts"),{userId:t,animalType:_.animalType,gender:_.gender,ageFormat:_.ageFormat,age:_.age,petDescription:_.petDescription,img1:"",img2:"",img3:""});return console.log("Post added to Firestore with ID:",w.id),s(w.id),console.log("postId in addPost: ",i),w.id}catch(w){throw console.error("Error adding post to Firestore:",w),w}}async function f(_,w,v){const m=_.target.files[0];if(m)try{const y=await p(m),T=URL.createObjectURL(y);u(x=>({...x,[w]:T})),a(x=>({...x,[w]:y}))}catch(y){console.error("Error compressing or uploading image:",y)}}async function p(_){return new Promise(w=>{if(!(_ instanceof File||_ instanceof Blob)){console.error("Invalid file type for compression:",_),w(_);return}new $z(_,{quality:.8,resize:"cover",width:512,height:512,success(v){w(v)},error(v){console.error("Error compressing image:",v),w(_)}})})}async function g(_){try{rt.currentUser?t=rt.currentUser.uid:t="";const w=await h(_);s(w);const v={};for(let m=1;m<=3;m++){const y=`img${m}`,T=o[y];if(T){const x=c3(y3,`posts/${w}/${y}`);await l3(x,T);const S=await u3(x);console.log("Download URL: ",S),v[y]=S,a(I=>({...I,[y]:S})),console.log("petData url: ",o.img1)}}await NF(UP(Is,"posts",w),{img1:v.img1,img2:v.img2,img3:v.img3}),console.log("img1 :",o.img1),console.log("Form submitted successfully!"),r(!0),setTimeout(()=>e("/"),3e3)}catch(w){console.error("Error submitting form:",w)}}return d.jsx("main",{className:"add-page",children:d.jsx(Cu,{mode:"wait",children:n?d.jsx(vR,{title:"Good Job!!",content:"Your pet pal has been added successfully!",success:!0}):d.jsx(Bl,{initialValues:o,validationSchema:c,onSubmit:g,children:_=>d.jsxs(tn.div,{layout:!0,className:"add-form-container",initial:{opacity:0,x:"-5%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"5%"},transition:{duration:.5,delay:.1,ease:[0,.71,.2,1.01]},children:[d.jsx("h2",{className:"add-form-title",children:"Add a pet"}),d.jsxs(zo,{className:"add-form",children:[d.jsxs("div",{className:"add-animal-toggle",children:[d.jsxs("div",{className:"add-animal-type",children:[d.jsx("label",{htmlFor:"animalType",children:"What kind of pet do you have? "}),d.jsxs("div",{className:"add-radio-inputs",children:[d.jsxs("label",{className:"add-radio",children:[d.jsx(ge,{type:"radio",name:"animalType",value:"cat"}),d.jsx("span",{className:"add-name",children:"Cat"})]}),d.jsxs("label",{className:"add-radio",children:[d.jsx(ge,{type:"radio",name:"animalType",value:"dog"}),d.jsx("span",{className:"add-name",children:"Dog"})]})]})]}),d.jsx("div",{className:"add-warning",children:d.jsx(be,{name:"animalType"})})]}),d.jsxs("div",{className:"add-gender-toggle",children:[d.jsxs("div",{className:"add-gender",children:[d.jsx("label",{htmlFor:"gender",children:"Is your pet a? "}),d.jsxs("div",{className:"add-radio-inputs",children:[d.jsxs("label",{className:"add-radio",children:[d.jsx(ge,{type:"radio",name:"gender",value:"male"}),d.jsx("span",{className:"add-name",children:"Handsome boy"})]}),d.jsxs("label",{className:"add-radio",children:[d.jsx(ge,{type:"radio",name:"gender",value:"female"}),d.jsx("span",{className:"add-name",children:"Pretty girl"})]})]})]}),d.jsx("div",{className:"add-warning",children:d.jsx(be,{name:"gender"})})]}),d.jsxs("div",{className:"add-age-selector",children:[d.jsxs("div",{className:"add-select-age",children:[d.jsx("label",{htmlFor:"age",children:"How old is your pet? "}),d.jsxs("div",{className:"add-age-format-selector",children:[d.jsx(ge,{type:"number",name:"age",className:"add-age-input"}),d.jsxs("div",{className:"add-radio-inputs",children:[d.jsxs("label",{className:"add-radio",children:[d.jsx(ge,{type:"radio",name:"ageFormat",value:"days"}),d.jsx("span",{className:"add-name",children:"Days"})]}),d.jsxs("label",{className:"add-radio",children:[d.jsx(ge,{type:"radio",name:"ageFormat",value:"months"}),d.jsx("span",{className:"add-name",children:"Months"})]}),d.jsxs("label",{className:"add-radio",children:[d.jsx(ge,{type:"radio",name:"ageFormat",value:"years"}),d.jsx("span",{className:"add-name",children:"Years"})]})]})]})]}),d.jsx("div",{className:"add-warning",children:d.jsx(be,{name:"age"})})]}),d.jsxs("div",{className:"add-image-selector",children:[d.jsxs("div",{className:"add-select-images",children:[d.jsx("p",{className:"add-image-selector-label",children:"Select up to 3 images"}),d.jsxs("div",{className:"add-image-containers",children:[d.jsx("label",{htmlFor:"img1",style:{backgroundImage:l.img1?`url(${l.img1})`:"none",backgroundColor:l.img1?"transparent":"white",borderRadius:"12px",backgroundSize:"cover",boxShadow:l.img1?"inset 0 0 0 100vmax rgba(0, 0, 0, 0.5)":"none"},children:d.jsx("div",{className:"add-image-container",children:d.jsx("i",{className:"bx bx-image-add bx-md upload-icon",style:{color:l.img1?"white":"black"}})})}),d.jsx("label",{htmlFor:"img2",style:{backgroundImage:l.img2?`url(${l.img2})`:"none",backgroundColor:l.img2?"transparent":"white",borderRadius:"12px",backgroundSize:"cover",boxShadow:l.img2?"inset 0 0 0 100vmax rgba(0, 0, 0, 0.5)":"none"},children:d.jsx("div",{className:"add-image-container",children:d.jsx("i",{className:"bx bx-image-add bx-md upload-icon",style:{color:l.img2?"white":"black"}})})}),d.jsx("label",{htmlFor:"img3",style:{backgroundImage:l.img3?`url(${l.img3})`:"none",backgroundColor:l.img3?"transparent":"white",borderRadius:"12px",backgroundSize:"cover",boxShadow:l.img3?"inset 0 0 0 100vmax rgba(0, 0, 0, 0.5)":"none"},children:d.jsx("div",{className:"add-image-container",children:d.jsx("i",{className:"bx bx-image-add bx-md upload-icon",style:{color:l.img3?"white":"black"}})})})]}),d.jsx("input",{type:"file",name:"img1",id:"img1",accept:"image/*",className:"add-image-upload",onChange:w=>f(w,"img1"),required:!0}),d.jsx("input",{type:"file",name:"img2",id:"img2",accept:"image/*",className:"add-image-upload",onChange:w=>f(w,"img2"),required:!0}),d.jsx("input",{type:"file",name:"img3",id:"img3",accept:"image/*",className:"add-image-upload",onChange:w=>f(w,"img3"),required:!0})]}),d.jsxs("div",{className:"add-warning",children:[d.jsx(be,{name:"img1"}),d.jsx(be,{name:"img2"}),d.jsx(be,{name:"img3"})]})]}),d.jsxs("div",{className:"add-description-section",children:[d.jsxs("div",{className:"add-write-description",children:[d.jsx("label",{htmlFor:"pet-description",className:"add-description",children:"A brief description about your pet:"}),d.jsx(ge,{as:"textarea",rows:5,name:"petDescription",className:"add-pet-description"})]}),d.jsx("div",{className:"add-warning",style:{marginTop:"0.5rem"},children:d.jsx(be,{name:"petDescription"})})]}),d.jsx("button",{className:"add-page-submit",type:"submit",children:"Submit"})]})]})})})})}var sG={exports:{}};(function(t,e){(function(n,r,i,s,o){if("customElements"in i)o();else{if(i.AWAITING_WEB_COMPONENTS_POLYFILL)return void i.AWAITING_WEB_COMPONENTS_POLYFILL.then(o);var a=i.AWAITING_WEB_COMPONENTS_POLYFILL=c();a.then(o);var l=i.WEB_COMPONENTS_POLYFILL||"//cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/2.0.2/webcomponents-bundle.js",u=i.ES6_CORE_POLYFILL||"//cdnjs.cloudflare.com/ajax/libs/core-js/2.5.3/core.min.js";"Promise"in i?h(l).then(function(){a.isDone=!0,a.exec()}):h(u).then(function(){h(l).then(function(){a.isDone=!0,a.exec()})})}function c(){var f=[];return f.isDone=!1,f.exec=function(){f.splice(0).forEach(function(p){p()})},f.then=function(p){return f.isDone?p():f.push(p),f},f}function h(f){var p=c(),g=s.createElement("script");return g.type="text/javascript",g.readyState?g.onreadystatechange=function(){g.readyState!="loaded"&&g.readyState!="complete"||(g.onreadystatechange=null,p.isDone=!0,p.exec())}:g.onload=function(){p.isDone=!0,p.exec()},g.src=f,s.getElementsByTagName("head")[0].appendChild(g),g.then=p.then,g}})(0,0,window,document,function(){var n;n=function(){return function(r){var i={};function s(o){if(i[o])return i[o].exports;var a=i[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=r,s.c=i,s.d=function(o,a,l){s.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:l})},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,a){if(1&a&&(o=s(o)),8&a||4&a&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(s.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&a&&typeof o!="string")for(var u in o)s.d(l,u,(function(c){return o[c]}).bind(null,u));return l},s.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(a,"a",a),a},s.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},s.p="",s(s.s=5)}([function(r,i){r.exports=function(s){var o=[];return o.toString=function(){return this.map(function(a){var l=function(u,c){var h,f=u[1]||"",p=u[3];if(!p)return f;if(c&&typeof btoa=="function"){var g=(h=p,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(h))))+" */"),_=p.sources.map(function(w){return"/*# sourceURL="+p.sourceRoot+w+" */"});return[f].concat(_).concat([g]).join(`
`)}return[f].join(`
`)}(a,s);return a[2]?"@media "+a[2]+"{"+l+"}":l}).join("")},o.i=function(a,l){typeof a=="string"&&(a=[[null,a,""]]);for(var u={},c=0;c<this.length;c++){var h=this[c][0];typeof h=="number"&&(u[h]=!0)}for(c=0;c<a.length;c++){var f=a[c];typeof f[0]=="number"&&u[f[0]]||(l&&!f[2]?f[2]=l:l&&(f[2]="("+f[2]+") and ("+l+")"),o.push(f))}},o}},function(r,i,s){var o=s(3);r.exports=typeof o=="string"?o:o.toString()},function(r,i,s){var o=s(4);r.exports=typeof o=="string"?o:o.toString()},function(r,i,s){(r.exports=s(0)(!1)).push([r.i,"@-webkit-keyframes spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@-webkit-keyframes burst{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}90%{-webkit-transform:scale(1.5);transform:scale(1.5);opacity:0}}@keyframes burst{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}90%{-webkit-transform:scale(1.5);transform:scale(1.5);opacity:0}}@-webkit-keyframes flashing{0%{opacity:1}45%{opacity:0}90%{opacity:1}}@keyframes flashing{0%{opacity:1}45%{opacity:0}90%{opacity:1}}@-webkit-keyframes fade-left{0%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}75%{-webkit-transform:translateX(-20px);transform:translateX(-20px);opacity:0}}@keyframes fade-left{0%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}75%{-webkit-transform:translateX(-20px);transform:translateX(-20px);opacity:0}}@-webkit-keyframes fade-right{0%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}75%{-webkit-transform:translateX(20px);transform:translateX(20px);opacity:0}}@keyframes fade-right{0%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}75%{-webkit-transform:translateX(20px);transform:translateX(20px);opacity:0}}@-webkit-keyframes fade-up{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}75%{-webkit-transform:translateY(-20px);transform:translateY(-20px);opacity:0}}@keyframes fade-up{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}75%{-webkit-transform:translateY(-20px);transform:translateY(-20px);opacity:0}}@-webkit-keyframes fade-down{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}75%{-webkit-transform:translateY(20px);transform:translateY(20px);opacity:0}}@keyframes fade-down{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}75%{-webkit-transform:translateY(20px);transform:translateY(20px);opacity:0}}@-webkit-keyframes tada{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}10%,20%{-webkit-transform:scale3d(.95,.95,.95) rotate(-10deg);transform:scale3d(.95,.95,.95) rotate(-10deg)}30%,50%,70%,90%{-webkit-transform:scaleX(1) rotate(10deg);transform:scaleX(1) rotate(10deg)}40%,60%,80%{-webkit-transform:scaleX(1) rotate(-10deg);transform:scaleX(1) rotate(-10deg)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes tada{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}10%,20%{-webkit-transform:scale3d(.95,.95,.95) rotate(-10deg);transform:scale3d(.95,.95,.95) rotate(-10deg)}30%,50%,70%,90%{-webkit-transform:scaleX(1) rotate(10deg);transform:scaleX(1) rotate(10deg)}40%,60%,80%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}.bx-spin,.bx-spin-hover:hover{-webkit-animation:spin 2s linear infinite;animation:spin 2s linear infinite}.bx-tada,.bx-tada-hover:hover{-webkit-animation:tada 1.5s ease infinite;animation:tada 1.5s ease infinite}.bx-flashing,.bx-flashing-hover:hover{-webkit-animation:flashing 1.5s infinite linear;animation:flashing 1.5s infinite linear}.bx-burst,.bx-burst-hover:hover{-webkit-animation:burst 1.5s infinite linear;animation:burst 1.5s infinite linear}.bx-fade-up,.bx-fade-up-hover:hover{-webkit-animation:fade-up 1.5s infinite linear;animation:fade-up 1.5s infinite linear}.bx-fade-down,.bx-fade-down-hover:hover{-webkit-animation:fade-down 1.5s infinite linear;animation:fade-down 1.5s infinite linear}.bx-fade-left,.bx-fade-left-hover:hover{-webkit-animation:fade-left 1.5s infinite linear;animation:fade-left 1.5s infinite linear}.bx-fade-right,.bx-fade-right-hover:hover{-webkit-animation:fade-right 1.5s infinite linear;animation:fade-right 1.5s infinite linear}",""])},function(r,i,s){(r.exports=s(0)(!1)).push([r.i,'.bx-rotate-90{transform:rotate(90deg);-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)"}.bx-rotate-180{transform:rotate(180deg);-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)"}.bx-rotate-270{transform:rotate(270deg);-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)"}.bx-flip-horizontal{transform:scaleX(-1);-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)"}.bx-flip-vertical{transform:scaleY(-1);-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)"}',""])},function(r,i,s){s.r(i),s.d(i,"BoxIconElement",function(){return x});var o,a,l,u,c=s(1),h=s.n(c),f=s(2),p=s.n(f),g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},_=function(){function S(I,A){for(var C=0;C<A.length;C++){var k=A[C];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}return function(I,A,C){return A&&S(I.prototype,A),C&&S(I,C),I}}(),w=(a=(o=Object).getPrototypeOf||function(S){return S.__proto__},l=o.setPrototypeOf||function(S,I){return S.__proto__=I,S},u=(typeof Reflect>"u"?"undefined":g(Reflect))==="object"?Reflect.construct:function(S,I,A){var C,k=[null];return k.push.apply(k,I),C=S.bind.apply(S,k),l(new C,A.prototype)},function(S){var I=a(S);return l(S,l(function(){return u(I,arguments,a(this).constructor)},I))}),v=window,m={},y=document.createElement("template"),T=function(){return!!v.ShadyCSS};y.innerHTML=`
<style>
:host {
  display: inline-block;
  font-size: initial;
  box-sizing: border-box;
  width: 24px;
  height: 24px;
}
:host([size=xs]) {
    width: 0.8rem;
    height: 0.8rem;
}
:host([size=sm]) {
    width: 1.55rem;
    height: 1.55rem;
}
:host([size=md]) {
    width: 2.25rem;
    height: 2.25rem;
}
:host([size=lg]) {
    width: 3.0rem;
    height: 3.0rem;
}

:host([size]:not([size=""]):not([size=xs]):not([size=sm]):not([size=md]):not([size=lg])) {
    width: auto;
    height: auto;
}
:host([pull=left]) #icon {
    float: left;
    margin-right: .3em!important;
}
:host([pull=right]) #icon {
    float: right;
    margin-left: .3em!important;
}
:host([border=square]) #icon {
    padding: .25em;
    border: .07em solid rgba(0,0,0,.1);
    border-radius: .25em;
}
:host([border=circle]) #icon {
    padding: .25em;
    border: .07em solid rgba(0,0,0,.1);
    border-radius: 50%;
}
#icon,
svg {
  width: 100%;
  height: 100%;
}
#icon {
    box-sizing: border-box;
} 
`+h.a+`
`+p.a+`
</style>
<div id="icon"></div>`;var x=w(function(S){function I(){(function(C,k){if(!(C instanceof k))throw new TypeError("Cannot call a class as a function")})(this,I);var A=function(C,k){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||typeof k!="object"&&typeof k!="function"?C:k}(this,(I.__proto__||Object.getPrototypeOf(I)).call(this));return A.$ui=A.attachShadow({mode:"open"}),A.$ui.appendChild(A.ownerDocument.importNode(y.content,!0)),T()&&v.ShadyCSS.styleElement(A),A._state={$iconHolder:A.$ui.getElementById("icon"),type:A.getAttribute("type")},A}return function(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(A,C):A.__proto__=C)}(I,HTMLElement),_(I,null,[{key:"getIconSvg",value:function(A,C){var k=this.cdnUrl+"/regular/bx-"+A+".svg";return C==="solid"?k=this.cdnUrl+"/solid/bxs-"+A+".svg":C==="logo"&&(k=this.cdnUrl+"/logos/bxl-"+A+".svg"),k&&m[k]||(m[k]=new Promise(function($,se){var Y=new XMLHttpRequest;Y.addEventListener("load",function(){this.status<200||this.status>=300?se(new Error(this.status+" "+this.responseText)):$(this.responseText)}),Y.onerror=se,Y.onabort=se,Y.open("GET",k),Y.send()})),m[k]}},{key:"define",value:function(A){A=A||this.tagName,T()&&v.ShadyCSS.prepareTemplate(y,A),customElements.define(A,this)}},{key:"cdnUrl",get:function(){return"//unpkg.com/boxicons@2.1.4/svg"}},{key:"tagName",get:function(){return"box-icon"}},{key:"observedAttributes",get:function(){return["type","name","color","size","rotate","flip","animation","border","pull"]}}]),_(I,[{key:"attributeChangedCallback",value:function(A,C,k){var $=this._state.$iconHolder;switch(A){case"type":(function(se,Y,K){var F=se._state;F.$iconHolder.textContent="",F.type&&(F.type=null),F.type=!K||K!=="solid"&&K!=="logo"?"regular":K,F.currentName!==void 0&&se.constructor.getIconSvg(F.currentName,F.type).then(function(we){F.type===K&&(F.$iconHolder.innerHTML=we)}).catch(function(we){console.error("Failed to load icon: "+F.currentName+`
`+we)})})(this,0,k);break;case"name":(function(se,Y,K){var F=se._state;F.currentName=K,F.$iconHolder.textContent="",K&&F.type!==void 0&&se.constructor.getIconSvg(K,F.type).then(function(we){F.currentName===K&&(F.$iconHolder.innerHTML=we)}).catch(function(we){console.error("Failed to load icon: "+K+`
`+we)})})(this,0,k);break;case"color":$.style.fill=k||"";break;case"size":(function(se,Y,K){var F=se._state;F.size&&(F.$iconHolder.style.width=F.$iconHolder.style.height="",F.size=F.sizeType=null),K&&!/^(xs|sm|md|lg)$/.test(F.size)&&(F.size=K.trim(),F.$iconHolder.style.width=F.$iconHolder.style.height=F.size)})(this,0,k);break;case"rotate":C&&$.classList.remove("bx-rotate-"+C),k&&$.classList.add("bx-rotate-"+k);break;case"flip":C&&$.classList.remove("bx-flip-"+C),k&&$.classList.add("bx-flip-"+k);break;case"animation":C&&$.classList.remove("bx-"+C),k&&$.classList.add("bx-"+k)}}},{key:"connectedCallback",value:function(){T()&&v.ShadyCSS.styleElement(this)}}]),I}());i.default=x,x.define()}])},t.exports=n()})})(sG);const oG="/PetPals/assets/Dog paw-rafiki-1vQJPNsZ.svg",aG="/PetPals/assets/Cat and dog-amico-bMIo1Bhe.svg",lG="/PetPals/assets/Veterinary-amico-z2O5Hlac.svg",uG="/PetPals/assets/A day at the park-amico-CGSB3wBX.svg",cG="/PetPals/assets/dog-welfare-code-of-practice-zCiv5sZk.pdf",hG="/PetPals/assets/cat-welfare-code-of-practice-IYMxZVEx.pdf",dG="/PetPals/assets/cat family-pana-GFjd_a3t.svg",fG="/PetPals/assets/Pregnancy test-amico-nh68k3hN.svg",pG="/PetPals/assets/Fish bowl-amico-Hcfg3csM.svg",mG="/PetPals/assets/Playful cat-amico-U0gJS6Ys.svg",gG="/PetPals/assets/cat family-rafiki-r32HRO0j.svg",yG="/PetPals/assets/personal goals checklist-rafiki-KmaYr2xq.svg";function vG(){const[t,e]=E.useState(""),[n,r]=E.useState(""),[i,s]=E.useState("No"),[o,a]=E.useState("");E.useState("");const[l,u]=E.useState("dog"),c=()=>d.jsxs("p",{children:["Here, you'll find out how to ",d.jsx("br",{}),"prepare for your new dog. Find",d.jsx("br",{})," out how to provide the right diet,",d.jsx("br",{})," exercise, companionship, and",d.jsx("br",{})," veterinary care for your dog."]}),h=()=>d.jsxs("p",{children:["Here, you'll find out how to ",d.jsx("br",{}),"prepare for your new cat. Find",d.jsx("br",{})," out how to provide the right diet,",d.jsx("br",{})," exercise, companionship, and",d.jsx("br",{})," veterinary care for your cat."]}),f=()=>d.jsx("p",{children:"dededededed"}),p=()=>d.jsxs("div",{className:"content-card-2",children:[d.jsx("h2",{children:"How to prepare for your new dog:"}),d.jsx("h3",{children:"5 things you must do"}),d.jsxs("p",{children:["Adopting a dog is exciting, but it can often mean a big life change for you and",d.jsx("br",{})," them. To make things easier and give your new dog the best chance of settling in, it's really important to prepare for their arrival."]}),d.jsx("br",{}),d.jsxs("p",{children:["As well as having a moral duty to look after your new dog properly, you have a legal responsibility. Under the",d.jsx("br",{})," Animal Welfare Act, you must give your dog:"]}),d.jsxs("ul",{style:{textAlign:"left"},children:[d.jsx("li",{children:"A suitable place to live"}),d.jsx("li",{children:"A healthy diet and access to clean water"}),d.jsx("li",{children:"The ability to behave normally"}),d.jsx("li",{children:"Appropriate company"}),d.jsx("li",{children:"Protection from pain, injury, suffering, and disease"})]}),d.jsx("br",{}),d.jsxs("p",{children:["So, to help you get ready for the big day and understand your legal responsibilities as a dog owner, we have",d.jsx("br",{})," created this to do list."]}),d.jsxs("div",{className:"dog-shelter-div",children:[d.jsxs("div",{className:"dog-shelter-text",children:[d.jsx("h2",{children:"1. Invest in a good bed"}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Your dog needs a comfortable, clean place to sleep and relax. Some dogs like to curl up and others like to stretch out. Ask the person you are adopting from how the dog sleeps, or buy a bed that accommodates both sleeping styles."}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Choose a bed that is comfortable, the right size, easy to clean and made from dog-friendly materials. It should be big enough for them to do their turning ritual."}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Put the bed in a clean, dry and draught-free spot. Over time, you will learn whether your dog likes to be at the centre of everything or if they prefer somewhere quieter."}),d.jsx("br",{}),d.jsxs("p",{style:{textAlign:"left"},children:["If your dog is used to being crated, these same rules apply. ",d.jsx("b",{children:"Do not"})," crate your dog if they are not used it. Speak to your vet or behavioural specialist first."]})]}),d.jsx("div",{className:"dog-shelter-img",children:d.jsx("div",{className:"content-image",children:d.jsx("img",{src:oG,style:{width:"100%"},alt:"Adoption Image"})})})]}),d.jsxs("div",{className:"dog-shelter-div",children:[d.jsx("div",{className:"dog-shelter-img",children:d.jsx("div",{className:"content-image",children:d.jsx("img",{src:aG,style:{width:"100%"},alt:"Adoption Image"})})}),d.jsxs("div",{className:"dog-shelter-text",children:[d.jsx("h2",{children:"2. Stock up on the right food"}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Dogs must have healthy, balanced diets and access to fresh water at all times."}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"The person you are adopting from will tell you what they are feeding the dog. But still, ask your vet or a nutritionist for advice as their current diet might not be appropriate."}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Even if you do end up switching your dog food, you will have to do this gradually. So stock up on whatever food they are used to until you have spoken to your vet."}),d.jsx("br",{})]})]}),d.jsxs("div",{className:"dog-shelter-div",children:[d.jsxs("div",{className:"dog-shelter-text",children:[d.jsx("h2",{children:"3. Buy toys and games"}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Dogs must be allowed to behave like dogs and do things that come naturally to them, like walking, playing and chasing within reason!"}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Getting some toys and games for when they arrive will help to keep them happy, active and mentally stimulated. It is also a great way for you to bond and get to know each other. They will still need their regular walks, though!"})]}),d.jsx("div",{className:"dog-shelter-img",children:d.jsx("div",{className:"content-image",children:d.jsx("img",{src:uG,style:{width:"100%"},alt:"Adoption Image"})})})]}),d.jsxs("div",{className:"dog-shelter-div",children:[d.jsx("div",{className:"dog-shelter-img",children:d.jsx("div",{className:"content-image",children:d.jsx("img",{src:lG,style:{width:"100%"},alt:"Adoption Image"})})}),d.jsxs("div",{className:"dog-shelter-text",children:[d.jsx("h2",{children:"4. Register with a vet"}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Registering with a vet is the first and most important step to protecting your dog from pain, injury, suffering and disease."}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Further information providing details of how to care for your dog may be found here:"}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:d.jsx("a",{href:cG,target:"_blank",children:d.jsx("h3",{children:"Dog Welfare Code of Practice"})})}),d.jsx("br",{})]})]})]}),g=()=>d.jsxs("div",{className:"content-card-2",children:[d.jsx("h2",{children:"How to prepare for your new cat:"}),d.jsx("h3",{children:"5 things you must do"}),d.jsxs("p",{children:["Adopting a cat is exciting, but it can often mean a big life change for you and",d.jsx("br",{})," them. To make things easier and give your new cat the best chance of settling in, it's really important to prepare for their arrival."]}),d.jsx("br",{}),d.jsxs("p",{children:["As well as having a moral duty to look after your new cat properly, you have a legal responsibility. Under the",d.jsx("br",{})," Animal Welfare Act, you must give your cat:"]}),d.jsxs("ul",{style:{textAlign:"left"},children:[d.jsx("li",{children:"A suitable place to live"}),d.jsx("li",{children:"A healthy diet and access to clean water"}),d.jsx("li",{children:"The ability to behave normally"}),d.jsx("li",{children:"Appropriate company"}),d.jsx("li",{children:"Protection from pain, injury, suffering, and disease"})]}),d.jsx("br",{}),d.jsxs("p",{children:["So, to help you get ready for the big day and understand your legal responsibilities as a cat owner, we have",d.jsx("br",{})," created this to do list."]}),d.jsxs("div",{className:"dog-shelter-div",children:[d.jsxs("div",{className:"dog-shelter-text",children:[d.jsx("h2",{children:"1. Create safe spaces"}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"To feel safe and secure, cats need their own bed, hiding places and somewhere high up to view their surroundings."}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Buy a comfortable and warm cat bed like an igloo or hammock, and put it somewhere quiet. You might want to buy more than one bed and have them in different rooms."}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"You can make beds and hiding places, too. Get an appropriate-sized cardboard box, turn it on its side and put a snuggly blanket inside. Again, place this in a quiet spot."}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Putting cosy blankets on top of wardrobes, shelves and windowsills is a great way of giving your cat somewhere high up to hide.."})]}),d.jsx("div",{className:"dog-shelter-img",children:d.jsx("div",{className:"content-image",children:d.jsx("img",{src:dG,style:{width:"100%"},alt:"Adoption Image"})})})]}),d.jsxs("div",{className:"dog-shelter-div",children:[d.jsx("div",{className:"dog-shelter-img",children:d.jsx("div",{className:"content-image",children:d.jsx("img",{src:fG,style:{width:"100%"},alt:"Adoption Image"})})}),d.jsxs("div",{className:"dog-shelter-text",children:[d.jsx("h2",{children:"2. Set up a litter tray or outside toilet"}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Cats like to go to the toilet where they feel safe, and in a place that allows them to bury their waste afterwards."}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"If your cat already uses a litter tray or you do not have a garden, you will need to set up a litter tray before they arrive."}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"If your cat prefers to toilet outside and you have got a garden, or you want to train them to toilet outside, pick an area that is close to the house yet private. Once they arrive, you can encourage them to toilet there."}),d.jsx("br",{})]})]}),d.jsxs("div",{className:"dog-shelter-div",children:[d.jsxs("div",{className:"dog-shelter-text",children:[d.jsx("h2",{children:"3. Stock up on the right food"}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Cats must have healthy, balanced diets and access to fresh water at all times. At first, it is best to continue with the food the cat has been used to. Ask the person you are adopting from what the cat eats, then buy plenty of it."}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Even if you want to change their diet, this should be done gradually and under the guidance of your vet."}),d.jsx("p",{style:{textAlign:"left"},children:"Lots of cats like to eat a special type of grass called Cocksfoot because it helps them clear furballs. Have some in the house to stop them chewing other houseplants!"}),d.jsx("br",{})]}),d.jsx("div",{className:"dog-shelter-img",children:d.jsx("div",{className:"content-image",children:d.jsx("img",{src:pG,style:{width:"100%"},alt:"Adoption Image"})})})]}),d.jsxs("div",{className:"dog-shelter-div",children:[d.jsx("div",{className:"dog-shelter-img",children:d.jsx("div",{className:"content-image",children:d.jsx("img",{src:mG,style:{width:"100%"},alt:"Adoption Image"})})}),d.jsxs("div",{className:"dog-shelter-text",children:[d.jsx("h2",{children:"4. Get a scratch post"}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Scratching is a big part of being a cat. Encourage them to carry out this natural behaviour by investing in a proper scratch post. This will discourage them from stretching and scratching on your furniture, too."}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Put the post near their bed so they can stretch and scratch when they wake up something that most cats tend to do."}),d.jsx("br",{})]})]}),d.jsxs("div",{className:"dog-shelter-div",children:[d.jsxs("div",{className:"dog-shelter-text",children:[d.jsx("h2",{children:"5. Plan for holidays"}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Even though cats are relatively independent pets, they cannot be left alone for long periods of time. When you go away, you will need to find a cat-sitter or put them in a cattery. Research your options early so you do not end up in a difficult situation."})]}),d.jsx("div",{className:"dog-shelter-img",children:d.jsx("div",{className:"content-image",children:d.jsx("img",{src:yG,style:{width:"100%"},alt:"Adoption Image"})})})]}),d.jsxs("div",{className:"dog-shelter-div",children:[d.jsx("div",{className:"dog-shelter-img",children:d.jsx("div",{className:"content-image",children:d.jsx("img",{src:gG,style:{width:"100%"},alt:"Adoption Image"})})}),d.jsxs("div",{className:"dog-shelter-text",children:[d.jsx("h2",{children:"6. Register with a vet"}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"As Cat Welfare Code of Practise explains, you should get as much information as possible about your cats health from their previous owner. Ask for: details of their old vet, vaccination records, information about any health conditions and medications, and whether or not they have been microchipped."}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"More information about cat welfare may be found in the"}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:d.jsx("a",{href:hG,target:"_blank",children:d.jsx("h3",{children:"Cat Welfare Code of Practice"})})}),d.jsx("br",{})]})]})]}),_=()=>{s("Hii"),e(""),r(""),a(f()),u(p())},w=()=>{s("Hii"),e(""),r(""),a(f()),u(g())},[v,m]=E.useState(!1);return E.useEffect(()=>{e(c()),r(h())},[]),d.jsxs("main",{children:[d.jsx("div",{className:"blog-container",children:d.jsxs("div",{className:"content-text",children:[d.jsxs("h1",{className:"content-heading",children:["Pet Welfare",d.jsx("br",{})," Guides"]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("button",{className:`form-container ${v?"mouse-over":""}`,onClick:_,onMouseOver:()=>m(!0),onMouseOut:()=>m(!1),children:[d.jsx("h3",{children:"Dog Welfare"}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("div",{className:"dog-icon-container",children:d.jsx("box-icon",{type:"solid",name:"dog",style:{width:"60px",height:"60px"}})}),d.jsx("p",{children:t})]}),d.jsxs("button",{className:`form-container ${v?"mouse-over":""}`,onClick:()=>w(),onMouseOver:()=>m(!0),onMouseOut:()=>m(!1),children:[d.jsx("div",{className:"dog-icon-container",children:d.jsx("box-icon",{type:"solid",name:"cat",style:{width:"60px",height:"60px"}})}),d.jsx("h3",{children:"Cat Welfare"}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("p",{children:n})]})]})]})}),o===""?null:d.jsx("div",{className:"content-card-1",children:d.jsx("p",{children:l})})]})}function _G({post:t}){return d.jsxs("div",{className:"post-container",children:[d.jsx("img",{src:t.img3,alt:"",className:"post-img"}),d.jsxs("div",{className:"post-text",children:[d.jsx("p",{children:t.animalType}),d.jsx("p",{children:t.gender}),d.jsx("p",{children:t.age+" "+t.ageFormat})]}),d.jsx("button",{children:"More details"})]})}function qg(t,e){return qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qg(t,e)}function wG(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,qg(t,e)}function Up(t){return t&&t.stopPropagation&&t.stopPropagation(),t&&t.preventDefault&&t.preventDefault(),!1}function Bp(t){return t==null?[]:Array.isArray(t)?t.slice():[t]}function fc(t){return t!==null&&t.length===1?t[0]:t.slice()}function pc(t){Object.keys(t).forEach(e=>{typeof document<"u"&&document.addEventListener(e,t[e],!1)})}function zi(t,e){return Gg(function(n,r){let i=n;return i<=r.min&&(i=r.min),i>=r.max&&(i=r.max),i}(t,e),e)}function Gg(t,e){const n=(t-e.min)%e.step;let r=t-n;return 2*Math.abs(n)>=e.step&&(r+=n>0?e.step:-e.step),parseFloat(r.toFixed(5))}let Kg=function(t){function e(r){var i;(i=t.call(this,r)||this).onKeyUp=()=>{i.onEnd()},i.onMouseUp=()=>{i.onEnd(i.getMouseEventMap())},i.onTouchEnd=a=>{a.preventDefault(),i.onEnd(i.getTouchEventMap())},i.onBlur=()=>{i.setState({index:-1},i.onEnd(i.getKeyDownEventMap()))},i.onMouseMove=a=>{i.setState({pending:!0});const l=i.getMousePosition(a),u=i.getDiffPosition(l[0]),c=i.getValueFromPosition(u);i.move(c)},i.onTouchMove=a=>{if(a.touches.length>1)return;i.setState({pending:!0});const l=i.getTouchPosition(a);if(i.isScrolling===void 0){const h=l[0]-i.startPosition[0],f=l[1]-i.startPosition[1];i.isScrolling=Math.abs(f)>Math.abs(h)}if(i.isScrolling)return void i.setState({index:-1});const u=i.getDiffPosition(l[0]),c=i.getValueFromPosition(u);i.move(c)},i.onKeyDown=a=>{if(!(a.ctrlKey||a.shiftKey||a.altKey||a.metaKey))switch(i.setState({pending:!0}),a.key){case"ArrowLeft":case"ArrowDown":case"Left":case"Down":a.preventDefault(),i.moveDownByStep();break;case"ArrowRight":case"ArrowUp":case"Right":case"Up":a.preventDefault(),i.moveUpByStep();break;case"Home":a.preventDefault(),i.move(i.props.min);break;case"End":a.preventDefault(),i.move(i.props.max);break;case"PageDown":a.preventDefault(),i.moveDownByStep(i.props.pageFn(i.props.step));break;case"PageUp":a.preventDefault(),i.moveUpByStep(i.props.pageFn(i.props.step))}},i.onSliderMouseDown=a=>{if(!i.props.disabled&&a.button!==2){if(i.setState({pending:!0}),!i.props.snapDragDisabled){const l=i.getMousePosition(a);i.forceValueFromPosition(l[0],u=>{i.start(u,l[0]),pc(i.getMouseEventMap())})}Up(a)}},i.onSliderClick=a=>{if(!i.props.disabled&&i.props.onSliderClick&&!i.hasMoved){const l=i.getMousePosition(a),u=zi(i.calcValue(i.calcOffsetFromPosition(l[0])),i.props);i.props.onSliderClick(u)}},i.createOnKeyDown=a=>l=>{i.props.disabled||(i.start(a),pc(i.getKeyDownEventMap()),Up(l))},i.createOnMouseDown=a=>l=>{if(i.props.disabled||l.button===2)return;i.setState({pending:!0});const u=i.getMousePosition(l);i.start(a,u[0]),pc(i.getMouseEventMap()),Up(l)},i.createOnTouchStart=a=>l=>{if(i.props.disabled||l.touches.length>1)return;i.setState({pending:!0});const u=i.getTouchPosition(l);i.startPosition=u,i.isScrolling=void 0,i.start(a,u[0]),pc(i.getTouchEventMap()),function(c){c.stopPropagation&&c.stopPropagation()}(l)},i.handleResize=()=>{const a=window.setTimeout(()=>{i.pendingResizeTimeouts.shift(),i.resize()},0);i.pendingResizeTimeouts.push(a)},i.renderThumb=(a,l)=>{const u=i.props.thumbClassName+" "+i.props.thumbClassName+"-"+l+" "+(i.state.index===l?i.props.thumbActiveClassName:""),c={ref:f=>{i["thumb"+l]=f},key:i.props.thumbClassName+"-"+l,className:u,style:a,onMouseDown:i.createOnMouseDown(l),onTouchStart:i.createOnTouchStart(l),onFocus:i.createOnKeyDown(l),tabIndex:0,role:"slider","aria-orientation":i.props.orientation,"aria-valuenow":i.state.value[l],"aria-valuemin":i.props.min,"aria-valuemax":i.props.max,"aria-label":Array.isArray(i.props.ariaLabel)?i.props.ariaLabel[l]:i.props.ariaLabel,"aria-labelledby":Array.isArray(i.props.ariaLabelledby)?i.props.ariaLabelledby[l]:i.props.ariaLabelledby,"aria-disabled":i.props.disabled},h={index:l,value:fc(i.state.value),valueNow:i.state.value[l]};return i.props.ariaValuetext&&(c["aria-valuetext"]=typeof i.props.ariaValuetext=="string"?i.props.ariaValuetext:i.props.ariaValuetext(h)),i.props.renderThumb(c,h)},i.renderTrack=(a,l,u)=>{const c={key:i.props.trackClassName+"-"+a,className:i.props.trackClassName+" "+i.props.trackClassName+"-"+a,style:i.buildTrackStyle(l,i.state.upperBound-u)},h={index:a,value:fc(i.state.value)};return i.props.renderTrack(c,h)};let s=Bp(r.value);s.length||(s=Bp(r.defaultValue)),i.pendingResizeTimeouts=[];const o=[];for(let a=0;a<s.length;a+=1)s[a]=zi(s[a],r),o.push(a);return i.resizeObserver=null,i.resizeElementRef=zn.createRef(),i.state={index:-1,upperBound:0,sliderLength:0,value:s,zIndices:o},i}wG(e,t);var n=e.prototype;return n.componentDidMount=function(){typeof window<"u"&&(this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.resizeElementRef.current),this.resize())},e.getDerivedStateFromProps=function(r,i){const s=Bp(r.value);return s.length?i.pending?null:{value:s.map(o=>zi(o,r))}:null},n.componentDidUpdate=function(){this.state.upperBound===0&&this.resize()},n.componentWillUnmount=function(){this.clearPendingResizeTimeouts(),this.resizeObserver&&this.resizeObserver.disconnect()},n.onEnd=function(r){r&&function(i){Object.keys(i).forEach(s=>{typeof document<"u"&&document.removeEventListener(s,i[s],!1)})}(r),this.hasMoved&&this.fireChangeEvent("onAfterChange"),this.setState({pending:!1}),this.hasMoved=!1},n.getValue=function(){return fc(this.state.value)},n.getClosestIndex=function(r){let i=Number.MAX_VALUE,s=-1;const{value:o}=this.state,a=o.length;for(let l=0;l<a;l+=1){const u=this.calcOffset(o[l]),c=Math.abs(r-u);c<i&&(i=c,s=l)}return s},n.getMousePosition=function(r){return[r["page"+this.axisKey()],r["page"+this.orthogonalAxisKey()]]},n.getTouchPosition=function(r){const i=r.touches[0];return[i["page"+this.axisKey()],i["page"+this.orthogonalAxisKey()]]},n.getKeyDownEventMap=function(){return{keydown:this.onKeyDown,keyup:this.onKeyUp,focusout:this.onBlur}},n.getMouseEventMap=function(){return{mousemove:this.onMouseMove,mouseup:this.onMouseUp}},n.getTouchEventMap=function(){return{touchmove:this.onTouchMove,touchend:this.onTouchEnd}},n.getValueFromPosition=function(r){const i=r/(this.state.sliderLength-this.state.thumbSize)*(this.props.max-this.props.min);return zi(this.state.startValue+i,this.props)},n.getDiffPosition=function(r){let i=r-this.state.startPosition;return this.props.invert&&(i*=-1),i},n.resize=function(){const{slider:r,thumb0:i}=this;if(!r||!i)return;const s=this.sizeKey(),o=r.getBoundingClientRect(),a=r[s],l=o[this.posMaxKey()],u=o[this.posMinKey()],c=i.getBoundingClientRect()[s.replace("client","").toLowerCase()],h=a-c,f=Math.abs(l-u);this.state.upperBound===h&&this.state.sliderLength===f&&this.state.thumbSize===c||this.setState({upperBound:h,sliderLength:f,thumbSize:c})},n.calcOffset=function(r){const i=this.props.max-this.props.min;return i===0?0:(r-this.props.min)/i*this.state.upperBound},n.calcValue=function(r){return r/this.state.upperBound*(this.props.max-this.props.min)+this.props.min},n.calcOffsetFromPosition=function(r){const{slider:i}=this,s=i.getBoundingClientRect(),o=s[this.posMaxKey()],a=s[this.posMinKey()];let l=r-(window["page"+this.axisKey()+"Offset"]+(this.props.invert?o:a));return this.props.invert&&(l=this.state.sliderLength-l),l-=this.state.thumbSize/2,l},n.forceValueFromPosition=function(r,i){const s=this.calcOffsetFromPosition(r),o=this.getClosestIndex(s),a=zi(this.calcValue(s),this.props),l=this.state.value.slice();l[o]=a;for(let u=0;u<l.length-1;u+=1)if(l[u+1]-l[u]<this.props.minDistance)return;this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0,this.setState({value:l},()=>{i(o),this.fireChangeEvent("onChange")})},n.clearPendingResizeTimeouts=function(){do{const r=this.pendingResizeTimeouts.shift();clearTimeout(r)}while(this.pendingResizeTimeouts.length)},n.start=function(r,i){const s=this["thumb"+r];s&&s.focus();const{zIndices:o}=this.state;o.splice(o.indexOf(r),1),o.push(r),this.setState(a=>({startValue:a.value[r],startPosition:i!==void 0?i:a.startPosition,index:r,zIndices:o}))},n.moveUpByStep=function(r){r===void 0&&(r=this.props.step);const i=this.state.value[this.state.index],s=zi(this.props.invert&&this.props.orientation==="horizontal"?i-r:i+r,this.props);this.move(Math.min(s,this.props.max))},n.moveDownByStep=function(r){r===void 0&&(r=this.props.step);const i=this.state.value[this.state.index],s=zi(this.props.invert&&this.props.orientation==="horizontal"?i+r:i-r,this.props);this.move(Math.max(s,this.props.min))},n.move=function(r){const i=this.state.value.slice(),{index:s}=this.state,{length:o}=i,a=i[s];if(r===a)return;this.hasMoved||this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0;const{pearling:l,max:u,min:c,minDistance:h}=this.props;if(!l){if(s>0){const f=i[s-1];r<f+h&&(r=f+h)}if(s<o-1){const f=i[s+1];r>f-h&&(r=f-h)}}i[s]=r,l&&o>1&&(r>a?(this.pushSucceeding(i,h,s),function(f,p,g,_){for(let w=0;w<f;w+=1){const v=_-w*g;p[f-1-w]>v&&(p[f-1-w]=v)}}(o,i,h,u)):r<a&&(this.pushPreceding(i,h,s),function(f,p,g,_){for(let w=0;w<f;w+=1){const v=_+w*g;p[w]<v&&(p[w]=v)}}(o,i,h,c))),this.setState({value:i},this.fireChangeEvent.bind(this,"onChange"))},n.pushSucceeding=function(r,i,s){let o,a;for(o=s,a=r[o]+i;r[o+1]!==null&&a>r[o+1];o+=1,a=r[o]+i)r[o+1]=Gg(a,this.props)},n.pushPreceding=function(r,i,s){for(let o=s,a=r[o]-i;r[o-1]!==null&&a<r[o-1];o-=1,a=r[o]-i)r[o-1]=Gg(a,this.props)},n.axisKey=function(){return this.props.orientation==="vertical"?"Y":"X"},n.orthogonalAxisKey=function(){return this.props.orientation==="vertical"?"X":"Y"},n.posMinKey=function(){return this.props.orientation==="vertical"?this.props.invert?"bottom":"top":this.props.invert?"right":"left"},n.posMaxKey=function(){return this.props.orientation==="vertical"?this.props.invert?"top":"bottom":this.props.invert?"left":"right"},n.sizeKey=function(){return this.props.orientation==="vertical"?"clientHeight":"clientWidth"},n.fireChangeEvent=function(r){this.props[r]&&this.props[r](fc(this.state.value),this.state.index)},n.buildThumbStyle=function(r,i){const s={position:"absolute",touchAction:"none",willChange:this.state.index>=0?this.posMinKey():void 0,zIndex:this.state.zIndices.indexOf(i)+1};return s[this.posMinKey()]=r+"px",s},n.buildTrackStyle=function(r,i){const s={position:"absolute",willChange:this.state.index>=0?this.posMinKey()+","+this.posMaxKey():void 0};return s[this.posMinKey()]=r,s[this.posMaxKey()]=i,s},n.buildMarkStyle=function(r){var i;return(i={position:"absolute"})[this.posMinKey()]=r,i},n.renderThumbs=function(r){const{length:i}=r,s=[];for(let a=0;a<i;a+=1)s[a]=this.buildThumbStyle(r[a],a);const o=[];for(let a=0;a<i;a+=1)o[a]=this.renderThumb(s[a],a);return o},n.renderTracks=function(r){const i=[],s=r.length-1;i.push(this.renderTrack(0,0,r[0]));for(let o=0;o<s;o+=1)i.push(this.renderTrack(o+1,r[o],r[o+1]));return i.push(this.renderTrack(s+1,r[s],this.state.upperBound)),i},n.renderMarks=function(){let{marks:r}=this.props;const i=this.props.max-this.props.min+1;return typeof r=="boolean"?r=Array.from({length:i}).map((s,o)=>o):typeof r=="number"&&(r=Array.from({length:i}).map((s,o)=>o).filter(s=>s%r==0)),r.map(parseFloat).sort((s,o)=>s-o).map(s=>{const o=this.calcOffset(s),a={key:s,className:this.props.markClassName,style:this.buildMarkStyle(o)};return this.props.renderMark(a)})},n.render=function(){const r=[],{value:i}=this.state,s=i.length;for(let u=0;u<s;u+=1)r[u]=this.calcOffset(i[u],u);const o=this.props.withTracks?this.renderTracks(r):null,a=this.renderThumbs(r),l=this.props.marks?this.renderMarks():null;return zn.createElement("div",{ref:u=>{this.slider=u,this.resizeElementRef.current=u},style:{position:"relative"},className:this.props.className+(this.props.disabled?" disabled":""),onMouseDown:this.onSliderMouseDown,onClick:this.onSliderClick},o,a,l)},e}(zn.Component);Kg.displayName="ReactSlider",Kg.defaultProps={min:0,max:100,step:1,pageFn:t=>10*t,minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",thumbClassName:"thumb",thumbActiveClassName:"active",trackClassName:"track",markClassName:"mark",withTracks:!0,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1,marks:[],renderThumb:t=>zn.createElement("div",t),renderTrack:t=>zn.createElement("div",t),renderMark:t=>zn.createElement("span",t)};var EG=Kg;function TG(){const[t,e]=E.useState([]),[n,r]=E.useState(!0);return E.useState(""),E.useState(""),E.useEffect(()=>{(async()=>{try{const s=Fo(Is,"posts"),a=(await kF(s)).docs.map(l=>({id:l.id,...l.data()}));e(a),r(!1),console.log("Posts fetched:",a)}catch(s){console.error("Error fetching posts:",s)}})()},[]),d.jsx("main",{className:"discover-page",children:d.jsxs("div",{className:"discover-main-container",children:[d.jsx("div",{className:"main-filters",children:d.jsxs("div",{className:"main-filters-heading",children:[d.jsx("h3",{children:"Main Filters"}),d.jsxs("div",{className:"animal-type",children:[d.jsx("input",{type:"checkbox",name:"dogs",value:"dogs",id:"dogs"}),d.jsx("label",{htmlFor:"dogs",className:"dogs",children:"Dogs"}),d.jsx("input",{type:"checkbox",name:"cats",value:"cats",id:"cats"}),d.jsx("label",{htmlFor:"cats",className:"cats",children:"Cats"})]}),d.jsxs("div",{className:"age-range",children:[d.jsx(EG,{className:"horizontal-slider",thumbClassName:"example-thumb",trackClassName:"example-track",defaultValue:[1,30],min:1,max:30,ariaLabel:["Lower thumb","Upper thumb"],ariaValuetext:i=>`Thumb value ${i.valueNow}`,renderThumb:(i,s)=>d.jsx("div",{...i,children:s.valueNow}),pearling:!0,minDistance:1}),d.jsx("br",{}),d.jsx("div",{className:"discover-age-format-selector",children:d.jsxs("div",{className:"discover-radio-inputs",children:[d.jsxs("label",{className:"discover-radio",children:[d.jsx("input",{type:"radio",name:"ageFormat",value:"days"}),d.jsx("span",{className:"discover-name",children:"Days"})]}),d.jsxs("label",{className:"discover-radio",children:[d.jsx("input",{type:"radio",name:"ageFormat",value:"months"}),d.jsx("span",{className:"discover-name",children:"Months"})]}),d.jsxs("label",{className:"discover-radio",children:[d.jsx("input",{type:"radio",name:"ageFormat",value:"years"}),d.jsx("span",{className:"discover-name",children:"Years"})]})]})})]})]})}),d.jsx("div",{className:"additional-filters",children:d.jsx("h3",{children:"Additional Filters"})}),d.jsx("div",{className:"posts-container",children:t.map(i=>d.jsx(d.Fragment,{children:d.jsx(_G,{post:i},i.id)}))})]})})}var Qg=new Map,mc=new WeakMap,KT=0,SG=void 0;function xG(t){return t?(mc.has(t)||(KT+=1,mc.set(t,KT.toString())),mc.get(t)):"0"}function IG(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?xG(t.root):t[e]}`).toString()}function AG(t){let e=IG(t),n=Qg.get(e);if(!n){const r=new Map;let i;const s=new IntersectionObserver(o=>{o.forEach(a=>{var l;const u=a.isIntersecting&&i.some(c=>a.intersectionRatio>=c);t.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=u),(l=r.get(a.target))==null||l.forEach(c=>{c(u,a)})})},t);i=s.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:s,elements:r},Qg.set(e,n)}return n}function PG(t,e,n={},r=SG){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const l=t.getBoundingClientRect();return e(r,{isIntersecting:r,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:i,observer:s,elements:o}=AG(n);let a=o.get(t)||[];return o.has(t)||o.set(t,a),a.push(e),s.observe(t),function(){a.splice(a.indexOf(e),1),a.length===0&&(o.delete(t),s.unobserve(t)),o.size===0&&(s.disconnect(),Qg.delete(i))}}function gc({threshold:t,delay:e,trackVisibility:n,rootMargin:r,root:i,triggerOnce:s,skip:o,initialInView:a,fallbackInView:l,onChange:u}={}){var c;const[h,f]=E.useState(null),p=E.useRef(),[g,_]=E.useState({inView:!!a,entry:void 0});p.current=u,E.useEffect(()=>{if(o||!h)return;let y;return y=PG(h,(T,x)=>{_({inView:T,entry:x}),p.current&&p.current(T,x),x.isIntersecting&&s&&y&&(y(),y=void 0)},{root:i,rootMargin:r,threshold:t,trackVisibility:n,delay:e},l),()=>{y&&y()}},[Array.isArray(t)?t.toString():t,h,i,r,s,o,n,l,e]);const w=(c=g.entry)==null?void 0:c.target,v=E.useRef();!h&&w&&!s&&!o&&v.current!==w&&(v.current=w,_({inView:!!a,entry:void 0}));const m=[f,g.inView,g.entry];return m.ref=m[0],m.inView=m[1],m.entry=m[2],m}const CG="/PetPals/assets/Adopt a pet-bro-eL28Jlx_.svg";function bG(){const t=dc(),[e,n]=gc({triggerOnce:!0,threshold:.6}),r=dc(),[i,s]=gc({triggerOnce:!0,threshold:.6}),o=dc(),[a,l]=gc({triggerOnce:!0,threshold:.6}),u=dc(),[c,h]=gc({triggerOnce:!0,threshold:.6});return E.useEffect(()=>{n&&t.start({opacity:1,x:0,transition:{delay:.5,duration:.5}})},[t,n]),E.useEffect(()=>{s&&r.start({opacity:1,x:0,transition:{delay:.5,duration:.5}})},[r,s]),E.useEffect(()=>{l&&o.start({opacity:1,x:0,transition:{delay:.5,duration:.5}})},[o,l]),E.useEffect(()=>{h&&u.start({opacity:1,x:0,transition:{delay:.5,duration:.5}})},[u,h]),d.jsxs(d.Fragment,{children:[d.jsx("main",{className:"home-page",children:d.jsxs("section",{className:"home-hero-section",children:[d.jsxs("div",{className:"home-hero-div-left",children:[d.jsxs("h1",{className:"home-hero-heading",children:["Don't shop.",d.jsx("br",{}),"Adopt a pet!"]}),d.jsxs("div",{className:"home-hero-buttons",children:[d.jsx(Re,{to:"/PetPals/discover",children:d.jsx("button",{children:"Adopt now"})}),d.jsx(Re,{to:"/PetPals/add",children:d.jsx("button",{children:"Rescue"})})]})]}),d.jsx("div",{className:"home-hero-div-right",children:d.jsx("img",{src:CG,style:{width:"100%"}})})]})}),d.jsx("section",{ref:e,className:"home-sub-section home-discover-section",children:d.jsxs(tn.div,{initial:{opacity:0,x:50},animate:t,children:[d.jsx("h1",{children:"Discover Section"}),d.jsx("p",{children:"Explore PetPals for your ideal furry companion. Discover diverse cats and dogs through heartwarming posts. Utilize user-friendly categorizations to find the perfect match. Adopt today and welcome perfection into your life, one paw at a time"}),d.jsx(Re,{to:"/PetPals/discover",children:d.jsx("button",{children:"Learn More"})})]})}),d.jsx("section",{ref:i,className:"home-sub-section home-add-section",children:d.jsxs(tn.div,{initial:{opacity:0,x:50},animate:r,transition:{staggerChildren:.5},children:[d.jsx("h1",{children:"Add Section"}),d.jsx("p",{children:"Contribute to our mission by uploading posts for dogs or cats in need of shelter at 'PetPals.' Users and sanctuaries can share stories of these adorable companions seeking loving homes. Be a part of their journey towards a forever home upload a post and make a difference today!"}),d.jsx(Re,{to:"/PetPals/add",children:d.jsx("button",{children:"Learn More"})})]})}),d.jsx("section",{ref:a,className:"home-sub-section home-blog-section",children:d.jsxs(tn.div,{initial:{opacity:0,x:50},animate:o,children:[d.jsx("h1",{children:"Blog Section"}),d.jsxs("p",{children:["Discover essential tips for responsible dog and cat care in 'PetPals' Pet Welfare Guides. The Dog Welfare Guide covers bedding, nutrition, toys, and vet registration, while the Cat Welfare Guide includes safe spaces, litter setup, food choices, scratching posts, holiday planning, and vet registration. Click icons for specific guides. Rely on 'PetPals' for expert guidance in responsible pet ownership. Happy reading and joyful pet parenting!"," "]}),d.jsx(Re,{to:"/PetPals/blog",children:d.jsx("button",{children:"Learn More"})})]})}),d.jsx("section",{ref:c,className:"home-sub-section home-about-section",children:d.jsxs(tn.div,{initial:{opacity:0,x:50},animate:u,children:[d.jsx("h1",{children:"About Section"}),d.jsx("p",{children:"PetPals connects adopters, rescuers, and shelters, focusing on dogs and cats. Simplifying the adoption process, it provides a non-judgmental service for rehomers and strives to reduce shelter admissions. Join PetPals in building a compassionate community for a brighter future."}),d.jsx(Re,{to:"/about",children:d.jsx("button",{children:"Learn More"})})]})}),d.jsxs("footer",{className:"home-footer",children:[d.jsxs("div",{className:"home-footer-container",children:[d.jsxs("div",{className:"home-footer-info",children:[d.jsxs("h3",{children:[d.jsx("img",{src:eb,style:{width:"2.3rem",paddingRight:"1rem"}}),"PetPals"]}),d.jsx("div",{className:"home-info-text",children:d.jsxs("p",{children:["PetPals was launched to",d.jsx("br",{})," address the growing issue",d.jsx("br",{})," of homeless animals,",d.jsx("br",{})," aiming to create a",d.jsx("br",{})," meaningful impact on",d.jsx("br",{})," their lives and alleviate",d.jsx("br",{})," their hardships."]})})]}),d.jsxs("div",{className:"home-footer-links",children:[d.jsx("h3",{children:"Quick Links"}),d.jsx(Re,{to:"/PetPals",children:"Home"}),d.jsx(Re,{to:"/PetPals/discover",children:"Discover"}),d.jsx(Re,{to:"/PetPals/about",children:"About"}),d.jsx(Re,{to:"/PetPals/blog",children:"Blog"})]}),d.jsxs("div",{className:"home-footer-support",children:[d.jsx("h3",{children:"Support Us"}),d.jsx(Re,{to:"/PetPals",children:"Donate"}),d.jsx(Re,{to:"https://github.com/PetPals-Team/PetPals",children:"Contribute on GitHub"})]})]}),d.jsx("div",{className:"home-footer-copyright",children:d.jsxs("p",{children:[" ",new Date().getFullYear()," PetPals Team. All Rights Reserved."]})})]})]})}const _R="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='48px'%20height='48px'%3e%3cpath%20fill='%23FFC107'%20d='M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z'/%3e%3cpath%20fill='%23FF3D00'%20d='M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z'/%3e%3cpath%20fill='%234CAF50'%20d='M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z'/%3e%3cpath%20fill='%231976D2'%20d='M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z'/%3e%3c/svg%3e";function RG(){const[t,e]=E.useState({email:"",password:""}),n=Wo({email:Ae().email("Invalid email!").required("Email is required!"),password:Ae().min(8,"Password must be at least 8 characters!").required("Password is required!")}),r=Jl(),i=o=>{try{F4(rt,o.email,o.password),r("/")}catch(a){console.log(a)}};async function s(){await OC(rt,ZC),r("/")}return d.jsx("section",{className:"login-page",children:d.jsx(Cu,{mode:"wait",children:d.jsx(Bl,{initialValues:t,validationSchema:n,onSubmit:i,children:()=>d.jsxs(tn.div,{layout:!0,className:"login-form-container",initial:{opacity:0,x:"-5%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"5%"},transition:{duration:.5,delay:.1,ease:[0,.71,.2,1.01]},children:[d.jsx("h2",{children:"Continue to petpals, "}),d.jsxs(zo,{className:"login-form",children:[d.jsx(ge,{name:"email",placeholder:"Email"}),d.jsx("div",{className:"login-warning",children:d.jsx(be,{name:"email"})}),d.jsx(ge,{type:"password",name:"password",placeholder:"Password"}),d.jsx("div",{className:"login-warning",children:d.jsx(be,{name:"password"})}),d.jsx("div",{className:"login-submit",children:d.jsx("button",{type:"submit",children:"Continue"})}),d.jsx("div",{className:"login-forgot-password",children:d.jsx(Re,{to:"/PetPals/forgot-password",children:"Forgot password?"})})]}),d.jsxs("div",{className:"login-seperator",children:[d.jsx("hr",{}),d.jsx("span",{children:"or continue with"}),d.jsx("hr",{})]}),d.jsx("div",{className:"login-social",children:d.jsxs("button",{className:"login-google",onClick:s,children:[d.jsx("img",{src:_R,alt:"Google",style:{width:"1rem",height:"1rem",paddingRight:"1rem"}})," Google"]})}),d.jsx("div",{className:"login-sign-up",children:d.jsxs("p",{children:["Not a member yet? ",d.jsx(Re,{to:"/PetPals/signup",children:"Sign up"})]})})]})})})})}function kG(){const[t,e]=E.useState(""),[n,r]=E.useState(!1),i=Wo({email:Ae().email("Invalid email!").required("Email is required!")});async function s(o){await V4(rt,o.email).then(()=>{console.log("Password reset email sent!"),r(!0)}).catch(a=>{console.log(a)})}return d.jsx("section",{children:d.jsxs(Cu,{mode:"wait",children:[d.jsx(Bl,{initialValues:{email:t},validationSchema:i,onSubmit:s,children:()=>d.jsxs(tn.div,{layout:!0,className:"form-container",initial:{opacity:0,x:"-5%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"5%"},transition:{duration:.5,delay:.1,ease:[0,.71,.2,1.01]},children:[d.jsx("h2",{children:"Reset your password"}),d.jsxs(zo,{className:"form",children:[d.jsx(ge,{name:"email",placeholder:"Email"}),d.jsx("div",{className:"warning",children:d.jsx(be,{name:"email"})}),d.jsx("div",{className:"submit",children:d.jsx("button",{type:"submit",children:"Continue"})})]})]})}),n&&d.jsx(vR,{title:"Modal Title",content:"This is just a random text to depict there some information",success:!1,setShow:r})]})})}const NG="data:image/svg+xml,%3csvg%20id='logo'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%201280%201280'%20shape-rendering='geometricPrecision'%20text-rendering='geometricPrecision'%3e%3cg%20id='logo-s-g1'%20transform='matrix(4.12147%200%200%204.67234-585.746-2197.15)'%20paint-order='markers%20stroke%20fill'%3e%3cg%20id='logo-s-g2'%3e%3cpath%20id='logo-s-path3'%20d='M456.661062,732.849999c3.663449-6.290595,4.213916-12.730984.6978-21.371059C452.474262,699.47612,442.19,695.97,423.69,694.8c-.26-.06-.53-.11-.8-.14-24.73-23.85-36.07-81.63-29.35-116.34c22.5-1.65,38.33-14.08,44.25-35.31c2.61-9.38-2.02-16.62-11.62-18.33-4.71-.84-7.83-3.47-9.56-8.03-.06-.15-.12-.29-.18-.43-9.08-18.93-24.79-21.27-35.21-22.14c0-.04.04-.11,0-.11-3.77.2-8.44.19-5.94-2.41c6.65-6.94,7.82-10.21,8.59-12.74c1.69-5.57-4.59-9.21-9.3-8.48-25.87,4.02-51.24,25.75-64.64,55.21-1.75,3.85-4.73,10.46-8.46,18.94-4.73-10.69-14.37-36.44-42.13-50-12.23-5.97-24.25-7.85-36.81-7.12-10.48.6-32.28,1.84-44.03,26.62-.36.34-3.22,2.61-15.59,3.86-7.59.77-14.63.7-14.7.7-.02,0-.05,0-.07,0-3.29,0-5.97,2.49-6.01,5.58-.44,32.1,14.95,46.08,26.49,52.05.01.01.03.02.04.03c6.95,3.94,15.73,4.86,23.88,4.86c4.42,0,8.44-.27,11.44-.55c2.26,13.42,6.46,67.7-22.11,114.29-18.34,1.28-28.67,12.77-28.67,25.32c0,4.43,1.34,8.88,3.96,12.72c0,0,6.48,11.31,26.28,11.31c3.46,0,57.11,0,64.64,0c3.32,0,25.24.02,53.64.02s134.530414-.020001,137.670514-.019999c11.339249-3.289542,15.351598-8.059896,17.270548-11.310002Z'%20transform='matrix(.843055%200%200%200.843055%2046.675393%2095.299591)'%20paint-order='stroke%20markers%20fill'%20fill='none'%20fill-rule='evenodd'%20stroke='%23000'%20stroke-width='12'%20stroke-dashoffset='1792.930377'%20stroke-dasharray='3449.77'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e";function i_(t){return d.jsxs(tn.div,{layout:!0,className:"miniLoader-container",initial:{opacity:0,x:"-5%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"5%"},transition:{duration:.5,delay:.1,ease:[0,.71,.2,1.01]},children:[d.jsx("h3",{className:"miniLoader-title",children:t.title}),d.jsx("img",{src:NG,alt:"loader",className:"logo-outline"}),d.jsx("p",{className:"miniLoader-message",children:t.message})]})}function DG(){const[t,e]=E.useState({email:"",password:"",confirmPassword:""});E.useState("grey");const[n,r]=E.useState(!1),i=Jl(),[s,o]=E.useState({accountType:"individual",firstName:"",lastName:"",orgName:"",buildingNumber:"",street:"",city:"",district:"",zipCode:"",contactNumber:""}),a=["Ampara","Anuradhapura","Badulla","Batticaloa","Colombo","Galle","Gampaha","Hambantota","Jaffna","Kalutara","Kandy","Kegalle","Kilinochchi","Kurunegala","Mannar","Matale","Matara","Monaragala","Mullaitivu","Nuwara Eliya","Polonnaruwa","Puttalam","Ratnapura","Trincomalee","Vavuniya"],l=Wo({email:Ae().email("Invalid email!").required("Email is required!"),password:Ae().min(8,"Password must be at least 8 characters!").required("Password is required!"),confirmPassword:Ae().oneOf([iz("password")],"Passwords must match!")}),u=Wo({accountType:Ae().required("Account type is required!"),firstName:Ae().when("accountType",{is:"individual",then:y=>y.required("First name is required!"),otherwise:y=>y.optional()}),lastName:Ae().when("accountType",{is:"individual",then:y=>y.required("Last name is required!"),otherwise:y=>y.optional()}),orgName:Ae().when("accountType",{is:"organization",then:y=>y.required("Organization name is required!"),otherwise:y=>y.optional()}),buildingNumber:Ae().required("Building/House number is required!"),street:Ae().required("Street name is required!"),city:Ae().required("City is required!"),district:Ae().required("District is required!"),zipCode:Ae().required("Zip/Postal code is required!"),contactNumber:Ae().length(10).required("Contact number is required!")}),[c,h]=E.useState(0),[f,p]=E.useState("email");function g(){h(c+1)}async function _(){r(!0),p("google"),await OC(rt,ZC),g(),r(!1)}function w(){async function y(T){r(!0),e(T),console.log("step 1 - auth: ",t),T.email&&T.password&&T.confirmPassword&&(p("email"),console.log("step 1 - auth: ",t),await L4(rt,T.email,T.password)),g(),r(!1)}return d.jsx(Bl,{initialValues:t,validationSchema:l,onSubmit:y,enableReinitialize:!0,children:()=>d.jsxs(tn.div,{layout:!0,className:"signup-form-container",initial:{opacity:0,x:"-5%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"5%"},transition:{duration:.5,delay:.1,ease:[0,.71,.2,1.01]},children:[d.jsx("h2",{children:"Welcome to PetPals"}),d.jsxs(zo,{className:"signup-form",children:[d.jsx(ge,{name:"email",placeholder:"Email"}),d.jsx("div",{className:"signup-warning",children:d.jsx(be,{name:"email"})}),d.jsx(ge,{type:"password",name:"password",placeholder:"Password"}),d.jsx("div",{className:"signup-warning",children:d.jsx(be,{name:"password"})}),d.jsx(ge,{type:"password",name:"confirmPassword",placeholder:"Confirm password"}),d.jsx("div",{className:"signup-warning",children:d.jsx(be,{name:"confirmPassword"})}),d.jsx("div",{className:"signup-submit",children:d.jsx("button",{type:"submit",children:"Continue"})})]}),d.jsxs("div",{className:"signup-seperator",children:[d.jsx("hr",{}),d.jsx("span",{children:"or continue with"}),d.jsx("hr",{})]}),d.jsx("div",{className:"signup-social",children:d.jsxs("button",{className:"signup-google",onClick:_,children:[d.jsx("img",{src:_R,alt:"Google",style:{width:"1rem",height:"1rem",paddingRight:"1rem"}})," Google"]})})]},c)})}function v(){async function y(T){r(!0);const x=rt.currentUser.uid;o(T),console.log("step 2 - personal: ",s);try{if(T.accountType==="organization"){const S=await gg(Fo(Is,"users"),{uid:x,accountType:"organization",firstName:"",lastName:"",orgName:T.orgName,buildingNumber:T.buildingNumber,street:T.street,city:T.city,district:T.district,zipCode:T.zipCode,contactNumber:T.contactNumber});console.log("Document written with ID: ",S.id)}else if(T.accountType==="individual"){const S=await gg(Fo(Is,"users"),{uid:x,accountType:"individual",firstName:T.firstName,lastName:T.lastName,orgName:"",buildingNumber:T.buildingNumber,street:T.street,city:T.city,district:T.district,zipCode:T.zipCode,contactNumber:T.contactNumber});console.log("Document written with ID: ",S.id)}}catch(S){console.error("Error adding document: ",S)}i("/PetPals"),r(!1)}return d.jsx(Bl,{initialValues:s,validationSchema:u,onSubmit:y,enableReinitialize:!0,children:({values:T})=>d.jsx(tn.div,{layout:!0,className:"signup-form-container",initial:{opacity:0,x:"-5%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"5%"},transition:{duration:.5,delay:.1,ease:[0,.71,.2,1.01]},children:d.jsxs(zo,{className:"signup-form",children:[d.jsx("div",{className:"signup-description",children:d.jsx("p",{children:"Before you can start using PetPals, we would like to know about you a little bit."})}),d.jsxs("div",{className:"signup-account-toggle",children:[d.jsxs("div",{className:"signup-account-type",children:[d.jsx("p",{children:"I'm an: "}),d.jsxs("div",{className:"signup-radio-inputs",children:[d.jsxs("label",{className:"signup-radio",children:[d.jsx(ge,{type:"radio",name:"accountType",value:"individual"}),d.jsx("span",{className:"signup-name",children:"Individual"})]}),d.jsxs("label",{className:"signup-radio",children:[d.jsx(ge,{type:"radio",name:"accountType",value:"organization"}),d.jsx("span",{className:"signup-name",children:"Organization"})]})]})]}),d.jsx("div",{className:"signup-warning",children:d.jsx(be,{name:"accountType"})})]}),T.accountType==="individual"&&d.jsxs(tn.div,{className:"signup-animated-fields",initial:{opacity:0},transition:{type:"spring",stiffness:100,damping:50,delay:.1},animate:{opacity:1},exit:{opacity:0},children:[d.jsx(ge,{name:"firstName",placeholder:"First name"}),d.jsx("div",{className:"signup-warning",children:d.jsx(be,{name:"firstName"})}),d.jsx(ge,{name:"lastName",placeholder:"Last name"}),d.jsx("div",{className:"signup-warning",children:d.jsx(be,{name:"lastName"})})]}),T.accountType==="organization"&&d.jsxs(tn.div,{className:"signup-animated-fields",initial:{opacity:0},transition:{type:"spring",stiffness:100,damping:50,delay:.1},animate:{opacity:1},exit:{opacity:0},children:[d.jsx(ge,{name:"orgName",placeholder:"Organization name"}),d.jsx("div",{className:"signup-warning",children:d.jsx(be,{name:"orgName"})})]}),d.jsx(ge,{name:"buildingNumber",placeholder:"Building/House number"}),d.jsx("div",{className:"signup-warning",children:d.jsx(be,{name:"buildingNumber"})}),d.jsx(ge,{name:"street",placeholder:"Street name"}),d.jsx("div",{className:"signup-warning",children:d.jsx(be,{name:"street"})}),d.jsx(ge,{name:"city",placeholder:"City"}),d.jsx("div",{className:"signup-warning",children:d.jsx(be,{name:"city"})}),d.jsxs(ge,{as:"select",name:"district",children:[d.jsx("option",{value:"",children:"Select District"}),a.map(x=>d.jsx("option",{value:x,children:x},x))]}),d.jsx("div",{className:"signup-warning",children:d.jsx(be,{name:"district"})}),d.jsx(ge,{name:"zipCode",placeholder:"Zip/Postal code"}),d.jsx("div",{className:"signup-warning",children:d.jsx(be,{name:"zipCode"})}),d.jsx(ge,{name:"contactNumber",placeholder:"Contact number"}),d.jsx("div",{className:"signup-warning",children:d.jsx(be,{name:"contactNumber"})}),d.jsx("div",{className:"signup-action-buttons",children:d.jsx("button",{type:"submit",children:"Submit"})})]})},c)})}const m=[d.jsx(w,{}),d.jsx(v,{})];return d.jsx("section",{className:"signup-page",children:d.jsx(Cu,{mode:"wait",children:n?d.jsx(i_,{title:"Please wait.",message:"We are configuring your account..."}):m[c]})})}const OG="/PetPals/assets/Cat astronaut-rafiki-xpk-0EGS.svg";function jG(){return d.jsxs("main",{className:"error-404",children:[d.jsx("div",{className:"error-404-image",children:d.jsx("img",{src:OG,alt:"cat astronaut",className:"cat-astronaut"})}),d.jsxs("div",{className:"error-404-text",children:[d.jsxs("h1",{className:"404-title",children:["Oh...",d.jsx("br",{}),"You seems to be lost."]}),d.jsx("p",{className:"404-description",children:"Let's head back home safely, okay?"}),d.jsx(Re,{to:"/PetPals/",children:d.jsxs("button",{className:"error-404-button",children:[d.jsx("i",{className:"bx bxs-home-heart bx-xm"}),"Home"]})})]})]})}const wR="/PetPals/assets/pet-wm5iIMt3.png",ER="/PetPals/assets/pet-house--5j5cPMA.png";function MG(){const{uid:t}=bD(),[e,n]=E.useState(null),r=Fo(Is,"users"),i=XP(r,YP("uid","==",t)),s=(e==null?void 0:e.accountType)==="individual"?wR:ER;return E.useEffect(()=>{(async()=>{try{tC(i,a=>{n(a.docs[0].data()),console.log(a.docs[0].data())})}catch(a){console.error("Error fetching document:",a)}})()},[t]),d.jsx("main",{className:"profile-page",children:e?d.jsxs("div",{className:"profile-profile-container",children:[d.jsxs("div",{className:"profile-main-profile-container",children:[d.jsx("h2",{children:e?e.firstName+" "+e.lastName:""}),d.jsx("img",{src:s,alt:"profile",className:"profile-profile-photo"})]}),d.jsxs("div",{className:"profile-sub-profile-container",children:[d.jsxs("p",{children:["Account type: ",e?e.accountType:""]}),d.jsxs("p",{children:["Contact: ",e?e.contactNumber:""]}),d.jsxs("p",{children:["Address: ",e?e.buildingNumber+", "+e.street+", "+e.city+", "+e.zipCode:""]})]})]}):d.jsx(i_,{title:"Please Wait",message:"Fetching user data"})})}function VG(){let t="";rt.currentUser?t=rt.currentUser.uid:t="";const[e,n]=E.useState(null),r=Fo(Is,"users"),i=XP(r,YP("uid","==",t)),s=(e==null?void 0:e.accountType)==="individual"?wR:ER,[o,a]=E.useState(!!rt.currentUser);E.useEffect(()=>{const c=rt.onAuthStateChanged(h=>{a(!!h)});return()=>c()},[]);const l=Jl();E.useEffect(()=>{const c=rt.onAuthStateChanged(h=>{a(!!h)});return()=>c()},[]);const u=async()=>{await B4(rt),l("/login")};return E.useEffect(()=>{(async()=>{try{tC(i,h=>{var f,p;n((f=h.docs[0])==null?void 0:f.data()),console.log((p=h.docs[0])==null?void 0:p.data())})}catch(h){console.error("Error fetching document:",h)}})()},[t]),d.jsx("main",{className:"profile-page",children:e?d.jsxs("div",{className:"profile-profile-container",children:[d.jsxs("div",{className:"profile-main-profile-container",children:[d.jsx("h2",{children:e?e.firstName+" "+e.lastName:""}),d.jsx("img",{src:s,alt:"profile",className:"profile-profile-photo"})]}),d.jsxs("div",{className:"profile-sub-profile-container",children:[d.jsxs("p",{children:["Account type: ",e?e.accountType:""]}),d.jsxs("p",{children:["Contact: ",e?e.contactNumber:""]}),d.jsxs("p",{children:["Address: ",e?e.buildingNumber+", "+e.street+", "+e.city+", "+e.zipCode:""]}),d.jsx("button",{onClick:u,children:"Log Out"})]})]}):d.jsx(i_,{title:"Please Wait",message:"Fetching user data"})})}function LG(){return d.jsx("main",{className:"post-page",children:d.jsx("div",{})})}function FG(){return d.jsx("main",{className:"test-main",children:d.jsx("section",{className:"test-main-container",children:d.jsxs("div",{className:"test-container",children:[d.jsx("h2",{className:"test-main-heading",children:"_welcome beta tester!"}),d.jsx("p",{className:"test-main-description",children:"thank you for your valuable time! let's get started. First create an account and create a post."}),d.jsx(Re,{to:"/PetPals/signup",children:d.jsxs("button",{className:"test-start-button",children:[d.jsx("i",{className:"bx bx-code-alt bx-md"}),d.jsx("p",{className:"test-start-button-text",children:"start"})]})})]})})})}function $G(){return d.jsx(d.Fragment,{children:d.jsxs(QD,{children:[d.jsx("div",{className:"gradient-background"}),d.jsx("div",{className:"white-overlay"}),d.jsx("header",{children:d.jsx(v3,{})}),d.jsxs(zD,{children:[d.jsx(Ut,{path:"PetPals/",element:d.jsx(bG,{})}),d.jsx(Ut,{path:"PetPals/*",element:d.jsx(jG,{})}),d.jsx(Ut,{path:"PetPals/users/:uid",element:d.jsx(MG,{})}),d.jsx(Ut,{path:"PetPals/users/me",element:d.jsx(VG,{})}),d.jsx(Ut,{path:"PetPals/posts/:postId",element:d.jsx(LG,{})}),d.jsx(Ut,{path:"PetPals/about",element:d.jsx(w3,{})}),d.jsx(Ut,{path:"PetPals/add",element:d.jsx(iG,{})}),d.jsx(Ut,{path:"PetPals/blog",element:d.jsx(vG,{})}),d.jsx(Ut,{path:"PetPals/discover",element:d.jsx(TG,{})}),d.jsx(Ut,{path:"PetPals/login",element:d.jsx(RG,{})}),d.jsx(Ut,{path:"PetPals/forgot-password",element:d.jsx(kG,{})}),d.jsx(Ut,{path:"PetPals/signup",element:d.jsx(DG,{})}),d.jsx(Ut,{path:"PetPals/PetPals",element:d.jsx(FG,{})})]})]})})}zp.createRoot(document.getElementById("root")).render(d.jsx(zn.StrictMode,{children:d.jsx($G,{})}))});export default UG();
