function CR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Xh(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tx={exports:{}},Yh={},nx={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gl=Symbol.for("react.element"),bR=Symbol.for("react.portal"),RR=Symbol.for("react.fragment"),kR=Symbol.for("react.strict_mode"),NR=Symbol.for("react.profiler"),DR=Symbol.for("react.provider"),OR=Symbol.for("react.context"),jR=Symbol.for("react.forward_ref"),VR=Symbol.for("react.suspense"),MR=Symbol.for("react.memo"),LR=Symbol.for("react.lazy"),h_=Symbol.iterator;function FR(t){return t===null||typeof t!="object"?null:(t=h_&&t[h_]||t["@@iterator"],typeof t=="function"?t:null)}var rx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ix=Object.assign,sx={};function qo(t,e,n){this.props=t,this.context=e,this.refs=sx,this.updater=n||rx}qo.prototype.isReactComponent={};qo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ox(){}ox.prototype=qo.prototype;function Zg(t,e,n){this.props=t,this.context=e,this.refs=sx,this.updater=n||rx}var ey=Zg.prototype=new ox;ey.constructor=Zg;ix(ey,qo.prototype);ey.isPureReactComponent=!0;var d_=Array.isArray,ax=Object.prototype.hasOwnProperty,ty={current:null},lx={key:!0,ref:!0,__self:!0,__source:!0};function ux(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ax.call(e,r)&&!lx.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Gl,type:t,key:s,ref:o,props:i,_owner:ty.current}}function $R(t,e){return{$$typeof:Gl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ny(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gl}function UR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var f_=/\/+/g;function Rf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?UR(""+t.key):e.toString(36)}function yc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Gl:case bR:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Rf(o,0):r,d_(i)?(n="",t!=null&&(n=t.replace(f_,"$&/")+"/"),yc(i,e,n,"",function(u){return u})):i!=null&&(ny(i)&&(i=$R(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(f_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",d_(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Rf(s,a);o+=yc(s,e,n,l,i)}else if(l=FR(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Rf(s,a++),o+=yc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ku(t,e,n){if(t==null)return t;var r=[],i=0;return yc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function BR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ft={current:null},vc={transition:null},zR={ReactCurrentDispatcher:Ft,ReactCurrentBatchConfig:vc,ReactCurrentOwner:ty};re.Children={map:ku,forEach:function(t,e,n){ku(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ku(t,function(){e++}),e},toArray:function(t){return ku(t,function(e){return e})||[]},only:function(t){if(!ny(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};re.Component=qo;re.Fragment=RR;re.Profiler=NR;re.PureComponent=Zg;re.StrictMode=kR;re.Suspense=VR;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zR;re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ix({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ty.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ax.call(e,l)&&!lx.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Gl,type:t.type,key:i,ref:s,props:r,_owner:o}};re.createContext=function(t){return t={$$typeof:OR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:DR,_context:t},t.Consumer=t};re.createElement=ux;re.createFactory=function(t){var e=ux.bind(null,t);return e.type=t,e};re.createRef=function(){return{current:null}};re.forwardRef=function(t){return{$$typeof:jR,render:t}};re.isValidElement=ny;re.lazy=function(t){return{$$typeof:LR,_payload:{_status:-1,_result:t},_init:BR}};re.memo=function(t,e){return{$$typeof:MR,type:t,compare:e===void 0?null:e}};re.startTransition=function(t){var e=vc.transition;vc.transition={};try{t()}finally{vc.transition=e}};re.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};re.useCallback=function(t,e){return Ft.current.useCallback(t,e)};re.useContext=function(t){return Ft.current.useContext(t)};re.useDebugValue=function(){};re.useDeferredValue=function(t){return Ft.current.useDeferredValue(t)};re.useEffect=function(t,e){return Ft.current.useEffect(t,e)};re.useId=function(){return Ft.current.useId()};re.useImperativeHandle=function(t,e,n){return Ft.current.useImperativeHandle(t,e,n)};re.useInsertionEffect=function(t,e){return Ft.current.useInsertionEffect(t,e)};re.useLayoutEffect=function(t,e){return Ft.current.useLayoutEffect(t,e)};re.useMemo=function(t,e){return Ft.current.useMemo(t,e)};re.useReducer=function(t,e,n){return Ft.current.useReducer(t,e,n)};re.useRef=function(t){return Ft.current.useRef(t)};re.useState=function(t){return Ft.current.useState(t)};re.useSyncExternalStore=function(t,e,n){return Ft.current.useSyncExternalStore(t,e,n)};re.useTransition=function(){return Ft.current.useTransition()};re.version="18.2.0";nx.exports=re;var E=nx.exports;const zn=Xh(E),WR=CR({__proto__:null,default:zn},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HR=E,qR=Symbol.for("react.element"),GR=Symbol.for("react.fragment"),KR=Object.prototype.hasOwnProperty,QR=HR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XR={key:!0,ref:!0,__self:!0,__source:!0};function cx(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)KR.call(e,r)&&!XR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:qR,type:t,key:s,ref:o,props:i,_owner:QR.current}}Yh.Fragment=GR;Yh.jsx=cx;Yh.jsxs=cx;tx.exports=Yh;var d=tx.exports,Gp={},hx={exports:{}},an={},dx={exports:{}},fx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,q){var Q=j.length;j.push(q);e:for(;0<Q;){var z=Q-1>>>1,ae=j[z];if(0<i(ae,q))j[z]=q,j[Q]=ae,Q=z;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var q=j[0],Q=j.pop();if(Q!==q){j[0]=Q;e:for(var z=0,ae=j.length,Ut=ae>>>1;z<Ut;){var lt=2*(z+1)-1,vt=j[lt],ze=lt+1,kt=j[ze];if(0>i(vt,Q))ze<ae&&0>i(kt,vt)?(j[z]=kt,j[ze]=Q,z=ze):(j[z]=vt,j[lt]=Q,z=lt);else if(ze<ae&&0>i(kt,Q))j[z]=kt,j[ze]=Q,z=ze;else break e}}return q}function i(j,q){var Q=j.sortIndex-q.sortIndex;return Q!==0?Q:j.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,p=!1,g=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(j){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=j)r(u),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(u)}}function T(j){if(_=!1,y(j),!g)if(n(l)!==null)g=!0,we(S);else{var q=n(u);q!==null&&Rt(T,q.startTime-j)}}function S(j,q){g=!1,_&&(_=!1,v(A),A=-1),p=!0;var Q=f;try{for(y(q),h=n(l);h!==null&&(!(h.expirationTime>q)||j&&!$());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var ae=z(h.expirationTime<=q);q=t.unstable_now(),typeof ae=="function"?h.callback=ae:h===n(l)&&r(l),y(q)}else r(l);h=n(l)}if(h!==null)var Ut=!0;else{var lt=n(u);lt!==null&&Rt(T,lt.startTime-q),Ut=!1}return Ut}finally{h=null,f=Q,p=!1}}var x=!1,I=null,A=-1,C=5,k=-1;function $(){return!(t.unstable_now()-k<C)}function se(){if(I!==null){var j=t.unstable_now();k=j;var q=!0;try{q=I(!0,j)}finally{q?Y():(x=!1,I=null)}}else x=!1}var Y;if(typeof m=="function")Y=function(){m(se)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,F=K.port2;K.port1.onmessage=se,Y=function(){F.postMessage(null)}}else Y=function(){w(se,0)};function we(j){I=j,x||(x=!0,Y())}function Rt(j,q){A=w(function(){j(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,we(S))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var Q=f;f=q;try{return j()}finally{f=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,q){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var Q=f;f=j;try{return q()}finally{f=Q}},t.unstable_scheduleCallback=function(j,q,Q){var z=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?z+Q:z):Q=z,j){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=Q+ae,j={id:c++,callback:q,priorityLevel:j,startTime:Q,expirationTime:ae,sortIndex:-1},Q>z?(j.sortIndex=Q,e(u,j),n(l)===null&&j===n(u)&&(_?(v(A),A=-1):_=!0,Rt(T,Q-z))):(j.sortIndex=ae,e(l,j),g||p||(g=!0,we(S))),j},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(j){var q=f;return function(){var Q=f;f=q;try{return j.apply(this,arguments)}finally{f=Q}}}})(fx);dx.exports=fx;var YR=dx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var px=E,rn=YR;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mx=new Set,rl={};function bs(t,e){Ao(t,e),Ao(t+"Capture",e)}function Ao(t,e){for(rl[t]=e,t=0;t<e.length;t++)mx.add(e[t])}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kp=Object.prototype.hasOwnProperty,JR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p_={},m_={};function ZR(t){return Kp.call(m_,t)?!0:Kp.call(p_,t)?!1:JR.test(t)?m_[t]=!0:(p_[t]=!0,!1)}function ek(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function tk(t,e,n,r){if(e===null||typeof e>"u"||ek(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $t(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){yt[t]=new $t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];yt[e]=new $t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){yt[t]=new $t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){yt[t]=new $t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){yt[t]=new $t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){yt[t]=new $t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){yt[t]=new $t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){yt[t]=new $t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){yt[t]=new $t(t,5,!1,t.toLowerCase(),null,!1,!1)});var ry=/[\-:]([a-z])/g;function iy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ry,iy);yt[e]=new $t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ry,iy);yt[e]=new $t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ry,iy);yt[e]=new $t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){yt[t]=new $t(t,1,!1,t.toLowerCase(),null,!1,!1)});yt.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){yt[t]=new $t(t,1,!1,t.toLowerCase(),null,!0,!0)});function sy(t,e,n,r){var i=yt.hasOwnProperty(e)?yt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(tk(e,n,i,r)&&(n=null),r||i===null?ZR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var kr=px.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nu=Symbol.for("react.element"),Xs=Symbol.for("react.portal"),Ys=Symbol.for("react.fragment"),oy=Symbol.for("react.strict_mode"),Qp=Symbol.for("react.profiler"),gx=Symbol.for("react.provider"),yx=Symbol.for("react.context"),ay=Symbol.for("react.forward_ref"),Xp=Symbol.for("react.suspense"),Yp=Symbol.for("react.suspense_list"),ly=Symbol.for("react.memo"),Ur=Symbol.for("react.lazy"),vx=Symbol.for("react.offscreen"),g_=Symbol.iterator;function oa(t){return t===null||typeof t!="object"?null:(t=g_&&t[g_]||t["@@iterator"],typeof t=="function"?t:null)}var Oe=Object.assign,kf;function Ta(t){if(kf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);kf=e&&e[1]||""}return`
`+kf+t}var Nf=!1;function Df(t,e){if(!t||Nf)return"";Nf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Nf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ta(t):""}function nk(t){switch(t.tag){case 5:return Ta(t.type);case 16:return Ta("Lazy");case 13:return Ta("Suspense");case 19:return Ta("SuspenseList");case 0:case 2:case 15:return t=Df(t.type,!1),t;case 11:return t=Df(t.type.render,!1),t;case 1:return t=Df(t.type,!0),t;default:return""}}function Jp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ys:return"Fragment";case Xs:return"Portal";case Qp:return"Profiler";case oy:return"StrictMode";case Xp:return"Suspense";case Yp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case yx:return(t.displayName||"Context")+".Consumer";case gx:return(t._context.displayName||"Context")+".Provider";case ay:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ly:return e=t.displayName||null,e!==null?e:Jp(t.type)||"Memo";case Ur:e=t._payload,t=t._init;try{return Jp(t(e))}catch{}}return null}function rk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jp(e);case 8:return e===oy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _x(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ik(t){var e=_x(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Du(t){t._valueTracker||(t._valueTracker=ik(t))}function wx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=_x(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $c(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zp(t,e){var n=e.checked;return Oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function y_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=yi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ex(t,e){e=e.checked,e!=null&&sy(t,"checked",e,!1)}function em(t,e){Ex(t,e);var n=yi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tm(t,e.type,n):e.hasOwnProperty("defaultValue")&&tm(t,e.type,yi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function v_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function tm(t,e,n){(e!=="number"||$c(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var xa=Array.isArray;function mo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function nm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return Oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function __(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(xa(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:yi(n)}}function Tx(t,e){var n=yi(e.value),r=yi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function w_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ou,Sx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ou=Ou||document.createElement("div"),Ou.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ou.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function il(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Oa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sk=["Webkit","ms","Moz","O"];Object.keys(Oa).forEach(function(t){sk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Oa[e]=Oa[t]})});function Ix(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Oa.hasOwnProperty(t)&&Oa[t]?(""+e).trim():e+"px"}function Ax(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ix(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ok=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function im(t,e){if(e){if(ok[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function sm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var om=null;function uy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var am=null,go=null,yo=null;function E_(t){if(t=Xl(t)){if(typeof am!="function")throw Error(N(280));var e=t.stateNode;e&&(e=nd(e),am(t.stateNode,t.type,e))}}function Px(t){go?yo?yo.push(t):yo=[t]:go=t}function Cx(){if(go){var t=go,e=yo;if(yo=go=null,E_(t),e)for(t=0;t<e.length;t++)E_(e[t])}}function bx(t,e){return t(e)}function Rx(){}var Of=!1;function kx(t,e,n){if(Of)return t(e,n);Of=!0;try{return bx(t,e,n)}finally{Of=!1,(go!==null||yo!==null)&&(Rx(),Cx())}}function sl(t,e){var n=t.stateNode;if(n===null)return null;var r=nd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var lm=!1;if(Tr)try{var aa={};Object.defineProperty(aa,"passive",{get:function(){lm=!0}}),window.addEventListener("test",aa,aa),window.removeEventListener("test",aa,aa)}catch{lm=!1}function ak(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ja=!1,Uc=null,Bc=!1,um=null,lk={onError:function(t){ja=!0,Uc=t}};function uk(t,e,n,r,i,s,o,a,l){ja=!1,Uc=null,ak.apply(lk,arguments)}function ck(t,e,n,r,i,s,o,a,l){if(uk.apply(this,arguments),ja){if(ja){var u=Uc;ja=!1,Uc=null}else throw Error(N(198));Bc||(Bc=!0,um=u)}}function Rs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Nx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function T_(t){if(Rs(t)!==t)throw Error(N(188))}function hk(t){var e=t.alternate;if(!e){if(e=Rs(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return T_(i),t;if(s===r)return T_(i),e;s=s.sibling}throw Error(N(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function Dx(t){return t=hk(t),t!==null?Ox(t):null}function Ox(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ox(t);if(e!==null)return e;t=t.sibling}return null}var jx=rn.unstable_scheduleCallback,x_=rn.unstable_cancelCallback,dk=rn.unstable_shouldYield,fk=rn.unstable_requestPaint,Be=rn.unstable_now,pk=rn.unstable_getCurrentPriorityLevel,cy=rn.unstable_ImmediatePriority,Vx=rn.unstable_UserBlockingPriority,zc=rn.unstable_NormalPriority,mk=rn.unstable_LowPriority,Mx=rn.unstable_IdlePriority,Jh=null,Wn=null;function gk(t){if(Wn&&typeof Wn.onCommitFiberRoot=="function")try{Wn.onCommitFiberRoot(Jh,t,void 0,(t.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:_k,yk=Math.log,vk=Math.LN2;function _k(t){return t>>>=0,t===0?32:31-(yk(t)/vk|0)|0}var ju=64,Vu=4194304;function Sa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Wc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Sa(a):(s&=o,s!==0&&(r=Sa(s)))}else o=n&~i,o!==0?r=Sa(o):s!==0&&(r=Sa(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-In(e),i=1<<n,r|=t[n],e&=~i;return r}function wk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ek(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-In(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=wk(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function cm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Lx(){var t=ju;return ju<<=1,!(ju&4194240)&&(ju=64),t}function jf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Kl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-In(e),t[e]=n}function Tk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-In(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function hy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-In(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var de=0;function Fx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $x,dy,Ux,Bx,zx,hm=!1,Mu=[],ni=null,ri=null,ii=null,ol=new Map,al=new Map,Hr=[],xk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function S_(t,e){switch(t){case"focusin":case"focusout":ni=null;break;case"dragenter":case"dragleave":ri=null;break;case"mouseover":case"mouseout":ii=null;break;case"pointerover":case"pointerout":ol.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(e.pointerId)}}function la(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Xl(e),e!==null&&dy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Sk(t,e,n,r,i){switch(e){case"focusin":return ni=la(ni,t,e,n,r,i),!0;case"dragenter":return ri=la(ri,t,e,n,r,i),!0;case"mouseover":return ii=la(ii,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ol.set(s,la(ol.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,al.set(s,la(al.get(s)||null,t,e,n,r,i)),!0}return!1}function Wx(t){var e=Ji(t.target);if(e!==null){var n=Rs(e);if(n!==null){if(e=n.tag,e===13){if(e=Nx(n),e!==null){t.blockedOn=e,zx(t.priority,function(){Ux(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function _c(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=dm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);om=r,n.target.dispatchEvent(r),om=null}else return e=Xl(n),e!==null&&dy(e),t.blockedOn=n,!1;e.shift()}return!0}function I_(t,e,n){_c(t)&&n.delete(e)}function Ik(){hm=!1,ni!==null&&_c(ni)&&(ni=null),ri!==null&&_c(ri)&&(ri=null),ii!==null&&_c(ii)&&(ii=null),ol.forEach(I_),al.forEach(I_)}function ua(t,e){t.blockedOn===e&&(t.blockedOn=null,hm||(hm=!0,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,Ik)))}function ll(t){function e(i){return ua(i,t)}if(0<Mu.length){ua(Mu[0],t);for(var n=1;n<Mu.length;n++){var r=Mu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ni!==null&&ua(ni,t),ri!==null&&ua(ri,t),ii!==null&&ua(ii,t),ol.forEach(e),al.forEach(e),n=0;n<Hr.length;n++)r=Hr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hr.length&&(n=Hr[0],n.blockedOn===null);)Wx(n),n.blockedOn===null&&Hr.shift()}var vo=kr.ReactCurrentBatchConfig,Hc=!0;function Ak(t,e,n,r){var i=de,s=vo.transition;vo.transition=null;try{de=1,fy(t,e,n,r)}finally{de=i,vo.transition=s}}function Pk(t,e,n,r){var i=de,s=vo.transition;vo.transition=null;try{de=4,fy(t,e,n,r)}finally{de=i,vo.transition=s}}function fy(t,e,n,r){if(Hc){var i=dm(t,e,n,r);if(i===null)Hf(t,e,r,qc,n),S_(t,r);else if(Sk(i,t,e,n,r))r.stopPropagation();else if(S_(t,r),e&4&&-1<xk.indexOf(t)){for(;i!==null;){var s=Xl(i);if(s!==null&&$x(s),s=dm(t,e,n,r),s===null&&Hf(t,e,r,qc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Hf(t,e,r,null,n)}}var qc=null;function dm(t,e,n,r){if(qc=null,t=uy(r),t=Ji(t),t!==null)if(e=Rs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Nx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qc=t,null}function Hx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pk()){case cy:return 1;case Vx:return 4;case zc:case mk:return 16;case Mx:return 536870912;default:return 16}default:return 16}}var Yr=null,py=null,wc=null;function qx(){if(wc)return wc;var t,e=py,n=e.length,r,i="value"in Yr?Yr.value:Yr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return wc=i.slice(t,1<r?1-r:void 0)}function Ec(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Lu(){return!0}function A_(){return!1}function ln(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Lu:A_,this.isPropagationStopped=A_,this}return Oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lu)},persist:function(){},isPersistent:Lu}),e}var Go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},my=ln(Go),Ql=Oe({},Go,{view:0,detail:0}),Ck=ln(Ql),Vf,Mf,ca,Zh=Oe({},Ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ca&&(ca&&t.type==="mousemove"?(Vf=t.screenX-ca.screenX,Mf=t.screenY-ca.screenY):Mf=Vf=0,ca=t),Vf)},movementY:function(t){return"movementY"in t?t.movementY:Mf}}),P_=ln(Zh),bk=Oe({},Zh,{dataTransfer:0}),Rk=ln(bk),kk=Oe({},Ql,{relatedTarget:0}),Lf=ln(kk),Nk=Oe({},Go,{animationName:0,elapsedTime:0,pseudoElement:0}),Dk=ln(Nk),Ok=Oe({},Go,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jk=ln(Ok),Vk=Oe({},Go,{data:0}),C_=ln(Vk),Mk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $k(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Fk[t])?!!e[t]:!1}function gy(){return $k}var Uk=Oe({},Ql,{key:function(t){if(t.key){var e=Mk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ec(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gy,charCode:function(t){return t.type==="keypress"?Ec(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ec(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Bk=ln(Uk),zk=Oe({},Zh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b_=ln(zk),Wk=Oe({},Ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gy}),Hk=ln(Wk),qk=Oe({},Go,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gk=ln(qk),Kk=Oe({},Zh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Qk=ln(Kk),Xk=[9,13,27,32],yy=Tr&&"CompositionEvent"in window,Va=null;Tr&&"documentMode"in document&&(Va=document.documentMode);var Yk=Tr&&"TextEvent"in window&&!Va,Gx=Tr&&(!yy||Va&&8<Va&&11>=Va),R_=" ",k_=!1;function Kx(t,e){switch(t){case"keyup":return Xk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Js=!1;function Jk(t,e){switch(t){case"compositionend":return Qx(e);case"keypress":return e.which!==32?null:(k_=!0,R_);case"textInput":return t=e.data,t===R_&&k_?null:t;default:return null}}function Zk(t,e){if(Js)return t==="compositionend"||!yy&&Kx(t,e)?(t=qx(),wc=py=Yr=null,Js=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Gx&&e.locale!=="ko"?null:e.data;default:return null}}var eN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!eN[t.type]:e==="textarea"}function Xx(t,e,n,r){Px(r),e=Gc(e,"onChange"),0<e.length&&(n=new my("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ma=null,ul=null;function tN(t){aS(t,0)}function ed(t){var e=to(t);if(wx(e))return t}function nN(t,e){if(t==="change")return e}var Yx=!1;if(Tr){var Ff;if(Tr){var $f="oninput"in document;if(!$f){var D_=document.createElement("div");D_.setAttribute("oninput","return;"),$f=typeof D_.oninput=="function"}Ff=$f}else Ff=!1;Yx=Ff&&(!document.documentMode||9<document.documentMode)}function O_(){Ma&&(Ma.detachEvent("onpropertychange",Jx),ul=Ma=null)}function Jx(t){if(t.propertyName==="value"&&ed(ul)){var e=[];Xx(e,ul,t,uy(t)),kx(tN,e)}}function rN(t,e,n){t==="focusin"?(O_(),Ma=e,ul=n,Ma.attachEvent("onpropertychange",Jx)):t==="focusout"&&O_()}function iN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ed(ul)}function sN(t,e){if(t==="click")return ed(e)}function oN(t,e){if(t==="input"||t==="change")return ed(e)}function aN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Cn=typeof Object.is=="function"?Object.is:aN;function cl(t,e){if(Cn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Kp.call(e,i)||!Cn(t[i],e[i]))return!1}return!0}function j_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function V_(t,e){var n=j_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=j_(n)}}function Zx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Zx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function eS(){for(var t=window,e=$c();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$c(t.document)}return e}function vy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function lN(t){var e=eS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Zx(n.ownerDocument.documentElement,n)){if(r!==null&&vy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=V_(n,s);var o=V_(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var uN=Tr&&"documentMode"in document&&11>=document.documentMode,Zs=null,fm=null,La=null,pm=!1;function M_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pm||Zs==null||Zs!==$c(r)||(r=Zs,"selectionStart"in r&&vy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),La&&cl(La,r)||(La=r,r=Gc(fm,"onSelect"),0<r.length&&(e=new my("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Zs)))}function Fu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var eo={animationend:Fu("Animation","AnimationEnd"),animationiteration:Fu("Animation","AnimationIteration"),animationstart:Fu("Animation","AnimationStart"),transitionend:Fu("Transition","TransitionEnd")},Uf={},tS={};Tr&&(tS=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function td(t){if(Uf[t])return Uf[t];if(!eo[t])return t;var e=eo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in tS)return Uf[t]=e[n];return t}var nS=td("animationend"),rS=td("animationiteration"),iS=td("animationstart"),sS=td("transitionend"),oS=new Map,L_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(t,e){oS.set(t,e),bs(e,[t])}for(var Bf=0;Bf<L_.length;Bf++){var zf=L_[Bf],cN=zf.toLowerCase(),hN=zf[0].toUpperCase()+zf.slice(1);Pi(cN,"on"+hN)}Pi(nS,"onAnimationEnd");Pi(rS,"onAnimationIteration");Pi(iS,"onAnimationStart");Pi("dblclick","onDoubleClick");Pi("focusin","onFocus");Pi("focusout","onBlur");Pi(sS,"onTransitionEnd");Ao("onMouseEnter",["mouseout","mouseover"]);Ao("onMouseLeave",["mouseout","mouseover"]);Ao("onPointerEnter",["pointerout","pointerover"]);Ao("onPointerLeave",["pointerout","pointerover"]);bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bs("onBeforeInput",["compositionend","keypress","textInput","paste"]);bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ia));function F_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ck(r,e,void 0,t),t.currentTarget=null}function aS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;F_(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;F_(i,a,u),s=l}}}if(Bc)throw t=um,Bc=!1,um=null,t}function Ee(t,e){var n=e[_m];n===void 0&&(n=e[_m]=new Set);var r=t+"__bubble";n.has(r)||(lS(e,t,2,!1),n.add(r))}function Wf(t,e,n){var r=0;e&&(r|=4),lS(n,t,r,e)}var $u="_reactListening"+Math.random().toString(36).slice(2);function hl(t){if(!t[$u]){t[$u]=!0,mx.forEach(function(n){n!=="selectionchange"&&(dN.has(n)||Wf(n,!1,t),Wf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$u]||(e[$u]=!0,Wf("selectionchange",!1,e))}}function lS(t,e,n,r){switch(Hx(e)){case 1:var i=Ak;break;case 4:i=Pk;break;default:i=fy}n=i.bind(null,e,n,t),i=void 0,!lm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Hf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ji(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}kx(function(){var u=s,c=uy(n),h=[];e:{var f=oS.get(t);if(f!==void 0){var p=my,g=t;switch(t){case"keypress":if(Ec(n)===0)break e;case"keydown":case"keyup":p=Bk;break;case"focusin":g="focus",p=Lf;break;case"focusout":g="blur",p=Lf;break;case"beforeblur":case"afterblur":p=Lf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=P_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Rk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Hk;break;case nS:case rS:case iS:p=Dk;break;case sS:p=Gk;break;case"scroll":p=Ck;break;case"wheel":p=Qk;break;case"copy":case"cut":case"paste":p=jk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=b_}var _=(e&4)!==0,w=!_&&t==="scroll",v=_?f!==null?f+"Capture":null:f;_=[];for(var m=u,y;m!==null;){y=m;var T=y.stateNode;if(y.tag===5&&T!==null&&(y=T,v!==null&&(T=sl(m,v),T!=null&&_.push(dl(m,T,y)))),w)break;m=m.return}0<_.length&&(f=new p(f,g,null,n,c),h.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==om&&(g=n.relatedTarget||n.fromElement)&&(Ji(g)||g[xr]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?Ji(g):null,g!==null&&(w=Rs(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(_=P_,T="onMouseLeave",v="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(_=b_,T="onPointerLeave",v="onPointerEnter",m="pointer"),w=p==null?f:to(p),y=g==null?f:to(g),f=new _(T,m+"leave",p,n,c),f.target=w,f.relatedTarget=y,T=null,Ji(c)===u&&(_=new _(v,m+"enter",g,n,c),_.target=y,_.relatedTarget=w,T=_),w=T,p&&g)t:{for(_=p,v=g,m=0,y=_;y;y=Ws(y))m++;for(y=0,T=v;T;T=Ws(T))y++;for(;0<m-y;)_=Ws(_),m--;for(;0<y-m;)v=Ws(v),y--;for(;m--;){if(_===v||v!==null&&_===v.alternate)break t;_=Ws(_),v=Ws(v)}_=null}else _=null;p!==null&&$_(h,f,p,_,!1),g!==null&&w!==null&&$_(h,w,g,_,!0)}}e:{if(f=u?to(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=nN;else if(N_(f))if(Yx)S=oN;else{S=iN;var x=rN}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=sN);if(S&&(S=S(t,u))){Xx(h,S,n,c);break e}x&&x(t,f,u),t==="focusout"&&(x=f._wrapperState)&&x.controlled&&f.type==="number"&&tm(f,"number",f.value)}switch(x=u?to(u):window,t){case"focusin":(N_(x)||x.contentEditable==="true")&&(Zs=x,fm=u,La=null);break;case"focusout":La=fm=Zs=null;break;case"mousedown":pm=!0;break;case"contextmenu":case"mouseup":case"dragend":pm=!1,M_(h,n,c);break;case"selectionchange":if(uN)break;case"keydown":case"keyup":M_(h,n,c)}var I;if(yy)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Js?Kx(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(Gx&&n.locale!=="ko"&&(Js||A!=="onCompositionStart"?A==="onCompositionEnd"&&Js&&(I=qx()):(Yr=c,py="value"in Yr?Yr.value:Yr.textContent,Js=!0)),x=Gc(u,A),0<x.length&&(A=new C_(A,t,null,n,c),h.push({event:A,listeners:x}),I?A.data=I:(I=Qx(n),I!==null&&(A.data=I)))),(I=Yk?Jk(t,n):Zk(t,n))&&(u=Gc(u,"onBeforeInput"),0<u.length&&(c=new C_("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=I))}aS(h,e)})}function dl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=sl(t,n),s!=null&&r.unshift(dl(t,s,i)),s=sl(t,e),s!=null&&r.push(dl(t,s,i))),t=t.return}return r}function Ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $_(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=sl(n,s),l!=null&&o.unshift(dl(n,l,a))):i||(l=sl(n,s),l!=null&&o.push(dl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var fN=/\r\n?/g,pN=/\u0000|\uFFFD/g;function U_(t){return(typeof t=="string"?t:""+t).replace(fN,`
`).replace(pN,"")}function Uu(t,e,n){if(e=U_(e),U_(t)!==e&&n)throw Error(N(425))}function Kc(){}var mm=null,gm=null;function ym(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vm=typeof setTimeout=="function"?setTimeout:void 0,mN=typeof clearTimeout=="function"?clearTimeout:void 0,B_=typeof Promise=="function"?Promise:void 0,gN=typeof queueMicrotask=="function"?queueMicrotask:typeof B_<"u"?function(t){return B_.resolve(null).then(t).catch(yN)}:vm;function yN(t){setTimeout(function(){throw t})}function qf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ll(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ll(e)}function si(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function z_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ko=Math.random().toString(36).slice(2),Ln="__reactFiber$"+Ko,fl="__reactProps$"+Ko,xr="__reactContainer$"+Ko,_m="__reactEvents$"+Ko,vN="__reactListeners$"+Ko,_N="__reactHandles$"+Ko;function Ji(t){var e=t[Ln];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xr]||n[Ln]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=z_(t);t!==null;){if(n=t[Ln])return n;t=z_(t)}return e}t=n,n=t.parentNode}return null}function Xl(t){return t=t[Ln]||t[xr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function to(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function nd(t){return t[fl]||null}var wm=[],no=-1;function Ci(t){return{current:t}}function Ie(t){0>no||(t.current=wm[no],wm[no]=null,no--)}function ye(t,e){no++,wm[no]=t.current,t.current=e}var vi={},Ct=Ci(vi),Kt=Ci(!1),fs=vi;function Po(t,e){var n=t.type.contextTypes;if(!n)return vi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Qt(t){return t=t.childContextTypes,t!=null}function Qc(){Ie(Kt),Ie(Ct)}function W_(t,e,n){if(Ct.current!==vi)throw Error(N(168));ye(Ct,e),ye(Kt,n)}function uS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(N(108,rk(t)||"Unknown",i));return Oe({},n,r)}function Xc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vi,fs=Ct.current,ye(Ct,t),ye(Kt,Kt.current),!0}function H_(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=uS(t,e,fs),r.__reactInternalMemoizedMergedChildContext=t,Ie(Kt),Ie(Ct),ye(Ct,t)):Ie(Kt),ye(Kt,n)}var cr=null,rd=!1,Gf=!1;function cS(t){cr===null?cr=[t]:cr.push(t)}function wN(t){rd=!0,cS(t)}function bi(){if(!Gf&&cr!==null){Gf=!0;var t=0,e=de;try{var n=cr;for(de=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}cr=null,rd=!1}catch(i){throw cr!==null&&(cr=cr.slice(t+1)),jx(cy,bi),i}finally{de=e,Gf=!1}}return null}var ro=[],io=0,Yc=null,Jc=0,dn=[],fn=0,ps=null,dr=1,fr="";function Wi(t,e){ro[io++]=Jc,ro[io++]=Yc,Yc=t,Jc=e}function hS(t,e,n){dn[fn++]=dr,dn[fn++]=fr,dn[fn++]=ps,ps=t;var r=dr;t=fr;var i=32-In(r)-1;r&=~(1<<i),n+=1;var s=32-In(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,dr=1<<32-In(e)+i|n<<i|r,fr=s+t}else dr=1<<s|n<<i|r,fr=t}function _y(t){t.return!==null&&(Wi(t,1),hS(t,1,0))}function wy(t){for(;t===Yc;)Yc=ro[--io],ro[io]=null,Jc=ro[--io],ro[io]=null;for(;t===ps;)ps=dn[--fn],dn[fn]=null,fr=dn[--fn],dn[fn]=null,dr=dn[--fn],dn[fn]=null}var nn=null,Zt=null,be=!1,Sn=null;function dS(t,e){var n=mn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function q_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,nn=t,Zt=si(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,nn=t,Zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ps!==null?{id:dr,overflow:fr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=mn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,nn=t,Zt=null,!0):!1;default:return!1}}function Em(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tm(t){if(be){var e=Zt;if(e){var n=e;if(!q_(t,e)){if(Em(t))throw Error(N(418));e=si(n.nextSibling);var r=nn;e&&q_(t,e)?dS(r,n):(t.flags=t.flags&-4097|2,be=!1,nn=t)}}else{if(Em(t))throw Error(N(418));t.flags=t.flags&-4097|2,be=!1,nn=t}}}function G_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nn=t}function Bu(t){if(t!==nn)return!1;if(!be)return G_(t),be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ym(t.type,t.memoizedProps)),e&&(e=Zt)){if(Em(t))throw fS(),Error(N(418));for(;e;)dS(t,e),e=si(e.nextSibling)}if(G_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zt=si(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zt=null}}else Zt=nn?si(t.stateNode.nextSibling):null;return!0}function fS(){for(var t=Zt;t;)t=si(t.nextSibling)}function Co(){Zt=nn=null,be=!1}function Ey(t){Sn===null?Sn=[t]:Sn.push(t)}var EN=kr.ReactCurrentBatchConfig;function Tn(t,e){if(t&&t.defaultProps){e=Oe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Zc=Ci(null),eh=null,so=null,Ty=null;function xy(){Ty=so=eh=null}function Sy(t){var e=Zc.current;Ie(Zc),t._currentValue=e}function xm(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _o(t,e){eh=t,Ty=so=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gt=!0),t.firstContext=null)}function yn(t){var e=t._currentValue;if(Ty!==t)if(t={context:t,memoizedValue:e,next:null},so===null){if(eh===null)throw Error(N(308));so=t,eh.dependencies={lanes:0,firstContext:t}}else so=so.next=t;return e}var Zi=null;function Iy(t){Zi===null?Zi=[t]:Zi.push(t)}function pS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Iy(e)):(n.next=i.next,i.next=n),e.interleaved=n,Sr(t,r)}function Sr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Br=!1;function Ay(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _r(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function oi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Sr(t,n)}return i=r.interleaved,i===null?(e.next=e,Iy(r)):(e.next=i.next,i.next=e),r.interleaved=e,Sr(t,n)}function Tc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hy(t,n)}}function K_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function th(t,e,n,r){var i=t.updateQueue;Br=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,_=a;switch(f=e,p=n,_.tag){case 1:if(g=_.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=Oe({},h,f);break e;case 2:Br=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);gs|=o,t.lanes=o,t.memoizedState=h}}function Q_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(N(191,i));i.call(r)}}}var gS=new px.Component().refs;function Sm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var id={isMounted:function(t){return(t=t._reactInternals)?Rs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=li(t),s=_r(r,i);s.payload=e,n!=null&&(s.callback=n),e=oi(t,s,i),e!==null&&(An(e,t,i,r),Tc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mt(),i=li(t),s=_r(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=oi(t,s,i),e!==null&&(An(e,t,i,r),Tc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mt(),r=li(t),i=_r(n,r);i.tag=2,e!=null&&(i.callback=e),e=oi(t,i,r),e!==null&&(An(e,t,r,n),Tc(e,t,r))}};function X_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!cl(n,r)||!cl(i,s):!0}function yS(t,e,n){var r=!1,i=vi,s=e.contextType;return typeof s=="object"&&s!==null?s=yn(s):(i=Qt(e)?fs:Ct.current,r=e.contextTypes,s=(r=r!=null)?Po(t,i):vi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=id,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Y_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&id.enqueueReplaceState(e,e.state,null)}function Im(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=gS,Ay(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=yn(s):(s=Qt(e)?fs:Ct.current,i.context=Po(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Sm(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&id.enqueueReplaceState(i,i.state,null),th(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ha(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===gS&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function zu(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function J_(t){var e=t._init;return e(t._payload)}function vS(t){function e(v,m){if(t){var y=v.deletions;y===null?(v.deletions=[m],v.flags|=16):y.push(m)}}function n(v,m){if(!t)return null;for(;m!==null;)e(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function i(v,m){return v=ui(v,m),v.index=0,v.sibling=null,v}function s(v,m,y){return v.index=y,t?(y=v.alternate,y!==null?(y=y.index,y<m?(v.flags|=2,m):y):(v.flags|=2,m)):(v.flags|=1048576,m)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,m,y,T){return m===null||m.tag!==6?(m=ep(y,v.mode,T),m.return=v,m):(m=i(m,y),m.return=v,m)}function l(v,m,y,T){var S=y.type;return S===Ys?c(v,m,y.props.children,T,y.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ur&&J_(S)===m.type)?(T=i(m,y.props),T.ref=ha(v,m,y),T.return=v,T):(T=Cc(y.type,y.key,y.props,null,v.mode,T),T.ref=ha(v,m,y),T.return=v,T)}function u(v,m,y,T){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=tp(y,v.mode,T),m.return=v,m):(m=i(m,y.children||[]),m.return=v,m)}function c(v,m,y,T,S){return m===null||m.tag!==7?(m=ls(y,v.mode,T,S),m.return=v,m):(m=i(m,y),m.return=v,m)}function h(v,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=ep(""+m,v.mode,y),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Nu:return y=Cc(m.type,m.key,m.props,null,v.mode,y),y.ref=ha(v,null,m),y.return=v,y;case Xs:return m=tp(m,v.mode,y),m.return=v,m;case Ur:var T=m._init;return h(v,T(m._payload),y)}if(xa(m)||oa(m))return m=ls(m,v.mode,y,null),m.return=v,m;zu(v,m)}return null}function f(v,m,y,T){var S=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:a(v,m,""+y,T);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Nu:return y.key===S?l(v,m,y,T):null;case Xs:return y.key===S?u(v,m,y,T):null;case Ur:return S=y._init,f(v,m,S(y._payload),T)}if(xa(y)||oa(y))return S!==null?null:c(v,m,y,T,null);zu(v,y)}return null}function p(v,m,y,T,S){if(typeof T=="string"&&T!==""||typeof T=="number")return v=v.get(y)||null,a(m,v,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Nu:return v=v.get(T.key===null?y:T.key)||null,l(m,v,T,S);case Xs:return v=v.get(T.key===null?y:T.key)||null,u(m,v,T,S);case Ur:var x=T._init;return p(v,m,y,x(T._payload),S)}if(xa(T)||oa(T))return v=v.get(y)||null,c(m,v,T,S,null);zu(m,T)}return null}function g(v,m,y,T){for(var S=null,x=null,I=m,A=m=0,C=null;I!==null&&A<y.length;A++){I.index>A?(C=I,I=null):C=I.sibling;var k=f(v,I,y[A],T);if(k===null){I===null&&(I=C);break}t&&I&&k.alternate===null&&e(v,I),m=s(k,m,A),x===null?S=k:x.sibling=k,x=k,I=C}if(A===y.length)return n(v,I),be&&Wi(v,A),S;if(I===null){for(;A<y.length;A++)I=h(v,y[A],T),I!==null&&(m=s(I,m,A),x===null?S=I:x.sibling=I,x=I);return be&&Wi(v,A),S}for(I=r(v,I);A<y.length;A++)C=p(I,v,A,y[A],T),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?A:C.key),m=s(C,m,A),x===null?S=C:x.sibling=C,x=C);return t&&I.forEach(function($){return e(v,$)}),be&&Wi(v,A),S}function _(v,m,y,T){var S=oa(y);if(typeof S!="function")throw Error(N(150));if(y=S.call(y),y==null)throw Error(N(151));for(var x=S=null,I=m,A=m=0,C=null,k=y.next();I!==null&&!k.done;A++,k=y.next()){I.index>A?(C=I,I=null):C=I.sibling;var $=f(v,I,k.value,T);if($===null){I===null&&(I=C);break}t&&I&&$.alternate===null&&e(v,I),m=s($,m,A),x===null?S=$:x.sibling=$,x=$,I=C}if(k.done)return n(v,I),be&&Wi(v,A),S;if(I===null){for(;!k.done;A++,k=y.next())k=h(v,k.value,T),k!==null&&(m=s(k,m,A),x===null?S=k:x.sibling=k,x=k);return be&&Wi(v,A),S}for(I=r(v,I);!k.done;A++,k=y.next())k=p(I,v,A,k.value,T),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?A:k.key),m=s(k,m,A),x===null?S=k:x.sibling=k,x=k);return t&&I.forEach(function(se){return e(v,se)}),be&&Wi(v,A),S}function w(v,m,y,T){if(typeof y=="object"&&y!==null&&y.type===Ys&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Nu:e:{for(var S=y.key,x=m;x!==null;){if(x.key===S){if(S=y.type,S===Ys){if(x.tag===7){n(v,x.sibling),m=i(x,y.props.children),m.return=v,v=m;break e}}else if(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ur&&J_(S)===x.type){n(v,x.sibling),m=i(x,y.props),m.ref=ha(v,x,y),m.return=v,v=m;break e}n(v,x);break}else e(v,x);x=x.sibling}y.type===Ys?(m=ls(y.props.children,v.mode,T,y.key),m.return=v,v=m):(T=Cc(y.type,y.key,y.props,null,v.mode,T),T.ref=ha(v,m,y),T.return=v,v=T)}return o(v);case Xs:e:{for(x=y.key;m!==null;){if(m.key===x)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(v,m.sibling),m=i(m,y.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else e(v,m);m=m.sibling}m=tp(y,v.mode,T),m.return=v,v=m}return o(v);case Ur:return x=y._init,w(v,m,x(y._payload),T)}if(xa(y))return g(v,m,y,T);if(oa(y))return _(v,m,y,T);zu(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(v,m.sibling),m=i(m,y),m.return=v,v=m):(n(v,m),m=ep(y,v.mode,T),m.return=v,v=m),o(v)):n(v,m)}return w}var bo=vS(!0),_S=vS(!1),Yl={},Hn=Ci(Yl),pl=Ci(Yl),ml=Ci(Yl);function es(t){if(t===Yl)throw Error(N(174));return t}function Py(t,e){switch(ye(ml,e),ye(pl,t),ye(Hn,Yl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rm(e,t)}Ie(Hn),ye(Hn,e)}function Ro(){Ie(Hn),Ie(pl),Ie(ml)}function wS(t){es(ml.current);var e=es(Hn.current),n=rm(e,t.type);e!==n&&(ye(pl,t),ye(Hn,n))}function Cy(t){pl.current===t&&(Ie(Hn),Ie(pl))}var ke=Ci(0);function nh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kf=[];function by(){for(var t=0;t<Kf.length;t++)Kf[t]._workInProgressVersionPrimary=null;Kf.length=0}var xc=kr.ReactCurrentDispatcher,Qf=kr.ReactCurrentBatchConfig,ms=0,De=null,Ye=null,nt=null,rh=!1,Fa=!1,gl=0,TN=0;function _t(){throw Error(N(321))}function Ry(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Cn(t[n],e[n]))return!1;return!0}function ky(t,e,n,r,i,s){if(ms=s,De=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xc.current=t===null||t.memoizedState===null?AN:PN,t=n(r,i),Fa){s=0;do{if(Fa=!1,gl=0,25<=s)throw Error(N(301));s+=1,nt=Ye=null,e.updateQueue=null,xc.current=CN,t=n(r,i)}while(Fa)}if(xc.current=ih,e=Ye!==null&&Ye.next!==null,ms=0,nt=Ye=De=null,rh=!1,e)throw Error(N(300));return t}function Ny(){var t=gl!==0;return gl=0,t}function On(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?De.memoizedState=nt=t:nt=nt.next=t,nt}function vn(){if(Ye===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var e=nt===null?De.memoizedState:nt.next;if(e!==null)nt=e,Ye=t;else{if(t===null)throw Error(N(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},nt===null?De.memoizedState=nt=t:nt=nt.next=t}return nt}function yl(t,e){return typeof e=="function"?e(t):e}function Xf(t){var e=vn(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=Ye,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((ms&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,De.lanes|=c,gs|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Cn(r,e.memoizedState)||(Gt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,De.lanes|=s,gs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Yf(t){var e=vn(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Cn(s,e.memoizedState)||(Gt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function ES(){}function TS(t,e){var n=De,r=vn(),i=e(),s=!Cn(r.memoizedState,i);if(s&&(r.memoizedState=i,Gt=!0),r=r.queue,Dy(IS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||nt!==null&&nt.memoizedState.tag&1){if(n.flags|=2048,vl(9,SS.bind(null,n,r,i,e),void 0,null),it===null)throw Error(N(349));ms&30||xS(n,e,i)}return i}function xS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function SS(t,e,n,r){e.value=n,e.getSnapshot=r,AS(e)&&PS(t)}function IS(t,e,n){return n(function(){AS(e)&&PS(t)})}function AS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Cn(t,n)}catch{return!0}}function PS(t){var e=Sr(t,1);e!==null&&An(e,t,1,-1)}function Z_(t){var e=On();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yl,lastRenderedState:t},e.queue=t,t=t.dispatch=IN.bind(null,De,t),[e.memoizedState,t]}function vl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=De.updateQueue,e===null?(e={lastEffect:null,stores:null},De.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function CS(){return vn().memoizedState}function Sc(t,e,n,r){var i=On();De.flags|=t,i.memoizedState=vl(1|e,n,void 0,r===void 0?null:r)}function sd(t,e,n,r){var i=vn();r=r===void 0?null:r;var s=void 0;if(Ye!==null){var o=Ye.memoizedState;if(s=o.destroy,r!==null&&Ry(r,o.deps)){i.memoizedState=vl(e,n,s,r);return}}De.flags|=t,i.memoizedState=vl(1|e,n,s,r)}function ew(t,e){return Sc(8390656,8,t,e)}function Dy(t,e){return sd(2048,8,t,e)}function bS(t,e){return sd(4,2,t,e)}function RS(t,e){return sd(4,4,t,e)}function kS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function NS(t,e,n){return n=n!=null?n.concat([t]):null,sd(4,4,kS.bind(null,e,t),n)}function Oy(){}function DS(t,e){var n=vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ry(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function OS(t,e){var n=vn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ry(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function jS(t,e,n){return ms&21?(Cn(n,e)||(n=Lx(),De.lanes|=n,gs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gt=!0),t.memoizedState=n)}function xN(t,e){var n=de;de=n!==0&&4>n?n:4,t(!0);var r=Qf.transition;Qf.transition={};try{t(!1),e()}finally{de=n,Qf.transition=r}}function VS(){return vn().memoizedState}function SN(t,e,n){var r=li(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},MS(t))LS(e,n);else if(n=pS(t,e,n,r),n!==null){var i=Mt();An(n,t,r,i),FS(n,e,r)}}function IN(t,e,n){var r=li(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(MS(t))LS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Cn(a,o)){var l=e.interleaved;l===null?(i.next=i,Iy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=pS(t,e,i,r),n!==null&&(i=Mt(),An(n,t,r,i),FS(n,e,r))}}function MS(t){var e=t.alternate;return t===De||e!==null&&e===De}function LS(t,e){Fa=rh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function FS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hy(t,n)}}var ih={readContext:yn,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},AN={readContext:yn,useCallback:function(t,e){return On().memoizedState=[t,e===void 0?null:e],t},useContext:yn,useEffect:ew,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Sc(4194308,4,kS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Sc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Sc(4,2,t,e)},useMemo:function(t,e){var n=On();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=On();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=SN.bind(null,De,t),[r.memoizedState,t]},useRef:function(t){var e=On();return t={current:t},e.memoizedState=t},useState:Z_,useDebugValue:Oy,useDeferredValue:function(t){return On().memoizedState=t},useTransition:function(){var t=Z_(!1),e=t[0];return t=xN.bind(null,t[1]),On().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=De,i=On();if(be){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),it===null)throw Error(N(349));ms&30||xS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,ew(IS.bind(null,r,s,t),[t]),r.flags|=2048,vl(9,SS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=On(),e=it.identifierPrefix;if(be){var n=fr,r=dr;n=(r&~(1<<32-In(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=gl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=TN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},PN={readContext:yn,useCallback:DS,useContext:yn,useEffect:Dy,useImperativeHandle:NS,useInsertionEffect:bS,useLayoutEffect:RS,useMemo:OS,useReducer:Xf,useRef:CS,useState:function(){return Xf(yl)},useDebugValue:Oy,useDeferredValue:function(t){var e=vn();return jS(e,Ye.memoizedState,t)},useTransition:function(){var t=Xf(yl)[0],e=vn().memoizedState;return[t,e]},useMutableSource:ES,useSyncExternalStore:TS,useId:VS,unstable_isNewReconciler:!1},CN={readContext:yn,useCallback:DS,useContext:yn,useEffect:Dy,useImperativeHandle:NS,useInsertionEffect:bS,useLayoutEffect:RS,useMemo:OS,useReducer:Yf,useRef:CS,useState:function(){return Yf(yl)},useDebugValue:Oy,useDeferredValue:function(t){var e=vn();return Ye===null?e.memoizedState=t:jS(e,Ye.memoizedState,t)},useTransition:function(){var t=Yf(yl)[0],e=vn().memoizedState;return[t,e]},useMutableSource:ES,useSyncExternalStore:TS,useId:VS,unstable_isNewReconciler:!1};function ko(t,e){try{var n="",r=e;do n+=nk(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Jf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Am(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var bN=typeof WeakMap=="function"?WeakMap:Map;function $S(t,e,n){n=_r(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){oh||(oh=!0,Vm=r),Am(t,e)},n}function US(t,e,n){n=_r(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Am(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Am(t,e),typeof r!="function"&&(ai===null?ai=new Set([this]):ai.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function tw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new bN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=zN.bind(null,t,e,n),e.then(t,t))}function nw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rw(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_r(-1,1),e.tag=2,oi(n,e,1))),n.lanes|=1),t)}var RN=kr.ReactCurrentOwner,Gt=!1;function Ot(t,e,n,r){e.child=t===null?_S(e,null,n,r):bo(e,t.child,n,r)}function iw(t,e,n,r,i){n=n.render;var s=e.ref;return _o(e,i),r=ky(t,e,n,r,s,i),n=Ny(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ir(t,e,i)):(be&&n&&_y(e),e.flags|=1,Ot(t,e,r,i),e.child)}function sw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!By(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,BS(t,e,s,r,i)):(t=Cc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:cl,n(o,r)&&t.ref===e.ref)return Ir(t,e,i)}return e.flags|=1,t=ui(s,r),t.ref=e.ref,t.return=e,e.child=t}function BS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(cl(s,r)&&t.ref===e.ref)if(Gt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Gt=!0);else return e.lanes=t.lanes,Ir(t,e,i)}return Pm(t,e,n,r,i)}function zS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(ao,Jt),Jt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ye(ao,Jt),Jt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ye(ao,Jt),Jt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ye(ao,Jt),Jt|=r;return Ot(t,e,i,n),e.child}function WS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Pm(t,e,n,r,i){var s=Qt(n)?fs:Ct.current;return s=Po(e,s),_o(e,i),n=ky(t,e,n,r,s,i),r=Ny(),t!==null&&!Gt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ir(t,e,i)):(be&&r&&_y(e),e.flags|=1,Ot(t,e,n,i),e.child)}function ow(t,e,n,r,i){if(Qt(n)){var s=!0;Xc(e)}else s=!1;if(_o(e,i),e.stateNode===null)Ic(t,e),yS(e,n,r),Im(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=yn(u):(u=Qt(n)?fs:Ct.current,u=Po(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Y_(e,o,r,u),Br=!1;var f=e.memoizedState;o.state=f,th(e,r,o,i),l=e.memoizedState,a!==r||f!==l||Kt.current||Br?(typeof c=="function"&&(Sm(e,n,c,r),l=e.memoizedState),(a=Br||X_(e,n,a,r,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,mS(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Tn(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=yn(l):(l=Qt(n)?fs:Ct.current,l=Po(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Y_(e,o,r,l),Br=!1,f=e.memoizedState,o.state=f,th(e,r,o,i);var g=e.memoizedState;a!==h||f!==g||Kt.current||Br?(typeof p=="function"&&(Sm(e,n,p,r),g=e.memoizedState),(u=Br||X_(e,n,u,r,f,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Cm(t,e,n,r,s,i)}function Cm(t,e,n,r,i,s){WS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&H_(e,n,!1),Ir(t,e,s);r=e.stateNode,RN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=bo(e,t.child,null,s),e.child=bo(e,null,a,s)):Ot(t,e,a,s),e.memoizedState=r.state,i&&H_(e,n,!0),e.child}function HS(t){var e=t.stateNode;e.pendingContext?W_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&W_(t,e.context,!1),Py(t,e.containerInfo)}function aw(t,e,n,r,i){return Co(),Ey(i),e.flags|=256,Ot(t,e,n,r),e.child}var bm={dehydrated:null,treeContext:null,retryLane:0};function Rm(t){return{baseLanes:t,cachePool:null,transitions:null}}function qS(t,e,n){var r=e.pendingProps,i=ke.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ye(ke,i&1),t===null)return Tm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ld(o,r,0,null),t=ls(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Rm(n),e.memoizedState=bm,t):jy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return kN(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ui(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ui(a,s):(s=ls(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Rm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=bm,r}return s=t.child,t=s.sibling,r=ui(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function jy(t,e){return e=ld({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wu(t,e,n,r){return r!==null&&Ey(r),bo(e,t.child,null,n),t=jy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kN(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Jf(Error(N(422))),Wu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ld({mode:"visible",children:r.children},i,0,null),s=ls(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&bo(e,t.child,null,o),e.child.memoizedState=Rm(o),e.memoizedState=bm,s);if(!(e.mode&1))return Wu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(N(419)),r=Jf(s,r,void 0),Wu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Gt||a){if(r=it,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Sr(t,i),An(r,t,i,-1))}return Uy(),r=Jf(Error(N(421))),Wu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=WN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Zt=si(i.nextSibling),nn=e,be=!0,Sn=null,t!==null&&(dn[fn++]=dr,dn[fn++]=fr,dn[fn++]=ps,dr=t.id,fr=t.overflow,ps=e),e=jy(e,r.children),e.flags|=4096,e)}function lw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xm(t.return,e,n)}function Zf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function GS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ot(t,e,r.children,n),r=ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lw(t,n,e);else if(t.tag===19)lw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ye(ke,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&nh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Zf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&nh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Zf(e,!0,n,null,s);break;case"together":Zf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ic(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ir(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),gs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=ui(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ui(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function NN(t,e,n){switch(e.tag){case 3:HS(e),Co();break;case 5:wS(e);break;case 1:Qt(e.type)&&Xc(e);break;case 4:Py(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ye(Zc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ye(ke,ke.current&1),e.flags|=128,null):n&e.child.childLanes?qS(t,e,n):(ye(ke,ke.current&1),t=Ir(t,e,n),t!==null?t.sibling:null);ye(ke,ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return GS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ye(ke,ke.current),r)break;return null;case 22:case 23:return e.lanes=0,zS(t,e,n)}return Ir(t,e,n)}var KS,km,QS,XS;KS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};km=function(){};QS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,es(Hn.current);var s=null;switch(n){case"input":i=Zp(t,i),r=Zp(t,r),s=[];break;case"select":i=Oe({},i,{value:void 0}),r=Oe({},r,{value:void 0}),s=[];break;case"textarea":i=nm(t,i),r=nm(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Kc)}im(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(rl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(rl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ee("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};XS=function(t,e,n,r){n!==r&&(e.flags|=4)};function da(t,e){if(!be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function DN(t,e,n){var r=e.pendingProps;switch(wy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(e),null;case 1:return Qt(e.type)&&Qc(),wt(e),null;case 3:return r=e.stateNode,Ro(),Ie(Kt),Ie(Ct),by(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Bu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Sn!==null&&(Fm(Sn),Sn=null))),km(t,e),wt(e),null;case 5:Cy(e);var i=es(ml.current);if(n=e.type,t!==null&&e.stateNode!=null)QS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return wt(e),null}if(t=es(Hn.current),Bu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ln]=e,r[fl]=s,t=(e.mode&1)!==0,n){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(i=0;i<Ia.length;i++)Ee(Ia[i],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":y_(r,s),Ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ee("invalid",r);break;case"textarea":__(r,s),Ee("invalid",r)}im(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Uu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Uu(r.textContent,a,t),i=["children",""+a]):rl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ee("scroll",r)}switch(n){case"input":Du(r),v_(r,s,!0);break;case"textarea":Du(r),w_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Kc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ln]=e,t[fl]=r,KS(t,e,!1,!1),e.stateNode=t;e:{switch(o=sm(n,r),n){case"dialog":Ee("cancel",t),Ee("close",t),i=r;break;case"iframe":case"object":case"embed":Ee("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ia.length;i++)Ee(Ia[i],t);i=r;break;case"source":Ee("error",t),i=r;break;case"img":case"image":case"link":Ee("error",t),Ee("load",t),i=r;break;case"details":Ee("toggle",t),i=r;break;case"input":y_(t,r),i=Zp(t,r),Ee("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Oe({},r,{value:void 0}),Ee("invalid",t);break;case"textarea":__(t,r),i=nm(t,r),Ee("invalid",t);break;default:i=r}im(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Ax(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Sx(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&il(t,l):typeof l=="number"&&il(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(rl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ee("scroll",t):l!=null&&sy(t,s,l,o))}switch(n){case"input":Du(t),v_(t,r,!1);break;case"textarea":Du(t),w_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+yi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?mo(t,!!r.multiple,s,!1):r.defaultValue!=null&&mo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Kc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wt(e),null;case 6:if(t&&e.stateNode!=null)XS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=es(ml.current),es(Hn.current),Bu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ln]=e,(s=r.nodeValue!==n)&&(t=nn,t!==null))switch(t.tag){case 3:Uu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Uu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ln]=e,e.stateNode=r}return wt(e),null;case 13:if(Ie(ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(be&&Zt!==null&&e.mode&1&&!(e.flags&128))fS(),Co(),e.flags|=98560,s=!1;else if(s=Bu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(N(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(N(317));s[Ln]=e}else Co(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wt(e),s=!1}else Sn!==null&&(Fm(Sn),Sn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ke.current&1?Je===0&&(Je=3):Uy())),e.updateQueue!==null&&(e.flags|=4),wt(e),null);case 4:return Ro(),km(t,e),t===null&&hl(e.stateNode.containerInfo),wt(e),null;case 10:return Sy(e.type._context),wt(e),null;case 17:return Qt(e.type)&&Qc(),wt(e),null;case 19:if(Ie(ke),s=e.memoizedState,s===null)return wt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)da(s,!1);else{if(Je!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=nh(t),o!==null){for(e.flags|=128,da(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ye(ke,ke.current&1|2),e.child}t=t.sibling}s.tail!==null&&Be()>No&&(e.flags|=128,r=!0,da(s,!1),e.lanes=4194304)}else{if(!r)if(t=nh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),da(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!be)return wt(e),null}else 2*Be()-s.renderingStartTime>No&&n!==1073741824&&(e.flags|=128,r=!0,da(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Be(),e.sibling=null,n=ke.current,ye(ke,r?n&1|2:n&1),e):(wt(e),null);case 22:case 23:return $y(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Jt&1073741824&&(wt(e),e.subtreeFlags&6&&(e.flags|=8192)):wt(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function ON(t,e){switch(wy(e),e.tag){case 1:return Qt(e.type)&&Qc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ro(),Ie(Kt),Ie(Ct),by(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cy(e),null;case 13:if(Ie(ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));Co()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ie(ke),null;case 4:return Ro(),null;case 10:return Sy(e.type._context),null;case 22:case 23:return $y(),null;case 24:return null;default:return null}}var Hu=!1,St=!1,jN=typeof WeakSet=="function"?WeakSet:Set,L=null;function oo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ve(t,e,r)}else n.current=null}function Nm(t,e,n){try{n()}catch(r){Ve(t,e,r)}}var uw=!1;function VN(t,e){if(mm=Hc,t=eS(),vy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++c===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gm={focusedElem:t,selectionRange:n},Hc=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,w=g.memoizedState,v=e.stateNode,m=v.getSnapshotBeforeUpdate(e.elementType===e.type?_:Tn(e.type,_),w);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(T){Ve(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return g=uw,uw=!1,g}function $a(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Nm(e,n,s)}i=i.next}while(i!==r)}}function od(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Dm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function YS(t){var e=t.alternate;e!==null&&(t.alternate=null,YS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ln],delete e[fl],delete e[_m],delete e[vN],delete e[_N])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function JS(t){return t.tag===5||t.tag===3||t.tag===4}function cw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||JS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Om(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Kc));else if(r!==4&&(t=t.child,t!==null))for(Om(t,e,n),t=t.sibling;t!==null;)Om(t,e,n),t=t.sibling}function jm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(jm(t,e,n),t=t.sibling;t!==null;)jm(t,e,n),t=t.sibling}var ut=null,xn=!1;function Mr(t,e,n){for(n=n.child;n!==null;)ZS(t,e,n),n=n.sibling}function ZS(t,e,n){if(Wn&&typeof Wn.onCommitFiberUnmount=="function")try{Wn.onCommitFiberUnmount(Jh,n)}catch{}switch(n.tag){case 5:St||oo(n,e);case 6:var r=ut,i=xn;ut=null,Mr(t,e,n),ut=r,xn=i,ut!==null&&(xn?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(xn?(t=ut,n=n.stateNode,t.nodeType===8?qf(t.parentNode,n):t.nodeType===1&&qf(t,n),ll(t)):qf(ut,n.stateNode));break;case 4:r=ut,i=xn,ut=n.stateNode.containerInfo,xn=!0,Mr(t,e,n),ut=r,xn=i;break;case 0:case 11:case 14:case 15:if(!St&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Nm(n,e,o),i=i.next}while(i!==r)}Mr(t,e,n);break;case 1:if(!St&&(oo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ve(n,e,a)}Mr(t,e,n);break;case 21:Mr(t,e,n);break;case 22:n.mode&1?(St=(r=St)||n.memoizedState!==null,Mr(t,e,n),St=r):Mr(t,e,n);break;default:Mr(t,e,n)}}function hw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new jN),e.forEach(function(r){var i=HN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function wn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ut=a.stateNode,xn=!1;break e;case 3:ut=a.stateNode.containerInfo,xn=!0;break e;case 4:ut=a.stateNode.containerInfo,xn=!0;break e}a=a.return}if(ut===null)throw Error(N(160));ZS(s,o,i),ut=null,xn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ve(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)eI(e,t),e=e.sibling}function eI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wn(e,t),Dn(t),r&4){try{$a(3,t,t.return),od(3,t)}catch(_){Ve(t,t.return,_)}try{$a(5,t,t.return)}catch(_){Ve(t,t.return,_)}}break;case 1:wn(e,t),Dn(t),r&512&&n!==null&&oo(n,n.return);break;case 5:if(wn(e,t),Dn(t),r&512&&n!==null&&oo(n,n.return),t.flags&32){var i=t.stateNode;try{il(i,"")}catch(_){Ve(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Ex(i,s),sm(a,o);var u=sm(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?Ax(i,h):c==="dangerouslySetInnerHTML"?Sx(i,h):c==="children"?il(i,h):sy(i,c,h,u)}switch(a){case"input":em(i,s);break;case"textarea":Tx(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?mo(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?mo(i,!!s.multiple,s.defaultValue,!0):mo(i,!!s.multiple,s.multiple?[]:"",!1))}i[fl]=s}catch(_){Ve(t,t.return,_)}}break;case 6:if(wn(e,t),Dn(t),r&4){if(t.stateNode===null)throw Error(N(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){Ve(t,t.return,_)}}break;case 3:if(wn(e,t),Dn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ll(e.containerInfo)}catch(_){Ve(t,t.return,_)}break;case 4:wn(e,t),Dn(t);break;case 13:wn(e,t),Dn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ly=Be())),r&4&&hw(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(St=(u=St)||c,wn(e,t),St=u):wn(e,t),Dn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(L=t,c=t.child;c!==null;){for(h=L=c;L!==null;){switch(f=L,p=f.child,f.tag){case 0:case 11:case 14:case 15:$a(4,f,f.return);break;case 1:oo(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(_){Ve(r,n,_)}}break;case 5:oo(f,f.return);break;case 22:if(f.memoizedState!==null){fw(h);continue}}p!==null?(p.return=f,L=p):fw(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ix("display",o))}catch(_){Ve(t,t.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Ve(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wn(e,t),Dn(t),r&4&&hw(t);break;case 21:break;default:wn(e,t),Dn(t)}}function Dn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(JS(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(il(i,""),r.flags&=-33);var s=cw(t);jm(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=cw(t);Om(t,a,o);break;default:throw Error(N(161))}}catch(l){Ve(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MN(t,e,n){L=t,tI(t)}function tI(t,e,n){for(var r=(t.mode&1)!==0;L!==null;){var i=L,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Hu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||St;a=Hu;var u=St;if(Hu=o,(St=l)&&!u)for(L=i;L!==null;)o=L,l=o.child,o.tag===22&&o.memoizedState!==null?pw(i):l!==null?(l.return=o,L=l):pw(i);for(;s!==null;)L=s,tI(s),s=s.sibling;L=i,Hu=a,St=u}dw(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,L=s):dw(t)}}function dw(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:St||od(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!St)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Tn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Q_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Q_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ll(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}St||e.flags&512&&Dm(e)}catch(f){Ve(e,e.return,f)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function fw(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function pw(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{od(4,e)}catch(l){Ve(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ve(e,i,l)}}var s=e.return;try{Dm(e)}catch(l){Ve(e,s,l)}break;case 5:var o=e.return;try{Dm(e)}catch(l){Ve(e,o,l)}}}catch(l){Ve(e,e.return,l)}if(e===t){L=null;break}var a=e.sibling;if(a!==null){a.return=e.return,L=a;break}L=e.return}}var LN=Math.ceil,sh=kr.ReactCurrentDispatcher,Vy=kr.ReactCurrentOwner,gn=kr.ReactCurrentBatchConfig,le=0,it=null,Ge=null,pt=0,Jt=0,ao=Ci(0),Je=0,_l=null,gs=0,ad=0,My=0,Ua=null,Wt=null,Ly=0,No=1/0,ur=null,oh=!1,Vm=null,ai=null,qu=!1,Jr=null,ah=0,Ba=0,Mm=null,Ac=-1,Pc=0;function Mt(){return le&6?Be():Ac!==-1?Ac:Ac=Be()}function li(t){return t.mode&1?le&2&&pt!==0?pt&-pt:EN.transition!==null?(Pc===0&&(Pc=Lx()),Pc):(t=de,t!==0||(t=window.event,t=t===void 0?16:Hx(t.type)),t):1}function An(t,e,n,r){if(50<Ba)throw Ba=0,Mm=null,Error(N(185));Kl(t,n,r),(!(le&2)||t!==it)&&(t===it&&(!(le&2)&&(ad|=n),Je===4&&qr(t,pt)),Xt(t,r),n===1&&le===0&&!(e.mode&1)&&(No=Be()+500,rd&&bi()))}function Xt(t,e){var n=t.callbackNode;Ek(t,e);var r=Wc(t,t===it?pt:0);if(r===0)n!==null&&x_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&x_(n),e===1)t.tag===0?wN(mw.bind(null,t)):cS(mw.bind(null,t)),gN(function(){!(le&6)&&bi()}),n=null;else{switch(Fx(r)){case 1:n=cy;break;case 4:n=Vx;break;case 16:n=zc;break;case 536870912:n=Mx;break;default:n=zc}n=uI(n,nI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function nI(t,e){if(Ac=-1,Pc=0,le&6)throw Error(N(327));var n=t.callbackNode;if(wo()&&t.callbackNode!==n)return null;var r=Wc(t,t===it?pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=lh(t,r);else{e=r;var i=le;le|=2;var s=iI();(it!==t||pt!==e)&&(ur=null,No=Be()+500,as(t,e));do try{UN();break}catch(a){rI(t,a)}while(!0);xy(),sh.current=s,le=i,Ge!==null?e=0:(it=null,pt=0,e=Je)}if(e!==0){if(e===2&&(i=cm(t),i!==0&&(r=i,e=Lm(t,i))),e===1)throw n=_l,as(t,0),qr(t,r),Xt(t,Be()),n;if(e===6)qr(t,r);else{if(i=t.current.alternate,!(r&30)&&!FN(i)&&(e=lh(t,r),e===2&&(s=cm(t),s!==0&&(r=s,e=Lm(t,s))),e===1))throw n=_l,as(t,0),qr(t,r),Xt(t,Be()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:Hi(t,Wt,ur);break;case 3:if(qr(t,r),(r&130023424)===r&&(e=Ly+500-Be(),10<e)){if(Wc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Mt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=vm(Hi.bind(null,t,Wt,ur),e);break}Hi(t,Wt,ur);break;case 4:if(qr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-In(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LN(r/1960))-r,10<r){t.timeoutHandle=vm(Hi.bind(null,t,Wt,ur),r);break}Hi(t,Wt,ur);break;case 5:Hi(t,Wt,ur);break;default:throw Error(N(329))}}}return Xt(t,Be()),t.callbackNode===n?nI.bind(null,t):null}function Lm(t,e){var n=Ua;return t.current.memoizedState.isDehydrated&&(as(t,e).flags|=256),t=lh(t,e),t!==2&&(e=Wt,Wt=n,e!==null&&Fm(e)),t}function Fm(t){Wt===null?Wt=t:Wt.push.apply(Wt,t)}function FN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Cn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qr(t,e){for(e&=~My,e&=~ad,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-In(e),r=1<<n;t[n]=-1,e&=~r}}function mw(t){if(le&6)throw Error(N(327));wo();var e=Wc(t,0);if(!(e&1))return Xt(t,Be()),null;var n=lh(t,e);if(t.tag!==0&&n===2){var r=cm(t);r!==0&&(e=r,n=Lm(t,r))}if(n===1)throw n=_l,as(t,0),qr(t,e),Xt(t,Be()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hi(t,Wt,ur),Xt(t,Be()),null}function Fy(t,e){var n=le;le|=1;try{return t(e)}finally{le=n,le===0&&(No=Be()+500,rd&&bi())}}function ys(t){Jr!==null&&Jr.tag===0&&!(le&6)&&wo();var e=le;le|=1;var n=gn.transition,r=de;try{if(gn.transition=null,de=1,t)return t()}finally{de=r,gn.transition=n,le=e,!(le&6)&&bi()}}function $y(){Jt=ao.current,Ie(ao)}function as(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,mN(n)),Ge!==null)for(n=Ge.return;n!==null;){var r=n;switch(wy(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Qc();break;case 3:Ro(),Ie(Kt),Ie(Ct),by();break;case 5:Cy(r);break;case 4:Ro();break;case 13:Ie(ke);break;case 19:Ie(ke);break;case 10:Sy(r.type._context);break;case 22:case 23:$y()}n=n.return}if(it=t,Ge=t=ui(t.current,null),pt=Jt=e,Je=0,_l=null,My=ad=gs=0,Wt=Ua=null,Zi!==null){for(e=0;e<Zi.length;e++)if(n=Zi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Zi=null}return t}function rI(t,e){do{var n=Ge;try{if(xy(),xc.current=ih,rh){for(var r=De.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}rh=!1}if(ms=0,nt=Ye=De=null,Fa=!1,gl=0,Vy.current=null,n===null||n.return===null){Je=1,_l=e,Ge=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=nw(o);if(p!==null){p.flags&=-257,rw(p,o,a,s,e),p.mode&1&&tw(s,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var _=new Set;_.add(l),e.updateQueue=_}else g.add(l);break e}else{if(!(e&1)){tw(s,u,e),Uy();break e}l=Error(N(426))}}else if(be&&a.mode&1){var w=nw(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),rw(w,o,a,s,e),Ey(ko(l,a));break e}}s=l=ko(l,a),Je!==4&&(Je=2),Ua===null?Ua=[s]:Ua.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=$S(s,l,e);K_(s,v);break e;case 1:a=l;var m=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ai===null||!ai.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=US(s,a,e);K_(s,T);break e}}s=s.return}while(s!==null)}oI(n)}catch(S){e=S,Ge===n&&n!==null&&(Ge=n=n.return);continue}break}while(!0)}function iI(){var t=sh.current;return sh.current=ih,t===null?ih:t}function Uy(){(Je===0||Je===3||Je===2)&&(Je=4),it===null||!(gs&268435455)&&!(ad&268435455)||qr(it,pt)}function lh(t,e){var n=le;le|=2;var r=iI();(it!==t||pt!==e)&&(ur=null,as(t,e));do try{$N();break}catch(i){rI(t,i)}while(!0);if(xy(),le=n,sh.current=r,Ge!==null)throw Error(N(261));return it=null,pt=0,Je}function $N(){for(;Ge!==null;)sI(Ge)}function UN(){for(;Ge!==null&&!dk();)sI(Ge)}function sI(t){var e=lI(t.alternate,t,Jt);t.memoizedProps=t.pendingProps,e===null?oI(t):Ge=e,Vy.current=null}function oI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ON(n,e),n!==null){n.flags&=32767,Ge=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Je=6,Ge=null;return}}else if(n=DN(n,e,Jt),n!==null){Ge=n;return}if(e=e.sibling,e!==null){Ge=e;return}Ge=e=t}while(e!==null);Je===0&&(Je=5)}function Hi(t,e,n){var r=de,i=gn.transition;try{gn.transition=null,de=1,BN(t,e,n,r)}finally{gn.transition=i,de=r}return null}function BN(t,e,n,r){do wo();while(Jr!==null);if(le&6)throw Error(N(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Tk(t,s),t===it&&(Ge=it=null,pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qu||(qu=!0,uI(zc,function(){return wo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=gn.transition,gn.transition=null;var o=de;de=1;var a=le;le|=4,Vy.current=null,VN(t,n),eI(n,t),lN(gm),Hc=!!mm,gm=mm=null,t.current=n,MN(n),fk(),le=a,de=o,gn.transition=s}else t.current=n;if(qu&&(qu=!1,Jr=t,ah=i),s=t.pendingLanes,s===0&&(ai=null),gk(n.stateNode),Xt(t,Be()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(oh)throw oh=!1,t=Vm,Vm=null,t;return ah&1&&t.tag!==0&&wo(),s=t.pendingLanes,s&1?t===Mm?Ba++:(Ba=0,Mm=t):Ba=0,bi(),null}function wo(){if(Jr!==null){var t=Fx(ah),e=gn.transition,n=de;try{if(gn.transition=null,de=16>t?16:t,Jr===null)var r=!1;else{if(t=Jr,Jr=null,ah=0,le&6)throw Error(N(331));var i=le;for(le|=4,L=t.current;L!==null;){var s=L,o=s.child;if(L.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(L=u;L!==null;){var c=L;switch(c.tag){case 0:case 11:case 15:$a(8,c,s)}var h=c.child;if(h!==null)h.return=c,L=h;else for(;L!==null;){c=L;var f=c.sibling,p=c.return;if(YS(c),c===u){L=null;break}if(f!==null){f.return=p,L=f;break}L=p}}}var g=s.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var w=_.sibling;_.sibling=null,_=w}while(_!==null)}}L=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,L=o;else e:for(;L!==null;){if(s=L,s.flags&2048)switch(s.tag){case 0:case 11:case 15:$a(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,L=v;break e}L=s.return}}var m=t.current;for(L=m;L!==null;){o=L;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,L=y;else e:for(o=m;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:od(9,a)}}catch(S){Ve(a,a.return,S)}if(a===o){L=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,L=T;break e}L=a.return}}if(le=i,bi(),Wn&&typeof Wn.onPostCommitFiberRoot=="function")try{Wn.onPostCommitFiberRoot(Jh,t)}catch{}r=!0}return r}finally{de=n,gn.transition=e}}return!1}function gw(t,e,n){e=ko(n,e),e=$S(t,e,1),t=oi(t,e,1),e=Mt(),t!==null&&(Kl(t,1,e),Xt(t,e))}function Ve(t,e,n){if(t.tag===3)gw(t,t,n);else for(;e!==null;){if(e.tag===3){gw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ai===null||!ai.has(r))){t=ko(n,t),t=US(e,t,1),e=oi(e,t,1),t=Mt(),e!==null&&(Kl(e,1,t),Xt(e,t));break}}e=e.return}}function zN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mt(),t.pingedLanes|=t.suspendedLanes&n,it===t&&(pt&n)===n&&(Je===4||Je===3&&(pt&130023424)===pt&&500>Be()-Ly?as(t,0):My|=n),Xt(t,e)}function aI(t,e){e===0&&(t.mode&1?(e=Vu,Vu<<=1,!(Vu&130023424)&&(Vu=4194304)):e=1);var n=Mt();t=Sr(t,e),t!==null&&(Kl(t,e,n),Xt(t,n))}function WN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),aI(t,n)}function HN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),aI(t,n)}var lI;lI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Kt.current)Gt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Gt=!1,NN(t,e,n);Gt=!!(t.flags&131072)}else Gt=!1,be&&e.flags&1048576&&hS(e,Jc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ic(t,e),t=e.pendingProps;var i=Po(e,Ct.current);_o(e,n),i=ky(null,e,r,t,i,n);var s=Ny();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qt(r)?(s=!0,Xc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ay(e),i.updater=id,e.stateNode=i,i._reactInternals=e,Im(e,r,t,n),e=Cm(null,e,r,!0,s,n)):(e.tag=0,be&&s&&_y(e),Ot(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ic(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=GN(r),t=Tn(r,t),i){case 0:e=Pm(null,e,r,t,n);break e;case 1:e=ow(null,e,r,t,n);break e;case 11:e=iw(null,e,r,t,n);break e;case 14:e=sw(null,e,r,Tn(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),Pm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),ow(t,e,r,i,n);case 3:e:{if(HS(e),t===null)throw Error(N(387));r=e.pendingProps,s=e.memoizedState,i=s.element,mS(t,e),th(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ko(Error(N(423)),e),e=aw(t,e,r,n,i);break e}else if(r!==i){i=ko(Error(N(424)),e),e=aw(t,e,r,n,i);break e}else for(Zt=si(e.stateNode.containerInfo.firstChild),nn=e,be=!0,Sn=null,n=_S(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Co(),r===i){e=Ir(t,e,n);break e}Ot(t,e,r,n)}e=e.child}return e;case 5:return wS(e),t===null&&Tm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,ym(r,i)?o=null:s!==null&&ym(r,s)&&(e.flags|=32),WS(t,e),Ot(t,e,o,n),e.child;case 6:return t===null&&Tm(e),null;case 13:return qS(t,e,n);case 4:return Py(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=bo(e,null,r,n):Ot(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),iw(t,e,r,i,n);case 7:return Ot(t,e,e.pendingProps,n),e.child;case 8:return Ot(t,e,e.pendingProps.children,n),e.child;case 12:return Ot(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ye(Zc,r._currentValue),r._currentValue=o,s!==null)if(Cn(s.value,o)){if(s.children===i.children&&!Kt.current){e=Ir(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=_r(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),xm(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(N(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xm(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ot(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,_o(e,n),i=yn(i),r=r(i),e.flags|=1,Ot(t,e,r,n),e.child;case 14:return r=e.type,i=Tn(r,e.pendingProps),i=Tn(r.type,i),sw(t,e,r,i,n);case 15:return BS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tn(r,i),Ic(t,e),e.tag=1,Qt(r)?(t=!0,Xc(e)):t=!1,_o(e,n),yS(e,r,i),Im(e,r,i,n),Cm(null,e,r,!0,t,n);case 19:return GS(t,e,n);case 22:return zS(t,e,n)}throw Error(N(156,e.tag))};function uI(t,e){return jx(t,e)}function qN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,e,n,r){return new qN(t,e,n,r)}function By(t){return t=t.prototype,!(!t||!t.isReactComponent)}function GN(t){if(typeof t=="function")return By(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ay)return 11;if(t===ly)return 14}return 2}function ui(t,e){var n=t.alternate;return n===null?(n=mn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")By(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ys:return ls(n.children,i,s,e);case oy:o=8,i|=8;break;case Qp:return t=mn(12,n,e,i|2),t.elementType=Qp,t.lanes=s,t;case Xp:return t=mn(13,n,e,i),t.elementType=Xp,t.lanes=s,t;case Yp:return t=mn(19,n,e,i),t.elementType=Yp,t.lanes=s,t;case vx:return ld(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gx:o=10;break e;case yx:o=9;break e;case ay:o=11;break e;case ly:o=14;break e;case Ur:o=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=mn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ls(t,e,n,r){return t=mn(7,t,r,e),t.lanes=n,t}function ld(t,e,n,r){return t=mn(22,t,r,e),t.elementType=vx,t.lanes=n,t.stateNode={isHidden:!1},t}function ep(t,e,n){return t=mn(6,t,null,e),t.lanes=n,t}function tp(t,e,n){return e=mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function KN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jf(0),this.expirationTimes=jf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zy(t,e,n,r,i,s,o,a,l){return t=new KN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=mn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ay(s),t}function QN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function cI(t){if(!t)return vi;t=t._reactInternals;e:{if(Rs(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(Qt(n))return uS(t,n,e)}return e}function hI(t,e,n,r,i,s,o,a,l){return t=zy(n,r,!0,t,i,s,o,a,l),t.context=cI(null),n=t.current,r=Mt(),i=li(n),s=_r(r,i),s.callback=e??null,oi(n,s,i),t.current.lanes=i,Kl(t,i,r),Xt(t,r),t}function ud(t,e,n,r){var i=e.current,s=Mt(),o=li(i);return n=cI(n),e.context===null?e.context=n:e.pendingContext=n,e=_r(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=oi(i,e,o),t!==null&&(An(t,i,o,s),Tc(t,i,o)),o}function uh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Wy(t,e){yw(t,e),(t=t.alternate)&&yw(t,e)}function XN(){return null}var dI=typeof reportError=="function"?reportError:function(t){console.error(t)};function Hy(t){this._internalRoot=t}cd.prototype.render=Hy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));ud(t,e,null,null)};cd.prototype.unmount=Hy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ys(function(){ud(null,t,null,null)}),e[xr]=null}};function cd(t){this._internalRoot=t}cd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Bx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hr.length&&e!==0&&e<Hr[n].priority;n++);Hr.splice(n,0,t),n===0&&Wx(t)}};function qy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vw(){}function YN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=uh(o);s.call(u)}}var o=hI(e,r,t,0,null,!1,!1,"",vw);return t._reactRootContainer=o,t[xr]=o.current,hl(t.nodeType===8?t.parentNode:t),ys(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=uh(l);a.call(u)}}var l=zy(t,0,!1,null,null,!1,!1,"",vw);return t._reactRootContainer=l,t[xr]=l.current,hl(t.nodeType===8?t.parentNode:t),ys(function(){ud(e,l,n,r)}),l}function dd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=uh(o);a.call(l)}}ud(e,o,t,i)}else o=YN(n,e,t,i,r);return uh(o)}$x=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Sa(e.pendingLanes);n!==0&&(hy(e,n|1),Xt(e,Be()),!(le&6)&&(No=Be()+500,bi()))}break;case 13:ys(function(){var r=Sr(t,1);if(r!==null){var i=Mt();An(r,t,1,i)}}),Wy(t,1)}};dy=function(t){if(t.tag===13){var e=Sr(t,134217728);if(e!==null){var n=Mt();An(e,t,134217728,n)}Wy(t,134217728)}};Ux=function(t){if(t.tag===13){var e=li(t),n=Sr(t,e);if(n!==null){var r=Mt();An(n,t,e,r)}Wy(t,e)}};Bx=function(){return de};zx=function(t,e){var n=de;try{return de=t,e()}finally{de=n}};am=function(t,e,n){switch(e){case"input":if(em(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=nd(r);if(!i)throw Error(N(90));wx(r),em(r,i)}}}break;case"textarea":Tx(t,n);break;case"select":e=n.value,e!=null&&mo(t,!!n.multiple,e,!1)}};bx=Fy;Rx=ys;var JN={usingClientEntryPoint:!1,Events:[Xl,to,nd,Px,Cx,Fy]},fa={findFiberByHostInstance:Ji,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ZN={bundleType:fa.bundleType,version:fa.version,rendererPackageName:fa.rendererPackageName,rendererConfig:fa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Dx(t),t===null?null:t.stateNode},findFiberByHostInstance:fa.findFiberByHostInstance||XN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gu.isDisabled&&Gu.supportsFiber)try{Jh=Gu.inject(ZN),Wn=Gu}catch{}}an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JN;an.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qy(e))throw Error(N(200));return QN(t,e,null,n)};an.createRoot=function(t,e){if(!qy(t))throw Error(N(299));var n=!1,r="",i=dI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=zy(t,1,!1,null,null,n,!1,r,i),t[xr]=e.current,hl(t.nodeType===8?t.parentNode:t),new Hy(e)};an.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=Dx(e),t=t===null?null:t.stateNode,t};an.flushSync=function(t){return ys(t)};an.hydrate=function(t,e,n){if(!hd(e))throw Error(N(200));return dd(null,t,e,!0,n)};an.hydrateRoot=function(t,e,n){if(!qy(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=dI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=hI(e,null,t,1,n??null,i,!1,s,o),t[xr]=e.current,hl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new cd(e)};an.render=function(t,e,n){if(!hd(e))throw Error(N(200));return dd(null,t,e,!1,n)};an.unmountComponentAtNode=function(t){if(!hd(t))throw Error(N(40));return t._reactRootContainer?(ys(function(){dd(null,null,t,!1,function(){t._reactRootContainer=null,t[xr]=null})}),!0):!1};an.unstable_batchedUpdates=Fy;an.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!hd(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return dd(t,e,n,!1,r)};an.version="18.2.0-next-9e3b772b8-20220608";function fI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fI)}catch(t){console.error(t)}}fI(),hx.exports=an;var eD=hx.exports,_w=eD;Gp.createRoot=_w.createRoot,Gp.hydrateRoot=_w.hydrateRoot;/**
 * @remix-run/router v1.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wl(){return wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wl.apply(this,arguments)}var Zr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zr||(Zr={}));const ww="popstate";function tD(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return $m("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ch(i)}return rD(e,n,null,t)}function Qe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Gy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nD(){return Math.random().toString(36).substr(2,8)}function Ew(t,e){return{usr:t.state,key:t.key,idx:e}}function $m(t,e,n,r){return n===void 0&&(n=null),wl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Qo(e):e,{state:n,key:e&&e.key||r||nD()})}function ch(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Qo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function rD(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Zr.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(wl({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=Zr.Pop;let w=c(),v=w==null?null:w-u;u=w,l&&l({action:a,location:_.location,delta:v})}function f(w,v){a=Zr.Push;let m=$m(_.location,w,v);n&&n(m,w),u=c()+1;let y=Ew(m,u),T=_.createHref(m);try{o.pushState(y,"",T)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(T)}s&&l&&l({action:a,location:_.location,delta:1})}function p(w,v){a=Zr.Replace;let m=$m(_.location,w,v);n&&n(m,w),u=c();let y=Ew(m,u),T=_.createHref(m);o.replaceState(y,"",T),s&&l&&l({action:a,location:_.location,delta:0})}function g(w){let v=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof w=="string"?w:ch(w);return Qe(v,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,v)}let _={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ww,h),l=w,()=>{i.removeEventListener(ww,h),l=null}},createHref(w){return e(i,w)},createURL:g,encodeLocation(w){let v=g(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(w){return o.go(w)}};return _}var Tw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Tw||(Tw={}));function iD(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Qo(e):e,i=Ky(r.pathname||"/",n);if(i==null)return null;let s=pI(t);sD(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=pD(s[a],yD(i));return o}function pI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Qe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ci([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Qe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),pI(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:dD(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of mI(s.path))i(s,o,l)}),e}function mI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=mI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function sD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oD=/^:\w+$/,aD=3,lD=2,uD=1,cD=10,hD=-2,xw=t=>t==="*";function dD(t,e){let n=t.split("/"),r=n.length;return n.some(xw)&&(r+=hD),e&&(r+=lD),n.filter(i=>!xw(i)).reduce((i,s)=>i+(oD.test(s)?aD:s===""?uD:cD),r)}function fD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function pD(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=mD({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let h=a.route;s.push({params:r,pathname:ci([i,c.pathname]),pathnameBase:TD(ci([i,c.pathnameBase])),route:h}),c.pathnameBase!=="/"&&(i=ci([i,c.pathnameBase]))}return s}function mD(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=gD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,h)=>{let{paramName:f,isOptional:p}=c;if(f==="*"){let _=a[h]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const g=a[h];return p&&!g?u[f]=void 0:u[f]=vD(g||"",f),u},{}),pathname:s,pathnameBase:o,pattern:t}}function gD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Gy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function yD(t){try{return decodeURI(t)}catch(e){return Gy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vD(t,e){try{return decodeURIComponent(t)}catch(n){return Gy(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Ky(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function _D(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Qo(t):t;return{pathname:n?n.startsWith("/")?n:wD(n,e):e,search:xD(r),hash:SD(i)}}function wD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function np(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ED(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function gI(t){return ED(t).map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function yI(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Qo(t):(i=wl({},t),Qe(!i.pathname||!i.pathname.includes("?"),np("?","pathname","search",i)),Qe(!i.pathname||!i.pathname.includes("#"),np("#","pathname","hash",i)),Qe(!i.search||!i.search.includes("#"),np("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else if(r){let h=e[e.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h.pop();i.pathname=f.join("/")}a="/"+h.join("/")}else{let h=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=_D(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ci=t=>t.join("/").replace(/\/\/+/g,"/"),TD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,SD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ID(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const vI=["post","put","patch","delete"];new Set(vI);const AD=["get",...vI];new Set(AD);/**
 * React Router v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hh(){return hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hh.apply(this,arguments)}const Qy=E.createContext(null),PD=E.createContext(null),Xo=E.createContext(null),fd=E.createContext(null),Ri=E.createContext({outlet:null,matches:[],isDataRoute:!1}),_I=E.createContext(null);function CD(t,e){let{relative:n}=e===void 0?{}:e;Jl()||Qe(!1);let{basename:r,navigator:i}=E.useContext(Xo),{hash:s,pathname:o,search:a}=TI(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ci([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Jl(){return E.useContext(fd)!=null}function pd(){return Jl()||Qe(!1),E.useContext(fd).location}function wI(t){E.useContext(Xo).static||E.useLayoutEffect(t)}function Zl(){let{isDataRoute:t}=E.useContext(Ri);return t?UD():bD()}function bD(){Jl()||Qe(!1);let t=E.useContext(Qy),{basename:e,navigator:n}=E.useContext(Xo),{matches:r}=E.useContext(Ri),{pathname:i}=pd(),s=JSON.stringify(gI(r)),o=E.useRef(!1);return wI(()=>{o.current=!0}),E.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=yI(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:ci([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}function EI(){let{matches:t}=E.useContext(Ri),e=t[t.length-1];return e?e.params:{}}function TI(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=E.useContext(Ri),{pathname:i}=pd(),s=JSON.stringify(gI(r));return E.useMemo(()=>yI(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function RD(t,e){return kD(t,e)}function kD(t,e,n){Jl()||Qe(!1);let{navigator:r}=E.useContext(Xo),{matches:i}=E.useContext(Ri),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=pd(),u;if(e){var c;let _=typeof e=="string"?Qo(e):e;a==="/"||(c=_.pathname)!=null&&c.startsWith(a)||Qe(!1),u=_}else u=l;let h=u.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",p=iD(t,{pathname:f}),g=VD(p&&p.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:ci([a,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?a:ci([a,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n);return e&&g?E.createElement(fd.Provider,{value:{location:hh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Zr.Pop}},g):g}function ND(){let t=$D(),e=ID(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,s)}const DD=E.createElement(ND,null);class OD extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?E.createElement(Ri.Provider,{value:this.props.routeContext},E.createElement(_I.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jD(t){let{routeContext:e,match:n,children:r}=t,i=E.useContext(Qy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Ri.Provider,{value:e},r)}function VD(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Qe(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||DD);let f=e.concat(s.slice(0,u+1)),p=()=>{let g;return c?g=h:l.route.Component?g=E.createElement(l.route.Component,null):l.route.element?g=l.route.element:g=a,E.createElement(jD,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:g})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?E.createElement(OD,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}var xI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(xI||{}),dh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(dh||{});function MD(t){let e=E.useContext(Qy);return e||Qe(!1),e}function LD(t){let e=E.useContext(PD);return e||Qe(!1),e}function FD(t){let e=E.useContext(Ri);return e||Qe(!1),e}function SI(t){let e=FD(),n=e.matches[e.matches.length-1];return n.route.id||Qe(!1),n.route.id}function $D(){var t;let e=E.useContext(_I),n=LD(dh.UseRouteError),r=SI(dh.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function UD(){let{router:t}=MD(xI.UseNavigateStable),e=SI(dh.UseNavigateStable),n=E.useRef(!1);return wI(()=>{n.current=!0}),E.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,hh({fromRouteId:e},s)))},[t,e])}function zt(t){Qe(!1)}function BD(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Zr.Pop,navigator:s,static:o=!1}=t;Jl()&&Qe(!1);let a=e.replace(/^\/*/,"/"),l=E.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=Qo(r));let{pathname:u="/",search:c="",hash:h="",state:f=null,key:p="default"}=r,g=E.useMemo(()=>{let _=Ky(u,a);return _==null?null:{location:{pathname:_,search:c,hash:h,state:f,key:p},navigationType:i}},[a,u,c,h,f,p,i]);return g==null?null:E.createElement(Xo.Provider,{value:l},E.createElement(fd.Provider,{children:n,value:g}))}function zD(t){let{children:e,location:n}=t;return RD(Um(e),n)}new Promise(()=>{});function Um(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let s=[...e,i];if(r.type===E.Fragment){n.push.apply(n,Um(r.props.children,s));return}r.type!==zt&&Qe(!1),!r.props.index||!r.props.children||Qe(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Um(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bm(){return Bm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bm.apply(this,arguments)}function WD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function HD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qD(t,e){return t.button===0&&(!e||e==="_self")&&!HD(t)}const GD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],KD="startTransition",Sw=WR[KD];function QD(t){let{basename:e,children:n,future:r,window:i}=t,s=E.useRef();s.current==null&&(s.current=tD({window:i,v5Compat:!0}));let o=s.current,[a,l]=E.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},c=E.useCallback(h=>{u&&Sw?Sw(()=>l(h)):l(h)},[l,u]);return E.useLayoutEffect(()=>o.listen(c),[o,c]),E.createElement(BD,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o})}const XD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pe=E.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:h}=e,f=WD(e,GD),{basename:p}=E.useContext(Xo),g,_=!1;if(typeof u=="string"&&YD.test(u)&&(g=u,XD))try{let y=new URL(window.location.href),T=u.startsWith("//")?new URL(y.protocol+u):new URL(u),S=Ky(T.pathname,p);T.origin===y.origin&&S!=null?u=S+T.search+T.hash:_=!0}catch{}let w=CD(u,{relative:i}),v=JD(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:h});function m(y){r&&r(y),y.defaultPrevented||v(y)}return E.createElement("a",Bm({},f,{href:g||w,onClick:_||s?r:m,ref:n,target:l}))});var Iw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Iw||(Iw={}));var Aw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Aw||(Aw={}));function JD(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Zl(),u=pd(),c=TI(t,{relative:o});return E.useCallback(h=>{if(qD(h,n)){h.preventDefault();let f=r!==void 0?r:ch(u)===ch(c);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}var Pw={ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\Samadhi Gunasinghe\\AppData\\Roaming",ChocolateyInstall:"C:\\ProgramData\\chocolatey",ChocolateyLastPathUpdate:"133346409399214972",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_308_OTAQFARREETNRFPG",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"LAPTOP-9C5GKEE5",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",C_EM64T_REDIST11:"C:\\Program Files (x86)\\Common Files\\Intel\\Shared Files\\cpp\\",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_7228:"1",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Program Files\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\Samadhi Gunasinghe",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\Samadhi Gunasinghe",IGCCSVC_DB:"AQAAANCMnd8BFdERjHoAwE/Cl+sBAAAA+r0SIQn0MEiV8J3kRMyL2wQAAAACAAAAAAAQZgAAAAEAACAAAACFTw/57rngBsWMz8wvz8ZGC+5Sf9JYqekIQBJ5aGbK9wAAAAAOgAAAAAIAACAAAABrUFXOjMfqD4FY6Z350NFNIBV1/Lc5OQNMzl/E8SRBRWAAAABdJbx0QdQvdtBLWk4thTlki00ouN5E8ps0kJ6JTKHC8Zoz1tEb7u59761tBtjWWAwNwqnNQHWf3bPjmMNdB8BY+TfXQr6fKJ76Rg9TWnZcvnKJwZa/nPbj/0g+73pFH4xAAAAAdKp6/cqFcUxootI6524BNP+kVam/HPJyR05NGEOesbBQU06genlk1XJfhVPbzgi1CTwQyziyA8ni/R7+BeCttQ==",INIT_CWD:"C:\\Personal Data\\Codings\\u 'n i\\PetPals",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\Samadhi Gunasinghe\\AppData\\Local",LOGONSERVER:"\\\\LAPTOP-9C5GKEE5",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_EXE:"C:\\Program Files\\nodejs\\\\node.exe",NPM_CLI_JS:"C:\\Program Files\\nodejs\\\\node_modules\\npm\\bin\\npm-cli.js",npm_command:"run-script",npm_config_cache:"C:\\Users\\Samadhi Gunasinghe\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\Samadhi Gunasinghe\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\Samadhi Gunasinghe\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\Samadhi Gunasinghe\\.npm-init.js",npm_config_local_prefix:"C:\\Personal Data\\Codings\\u 'n i\\PetPals",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.2.3",npm_config_prefix:"C:\\Users\\Samadhi Gunasinghe\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\Samadhi Gunasinghe\\.npmrc",npm_config_user_agent:"npm/10.2.3 node/v20.10.0 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\Personal Data\\Codings\\u 'n i\\PetPals\\package.json",npm_package_name:"petpals",npm_package_version:"0.0.1",NPM_PREFIX_NPM_CLI_JS:"C:\\Users\\Samadhi Gunasinghe\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",NUMBER_OF_PROCESSORS:"8",NVM_HOME:"C:\\Users\\Samadhi Gunasinghe\\AppData\\Roaming\\nvm",NVM_SYMLINK:"C:\\Program Files\\nodejs",OANOCACHE:"1",OneDrive:"C:\\Users\\Samadhi Gunasinghe\\OneDrive",OneDriveConsumer:"C:\\Users\\Samadhi Gunasinghe\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"C:\\Personal Data\\Codings\\u 'n i\\PetPals\\node_modules\\.bin;C:\\Personal Data\\Codings\\u 'n i\\node_modules\\.bin;C:\\Personal Data\\Codings\\node_modules\\.bin;C:\\Personal Data\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Personal Data\\Codings\\u 'n i\\PetPals\\node_modules\\.bin;C:\\Personal Data\\Codings\\u 'n i\\node_modules\\.bin;C:\\Personal Data\\Codings\\node_modules\\.bin;C:\\Personal Data\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\Python312\\Scripts\\;C:\\Python312\\;C:\\Python311\\Scripts\\;C:\\Python311\\;C:\\Program Files (x86)\\Common Files\\Intel\\Shared Files\\cpp\\bin\\Intel64;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\dotnet\\;C:\\Users\\Samadhi Gunasinghe\\AppData\\Roaming\\nvm;C:\\Program Files\\nodejs;C:\\Program Files\\Microsoft VS Code\\bin;C:\\ProgramData\\chocolatey\\bin;C:\\Program Files\\Git\\cmd;C:\\Program Files\\swipl\\bin;C:\\Program Files\\Polyspace\\R2021a\\runtime\\win64;C:\\Program Files\\Polyspace\\R2021a\\bin;C:\\Program Files\\nodejs\\;C:\\Program Files\\Cloudflare\\Cloudflare WARP\\;C:\\Users\\Samadhi Gunasinghe\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\Samadhi Gunasinghe\\AppData\\Roaming\\nvm;C:\\Program Files\\nodejs;C:\\Users\\Samadhi Gunasinghe\\.babun;C:\\Program Files\\MongoDB\\Server\\6.0\\bin;C:\\ProgramData\\chocolatey\\lib\\mingw\\tools\\install\\mingw64\\bin;C:\\Users\\Samadhi Gunasinghe\\AppData\\Local\\GitHubDesktop\\bin;C:\\Users\\Samadhi Gunasinghe\\AppData\\Roaming\\npm",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.PY;.PYW;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 140 Stepping 1, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"8c01",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\Samadhi Gunasinghe\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\SAMADH~1\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.87.0",TMP:"C:\\Users\\SAMADH~1\\AppData\\Local\\Temp",USERDOMAIN:"LAPTOP-9C5GKEE5",USERDOMAIN_ROAMINGPROFILE:"LAPTOP-9C5GKEE5",USERNAME:"Samadhi Gunasinghe",USERPROFILE:"C:\\Users\\Samadhi Gunasinghe",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Program Files\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Program Files\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-f0ac33f5d6-sock",VSCODE_INJECTION:"1",windir:"C:\\WINDOWS",ZES_ENABLE_SYSMAN:"1"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ZD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},AI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[c],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(II(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ZD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new eO;const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),h!==64){const g=u<<6&192|h;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class eO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tO=function(t){const e=II(t);return AI.encodeByteArray(e,!0)},fh=function(t){return tO(t).replace(/\./g,"")},PI=function(t){try{return AI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO=()=>nO().__FIREBASE_DEFAULTS__,iO=()=>{if(typeof process>"u"||typeof Pw>"u")return;const t=Pw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&PI(t[1]);return e&&JSON.parse(e)},md=()=>{try{return rO()||iO()||sO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},CI=t=>{var e,n;return(n=(e=md())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},bI=t=>{const e=CI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},RI=()=>{var t;return(t=md())===null||t===void 0?void 0:t.config},kI=t=>{var e;return(e=md())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[fh(JSON.stringify(n)),fh(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function lO(){var t;const e=(t=md())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hO(){const t=Xe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dO(){return!lO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function DI(){try{return typeof indexedDB=="object"}catch{return!1}}function fO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="FirebaseError";class rr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=pO,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eu.prototype.create)}}class eu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?mO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new rr(i,a,r)}}function mO(t,e){return t.replace(gO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const gO=/\{\$([^}]+)}/g;function yO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ph(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Cw(s)&&Cw(o)){if(!ph(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Cw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Aa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Pa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function vO(t,e){const n=new _O(t,e);return n.subscribe.bind(n)}class _O{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=rp),i.error===void 0&&(i.error=rp),i.complete===void 0&&(i.complete=rp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t){return t&&t._delegate?t._delegate:t}class _i{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new oO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xO(e))try{this.getOrInitializeService({instanceIdentifier:qi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=qi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qi){return this.instances.has(e)}getOptions(e=qi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qi){return this.component?this.component.multipleInstances?e:qi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TO(t){return t===qi?void 0:t}function xO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new EO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ie||(ie={}));const IO={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},AO=ie.INFO,PO={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},CO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=PO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xy{constructor(e){this.name=e,this._logLevel=AO,this._logHandler=CO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}}const bO=(t,e)=>e.some(n=>t instanceof n);let bw,Rw;function RO(){return bw||(bw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kO(){return Rw||(Rw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OI=new WeakMap,zm=new WeakMap,jI=new WeakMap,ip=new WeakMap,Yy=new WeakMap;function NO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(hi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&OI.set(n,t)}).catch(()=>{}),Yy.set(e,t),e}function DO(t){if(zm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});zm.set(t,e)}let Wm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OO(t){Wm=t(Wm)}function jO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sp(this),e,...n);return jI.set(r,e.sort?e.sort():[e]),hi(r)}:kO().includes(t)?function(...e){return t.apply(sp(this),e),hi(OI.get(this))}:function(...e){return hi(t.apply(sp(this),e))}}function VO(t){return typeof t=="function"?jO(t):(t instanceof IDBTransaction&&DO(t),bO(t,RO())?new Proxy(t,Wm):t)}function hi(t){if(t instanceof IDBRequest)return NO(t);if(ip.has(t))return ip.get(t);const e=VO(t);return e!==t&&(ip.set(t,e),Yy.set(e,t)),e}const sp=t=>Yy.get(t);function MO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=hi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(hi(o.result),l.oldVersion,l.newVersion,hi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const LO=["get","getKey","getAll","getAllKeys","count"],FO=["put","add","delete","clear"],op=new Map;function kw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(op.get(e))return op.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=FO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||LO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return op.set(e,s),s}OO(t=>({...t,get:(e,n,r)=>kw(e,n)||t.get(e,n,r),has:(e,n)=>!!kw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function UO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hm="@firebase/app",Nw="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs=new Xy("@firebase/app"),BO="@firebase/app-compat",zO="@firebase/analytics-compat",WO="@firebase/analytics",HO="@firebase/app-check-compat",qO="@firebase/app-check",GO="@firebase/auth",KO="@firebase/auth-compat",QO="@firebase/database",XO="@firebase/database-compat",YO="@firebase/functions",JO="@firebase/functions-compat",ZO="@firebase/installations",ej="@firebase/installations-compat",tj="@firebase/messaging",nj="@firebase/messaging-compat",rj="@firebase/performance",ij="@firebase/performance-compat",sj="@firebase/remote-config",oj="@firebase/remote-config-compat",aj="@firebase/storage",lj="@firebase/storage-compat",uj="@firebase/firestore",cj="@firebase/firestore-compat",hj="firebase",dj="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="[DEFAULT]",fj={[Hm]:"fire-core",[BO]:"fire-core-compat",[WO]:"fire-analytics",[zO]:"fire-analytics-compat",[qO]:"fire-app-check",[HO]:"fire-app-check-compat",[GO]:"fire-auth",[KO]:"fire-auth-compat",[QO]:"fire-rtdb",[XO]:"fire-rtdb-compat",[YO]:"fire-fn",[JO]:"fire-fn-compat",[ZO]:"fire-iid",[ej]:"fire-iid-compat",[tj]:"fire-fcm",[nj]:"fire-fcm-compat",[rj]:"fire-perf",[ij]:"fire-perf-compat",[sj]:"fire-rc",[oj]:"fire-rc-compat",[aj]:"fire-gcs",[lj]:"fire-gcs-compat",[uj]:"fire-fst",[cj]:"fire-fst-compat","fire-js":"fire-js",[hj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new Map,Gm=new Map;function pj(t,e){try{t.container.addComponent(e)}catch(n){vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function _s(t){const e=t.name;if(Gm.has(e))return vs.debug(`There were multiple attempts to register component ${e}.`),!1;Gm.set(e,t);for(const n of mh.values())pj(n,t);return!0}function gd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},di=new eu("app","Firebase",mj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _i("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw di.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=dj;function VI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:qm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw di.create("bad-app-name",{appName:String(i)});if(n||(n=RI()),!n)throw di.create("no-options");const s=mh.get(i);if(s){if(ph(n,s.options)&&ph(r,s.config))return s;throw di.create("duplicate-app",{appName:i})}const o=new SO(i);for(const l of Gm.values())o.addComponent(l);const a=new gj(n,r,o);return mh.set(i,a),a}function Jy(t=qm){const e=mh.get(t);if(!e&&t===qm&&RI())return VI();if(!e)throw di.create("no-app",{appName:t});return e}function qn(t,e,n){var r;let i=(r=fj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vs.warn(a.join(" "));return}_s(new _i(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj="firebase-heartbeat-database",vj=1,El="firebase-heartbeat-store";let ap=null;function MI(){return ap||(ap=MO(yj,vj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(El)}catch(n){console.warn(n)}}}}).catch(t=>{throw di.create("idb-open",{originalErrorMessage:t.message})})),ap}async function _j(t){try{const n=(await MI()).transaction(El),r=await n.objectStore(El).get(LI(t));return await n.done,r}catch(e){if(e instanceof rr)vs.warn(e.message);else{const n=di.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vs.warn(n.message)}}}async function Dw(t,e){try{const r=(await MI()).transaction(El,"readwrite");await r.objectStore(El).put(e,LI(t)),await r.done}catch(n){if(n instanceof rr)vs.warn(n.message);else{const r=di.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vs.warn(r.message)}}}function LI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj=1024,Ej=30*24*60*60*1e3;class Tj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Sj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ow();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Ej}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ow(),{heartbeatsToSend:r,unsentEntries:i}=xj(this._heartbeatsCache.heartbeats),s=fh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Ow(){return new Date().toISOString().substring(0,10)}function xj(t,e=wj){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),jw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Sj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return DI()?fO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _j(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Dw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Dw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function jw(t){return fh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ij(t){_s(new _i("platform-logger",e=>new $O(e),"PRIVATE")),_s(new _i("heartbeat",e=>new Tj(e),"PRIVATE")),qn(Hm,Nw,t),qn(Hm,Nw,"esm2017"),qn("fire-js","")}Ij("");var Aj="firebase",Pj="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn(Aj,Pj,"app");var Cj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},O,Zy=Zy||{},J=Cj||self;function yd(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function nu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function bj(t){return Object.prototype.hasOwnProperty.call(t,lp)&&t[lp]||(t[lp]=++Rj)}var lp="closure_uid_"+(1e9*Math.random()>>>0),Rj=0;function kj(t,e,n){return t.call.apply(t.bind,arguments)}function Nj(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function At(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?At=kj:At=Nj,At.apply(null,arguments)}function Ku(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ot(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ki(){this.s=this.s,this.o=this.o}var Dj=0;ki.prototype.s=!1;ki.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Dj!=0)&&bj(this)};ki.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const FI=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function ev(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Vw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(yd(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Pt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Pt.prototype.h=function(){this.defaultPrevented=!0};var Oj=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};J.addEventListener("test",n,e),J.removeEventListener("test",n,e)}catch{}return t}();function Tl(t){return/^[\s\xa0]*$/.test(t)}function vd(){var t=J.navigator;return t&&(t=t.userAgent)?t:""}function Fn(t){return vd().indexOf(t)!=-1}function tv(t){return tv[" "](t),t}tv[" "]=function(){};function jj(t,e){var n=PV;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Vj=Fn("Opera"),Do=Fn("Trident")||Fn("MSIE"),$I=Fn("Edge"),Km=$I||Do,UI=Fn("Gecko")&&!(vd().toLowerCase().indexOf("webkit")!=-1&&!Fn("Edge"))&&!(Fn("Trident")||Fn("MSIE"))&&!Fn("Edge"),Mj=vd().toLowerCase().indexOf("webkit")!=-1&&!Fn("Edge");function BI(){var t=J.document;return t?t.documentMode:void 0}var Qm;e:{var up="",cp=function(){var t=vd();if(UI)return/rv:([^\);]+)(\)|;)/.exec(t);if($I)return/Edge\/([\d\.]+)/.exec(t);if(Do)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Mj)return/WebKit\/(\S+)/.exec(t);if(Vj)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(cp&&(up=cp?cp[1]:""),Do){var hp=BI();if(hp!=null&&hp>parseFloat(up)){Qm=String(hp);break e}}Qm=up}var Xm;if(J.document&&Do){var Mw=BI();Xm=Mw||parseInt(Qm,10)||void 0}else Xm=void 0;var Lj=Xm;function xl(t,e){if(Pt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(UI){e:{try{tv(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Fj[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&xl.$.h.call(this)}}ot(xl,Pt);var Fj={2:"touch",3:"pen",4:"mouse"};xl.prototype.h=function(){xl.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ru="closure_listenable_"+(1e6*Math.random()|0),$j=0;function Uj(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++$j,this.fa=this.ia=!1}function _d(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function nv(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Bj(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function zI(t){const e={};for(const n in t)e[n]=t[n];return e}const Lw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function WI(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Lw.length;s++)n=Lw[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function wd(t){this.src=t,this.g={},this.h=0}wd.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Jm(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new Uj(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Ym(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=FI(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(_d(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Jm(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var rv="closure_lm_"+(1e6*Math.random()|0),dp={};function HI(t,e,n,r,i){if(r&&r.once)return GI(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)HI(t,e[s],n,r,i);return null}return n=ov(n),t&&t[ru]?t.O(e,n,nu(r)?!!r.capture:!!r,i):qI(t,e,n,!1,r,i)}function qI(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=nu(i)?!!i.capture:!!i,a=sv(t);if(a||(t[rv]=a=new wd(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=zj(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Oj||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(QI(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function zj(){function t(n){return e.call(t.src,t.listener,n)}const e=Wj;return t}function GI(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)GI(t,e[s],n,r,i);return null}return n=ov(n),t&&t[ru]?t.P(e,n,nu(r)?!!r.capture:!!r,i):qI(t,e,n,!0,r,i)}function KI(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)KI(t,e[s],n,r,i);else r=nu(r)?!!r.capture:!!r,n=ov(n),t&&t[ru]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Jm(s,n,r,i),-1<n&&(_d(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=sv(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Jm(e,n,r,i)),(n=-1<t?e[t]:null)&&iv(n))}function iv(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ru])Ym(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(QI(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=sv(e))?(Ym(n,t),n.h==0&&(n.src=null,e[rv]=null)):_d(t)}}}function QI(t){return t in dp?dp[t]:dp[t]="on"+t}function Wj(t,e){if(t.fa)t=!0;else{e=new xl(e,this);var n=t.listener,r=t.la||t.src;t.ia&&iv(t),t=n.call(r,e)}return t}function sv(t){return t=t[rv],t instanceof wd?t:null}var fp="__closure_events_fn_"+(1e9*Math.random()>>>0);function ov(t){return typeof t=="function"?t:(t[fp]||(t[fp]=function(e){return t.handleEvent(e)}),t[fp])}function st(){ki.call(this),this.i=new wd(this),this.S=this,this.J=null}ot(st,ki);st.prototype[ru]=!0;st.prototype.removeEventListener=function(t,e,n,r){KI(this,t,e,n,r)};function mt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Pt(e,t);else if(e instanceof Pt)e.target=e.target||t;else{var i=e;e=new Pt(r,t),WI(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Qu(o,r,!0,e)&&i}if(o=e.g=t,i=Qu(o,r,!0,e)&&i,i=Qu(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Qu(o,r,!1,e)&&i}st.prototype.N=function(){if(st.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)_d(n[r]);delete t.g[e],t.h--}}this.J=null};st.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};st.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Qu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Ym(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var av=J.JSON.stringify;class Hj{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function qj(){var t=lv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Gj{constructor(){this.h=this.g=null}add(e,n){const r=XI.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var XI=new Hj(()=>new Kj,t=>t.reset());class Kj{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Qj(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Xj(t){J.setTimeout(()=>{throw t},0)}let Sl,Il=!1,lv=new Gj,YI=()=>{const t=J.Promise.resolve(void 0);Sl=()=>{t.then(Yj)}};var Yj=()=>{for(var t;t=qj();){try{t.h.call(t.g)}catch(n){Xj(n)}var e=XI;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Il=!1};function Ed(t,e){st.call(this),this.h=t||1,this.g=e||J,this.j=At(this.qb,this),this.l=Date.now()}ot(Ed,st);O=Ed.prototype;O.ga=!1;O.T=null;O.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),mt(this,"tick"),this.ga&&(uv(this),this.start()))}};O.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function uv(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}O.N=function(){Ed.$.N.call(this),uv(this),delete this.g};function cv(t,e,n){if(typeof t=="function")n&&(t=At(t,n));else if(t&&typeof t.handleEvent=="function")t=At(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:J.setTimeout(t,e||0)}function JI(t){t.g=cv(()=>{t.g=null,t.i&&(t.i=!1,JI(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Jj extends ki{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:JI(this)}N(){super.N(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Al(t){ki.call(this),this.h=t,this.g={}}ot(Al,ki);var Fw=[];function ZI(t,e,n,r){Array.isArray(n)||(n&&(Fw[0]=n.toString()),n=Fw);for(var i=0;i<n.length;i++){var s=HI(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function eA(t){nv(t.g,function(e,n){this.g.hasOwnProperty(n)&&iv(e)},t),t.g={}}Al.prototype.N=function(){Al.$.N.call(this),eA(this)};Al.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Td(){this.g=!0}Td.prototype.Ea=function(){this.g=!1};function Zj(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&h[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function eV(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function lo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+nV(t,n)+(r?" "+r:"")})}function tV(t,e){t.info(function(){return"TIMEOUT: "+e})}Td.prototype.info=function(){};function nV(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return av(n)}catch{return e}}var Ns={},$w=null;function xd(){return $w=$w||new st}Ns.Ta="serverreachability";function tA(t){Pt.call(this,Ns.Ta,t)}ot(tA,Pt);function Pl(t){const e=xd();mt(e,new tA(e))}Ns.STAT_EVENT="statevent";function nA(t,e){Pt.call(this,Ns.STAT_EVENT,t),this.stat=e}ot(nA,Pt);function jt(t){const e=xd();mt(e,new nA(e,t))}Ns.Ua="timingevent";function rA(t,e){Pt.call(this,Ns.Ua,t),this.size=e}ot(rA,Pt);function iu(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){t()},e)}var Sd={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},iA={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function hv(){}hv.prototype.h=null;function Uw(t){return t.h||(t.h=t.i())}function sA(){}var su={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function dv(){Pt.call(this,"d")}ot(dv,Pt);function fv(){Pt.call(this,"c")}ot(fv,Pt);var Zm;function Id(){}ot(Id,hv);Id.prototype.g=function(){return new XMLHttpRequest};Id.prototype.i=function(){return{}};Zm=new Id;function ou(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Al(this),this.P=rV,t=Km?125:void 0,this.V=new Ed(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new oA}function oA(){this.i=null,this.g="",this.h=!1}var rV=45e3,aA={},eg={};O=ou.prototype;O.setTimeout=function(t){this.P=t};function tg(t,e,n){t.L=1,t.A=Pd(Ar(e)),t.u=n,t.S=!0,lA(t,null)}function lA(t,e){t.G=Date.now(),au(t),t.B=Ar(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),gA(n.i,"t",r),t.o=0,n=t.l.J,t.h=new oA,t.g=MA(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Jj(At(t.Pa,t,t.g),t.O)),ZI(t.U,t.g,"readystatechange",t.nb),e=t.I?zI(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Pl(),Zj(t.j,t.v,t.B,t.m,t.W,t.u)}O.nb=function(t){t=t.target;const e=this.M;e&&$n(t)==3?e.l():this.Pa(t)};O.Pa=function(t){try{if(t==this.g)e:{const c=$n(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>c)&&(c!=3||Km||this.g&&(this.h.h||this.g.ja()||Hw(this.g)))){this.J||c!=4||e==7||(e==8||0>=h?Pl(3):Pl(2)),Ad(this);var n=this.g.da();this.ca=n;t:if(uA(this)){var r=Hw(this.g);t="";var i=r.length,s=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ts(this),za(this);var o="";break t}this.h.i=new J.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,eV(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tl(a)){var u=a;break t}}u=null}if(n=u)lo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ng(this,n);else{this.i=!1,this.s=3,jt(12),ts(this),za(this);break e}}this.S?(cA(this,c,o),Km&&this.i&&c==3&&(ZI(this.U,this.V,"tick",this.mb),this.V.start())):(lo(this.j,this.m,o,null),ng(this,o)),c==4&&ts(this),this.i&&!this.J&&(c==4?DA(this.l,this):(this.i=!1,au(this)))}else SV(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,jt(12)):(this.s=0,jt(13)),ts(this),za(this)}}}catch{}finally{}};function uA(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function cA(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=iV(t,n),i==eg){e==4&&(t.s=4,jt(14),r=!1),lo(t.j,t.m,null,"[Incomplete Response]");break}else if(i==aA){t.s=4,jt(15),lo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else lo(t.j,t.m,i,null),ng(t,i);uA(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,jt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),_v(e),e.M=!0,jt(11))):(lo(t.j,t.m,n,"[Invalid Chunked Response]"),ts(t),za(t))}O.mb=function(){if(this.g){var t=$n(this.g),e=this.g.ja();this.o<e.length&&(Ad(this),cA(this,t,e),this.i&&t!=4&&au(this))}};function iV(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?eg:(n=Number(e.substring(n,r)),isNaN(n)?aA:(r+=1,r+n>e.length?eg:(e=e.slice(r,r+n),t.o=r+n,e)))}O.cancel=function(){this.J=!0,ts(this)};function au(t){t.Y=Date.now()+t.P,hA(t,t.P)}function hA(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=iu(At(t.lb,t),e)}function Ad(t){t.C&&(J.clearTimeout(t.C),t.C=null)}O.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(tV(this.j,this.B),this.L!=2&&(Pl(),jt(17)),ts(this),this.s=2,za(this)):hA(this,this.Y-t)};function za(t){t.l.H==0||t.J||DA(t.l,t)}function ts(t){Ad(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,uv(t.V),eA(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function ng(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||rg(n.i,t))){if(!t.K&&rg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)vh(n),kd(n);else break e;vv(n),jt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=iu(At(n.ib,n),6e3));if(1>=_A(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ns(n,11)}else if((t.K||n.g==t)&&vh(n),!Tl(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const h=u[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const g=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(pv(s,s.h),s.h=null))}if(r.F){const _=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,xe(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=VA(r,r.J?r.pa:null,r.Y),o.K){wA(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Ad(a),au(a)),r.g=o}else kA(r);0<n.j.length&&Nd(n)}else u[0]!="stop"&&u[0]!="close"||ns(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?ns(n,7):yv(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Pl(4)}catch{}}function sV(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(yd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function oV(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(yd(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function dA(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(yd(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=oV(t),r=sV(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var fA=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aV(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function us(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof us){this.h=t.h,gh(this,t.j),this.s=t.s,this.g=t.g,yh(this,t.m),this.l=t.l;var e=t.i,n=new Cl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Bw(this,n),this.o=t.o}else t&&(e=String(t).match(fA))?(this.h=!1,gh(this,e[1]||"",!0),this.s=Ca(e[2]||""),this.g=Ca(e[3]||"",!0),yh(this,e[4]),this.l=Ca(e[5]||"",!0),Bw(this,e[6]||"",!0),this.o=Ca(e[7]||"")):(this.h=!1,this.i=new Cl(null,this.h))}us.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ba(e,zw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ba(e,zw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ba(n,n.charAt(0)=="/"?cV:uV,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ba(n,dV)),t.join("")};function Ar(t){return new us(t)}function gh(t,e,n){t.j=n?Ca(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function yh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Bw(t,e,n){e instanceof Cl?(t.i=e,fV(t.i,t.h)):(n||(e=ba(e,hV)),t.i=new Cl(e,t.h))}function xe(t,e,n){t.i.set(e,n)}function Pd(t){return xe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ca(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ba(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,lV),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function lV(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var zw=/[#\/\?@]/g,uV=/[#\?:]/g,cV=/[#\?]/g,hV=/[#\?@]/g,dV=/#/g;function Cl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ni(t){t.g||(t.g=new Map,t.h=0,t.i&&aV(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}O=Cl.prototype;O.add=function(t,e){Ni(this),this.i=null,t=Yo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function pA(t,e){Ni(t),e=Yo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function mA(t,e){return Ni(t),e=Yo(t,e),t.g.has(e)}O.forEach=function(t,e){Ni(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};O.ta=function(){Ni(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};O.Z=function(t){Ni(this);let e=[];if(typeof t=="string")mA(this,t)&&(e=e.concat(this.g.get(Yo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};O.set=function(t,e){return Ni(this),this.i=null,t=Yo(this,t),mA(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};O.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function gA(t,e,n){pA(t,e),0<n.length&&(t.i=null,t.g.set(Yo(t,e),ev(n)),t.h+=n.length)}O.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Yo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function fV(t,e){e&&!t.j&&(Ni(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(pA(this,r),gA(this,i,n))},t)),t.j=e}var pV=class{constructor(t,e){this.g=t,this.map=e}};function yA(t){this.l=t||mV,J.PerformanceNavigationTiming?(t=J.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(J.g&&J.g.Ka&&J.g.Ka()&&J.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var mV=10;function vA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function _A(t){return t.h?1:t.g?t.g.size:0}function rg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function pv(t,e){t.g?t.g.add(e):t.h=e}function wA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}yA.prototype.cancel=function(){if(this.i=EA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function EA(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return ev(t.i)}var gV=class{stringify(t){return J.JSON.stringify(t,void 0)}parse(t){return J.JSON.parse(t,void 0)}};function yV(){this.g=new gV}function vV(t,e,n){const r=n||"";try{dA(t,function(i,s){let o=i;nu(i)&&(o=av(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function _V(t,e){const n=new Td;if(J.Image){const r=new Image;r.onload=Ku(Xu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ku(Xu,n,r,"TestLoadImage: error",!1,e),r.onabort=Ku(Xu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ku(Xu,n,r,"TestLoadImage: timeout",!1,e),J.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Xu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Cd(t){this.l=t.ec||null,this.j=t.ob||!1}ot(Cd,hv);Cd.prototype.g=function(){return new bd(this.l,this.j)};Cd.prototype.i=function(t){return function(){return t}}({});function bd(t,e){st.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=mv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ot(bd,st);var mv=0;O=bd.prototype;O.open=function(t,e){if(this.readyState!=mv)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,bl(this)};O.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||J).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};O.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lu(this)),this.readyState=mv};O.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,bl(this)),this.g&&(this.readyState=3,bl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof J.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;TA(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function TA(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}O.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?lu(this):bl(this),this.readyState==3&&TA(this)}};O.Za=function(t){this.g&&(this.response=this.responseText=t,lu(this))};O.Ya=function(t){this.g&&(this.response=t,lu(this))};O.ka=function(){this.g&&lu(this)};function lu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,bl(t)}O.setRequestHeader=function(t,e){this.v.append(t,e)};O.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};O.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function bl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(bd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var wV=J.JSON.parse;function Fe(t){st.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=xA,this.L=this.M=!1}ot(Fe,st);var xA="",EV=/^https?$/i,TV=["POST","PUT"];O=Fe.prototype;O.Oa=function(t){this.M=t};O.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Zm.g(),this.C=this.u?Uw(this.u):Uw(Zm),this.g.onreadystatechange=At(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Ww(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=J.FormData&&t instanceof J.FormData,!(0<=FI(TV,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{AA(this),0<this.B&&((this.L=xV(this.g))?(this.g.timeout=this.B,this.g.ontimeout=At(this.ua,this)):this.A=cv(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Ww(this,s)}};function xV(t){return Do&&typeof t.timeout=="number"&&t.ontimeout!==void 0}O.ua=function(){typeof Zy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mt(this,"timeout"),this.abort(8))};function Ww(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,SA(t),Rd(t)}function SA(t){t.F||(t.F=!0,mt(t,"complete"),mt(t,"error"))}O.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,mt(this,"complete"),mt(this,"abort"),Rd(this))};O.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Rd(this,!0)),Fe.$.N.call(this)};O.La=function(){this.s||(this.G||this.v||this.l?IA(this):this.kb())};O.kb=function(){IA(this)};function IA(t){if(t.h&&typeof Zy<"u"&&(!t.C[1]||$n(t)!=4||t.da()!=2)){if(t.v&&$n(t)==4)cv(t.La,0,t);else if(mt(t,"readystatechange"),$n(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(fA)[1]||null;!i&&J.self&&J.self.location&&(i=J.self.location.protocol.slice(0,-1)),r=!EV.test(i?i.toLowerCase():"")}n=r}if(n)mt(t,"complete"),mt(t,"success");else{t.m=6;try{var s=2<$n(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",SA(t)}}finally{Rd(t)}}}}function Rd(t,e){if(t.g){AA(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||mt(t,"ready");try{n.onreadystatechange=r}catch{}}}function AA(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(J.clearTimeout(t.A),t.A=null)}O.isActive=function(){return!!this.g};function $n(t){return t.g?t.g.readyState:0}O.da=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}};O.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};O.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),wV(e)}};function Hw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case xA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function SV(t){const e={};t=(t.g&&2<=$n(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Tl(t[r]))continue;var n=Qj(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}Bj(e,function(r){return r.join(", ")})}O.Ia=function(){return this.m};O.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function PA(t){let e="";return nv(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function gv(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=PA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):xe(t,e,n))}function pa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function CA(t){this.Ga=0,this.j=[],this.l=new Td,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=pa("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=pa("baseRetryDelayMs",5e3,t),this.hb=pa("retryDelaySeedMs",1e4,t),this.eb=pa("forwardChannelMaxRetries",2,t),this.xa=pa("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new yA(t&&t.concurrentRequestLimit),this.Ja=new yV,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}O=CA.prototype;O.ra=8;O.H=1;function yv(t){if(bA(t),t.H==3){var e=t.W++,n=Ar(t.I);if(xe(n,"SID",t.K),xe(n,"RID",e),xe(n,"TYPE","terminate"),uu(t,n),e=new ou(t,t.l,e),e.L=2,e.A=Pd(Ar(n)),n=!1,J.navigator&&J.navigator.sendBeacon)try{n=J.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&J.Image&&(new Image().src=e.A,n=!0),n||(e.g=MA(e.l,null),e.g.ha(e.A)),e.G=Date.now(),au(e)}jA(t)}function kd(t){t.g&&(_v(t),t.g.cancel(),t.g=null)}function bA(t){kd(t),t.u&&(J.clearTimeout(t.u),t.u=null),vh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&J.clearTimeout(t.m),t.m=null)}function Nd(t){if(!vA(t.i)&&!t.m){t.m=!0;var e=t.Na;Sl||YI(),Il||(Sl(),Il=!0),lv.add(e,t),t.C=0}}function IV(t,e){return _A(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=iu(At(t.Na,t,e),OA(t,t.C)),t.C++,!0)}O.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ou(this,this.l,t);let s=this.s;if(this.U&&(s?(s=zI(s),WI(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=RA(this,i,e),n=Ar(this.I),xe(n,"RID",t),xe(n,"CVER",22),this.F&&xe(n,"X-HTTP-Session-Id",this.F),uu(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(PA(s)))+"&"+e:this.o&&gv(n,this.o,s)),pv(this.i,i),this.bb&&xe(n,"TYPE","init"),this.P?(xe(n,"$req",e),xe(n,"SID","null"),i.aa=!0,tg(i,n,null)):tg(i,n,e),this.H=2}}else this.H==3&&(t?qw(this,t):this.j.length==0||vA(this.i)||qw(this))};function qw(t,e){var n;e?n=e.m:n=t.W++;const r=Ar(t.I);xe(r,"SID",t.K),xe(r,"RID",n),xe(r,"AID",t.V),uu(t,r),t.o&&t.s&&gv(r,t.o,t.s),n=new ou(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=RA(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),pv(t.i,n),tg(n,r,e)}function uu(t,e){t.na&&nv(t.na,function(n,r){xe(e,r,n)}),t.h&&dA({},function(n,r){xe(e,r,n)})}function RA(t,e,n){n=Math.min(t.j.length,n);var r=t.h?At(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{vV(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function kA(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Sl||YI(),Il||(Sl(),Il=!0),lv.add(e,t),t.A=0}}function vv(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=iu(At(t.Ma,t),OA(t,t.A)),t.A++,!0)}O.Ma=function(){if(this.u=null,NA(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=iu(At(this.jb,this),t)}};O.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,jt(10),kd(this),NA(this))};function _v(t){t.B!=null&&(J.clearTimeout(t.B),t.B=null)}function NA(t){t.g=new ou(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Ar(t.wa);xe(e,"RID","rpc"),xe(e,"SID",t.K),xe(e,"AID",t.V),xe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&xe(e,"TO",t.qa),xe(e,"TYPE","xmlhttp"),uu(t,e),t.o&&t.s&&gv(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Pd(Ar(e)),n.u=null,n.S=!0,lA(n,t)}O.ib=function(){this.v!=null&&(this.v=null,kd(this),vv(this),jt(19))};function vh(t){t.v!=null&&(J.clearTimeout(t.v),t.v=null)}function DA(t,e){var n=null;if(t.g==e){vh(t),_v(t),t.g=null;var r=2}else if(rg(t.i,e))n=e.F,wA(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=xd(),mt(r,new rA(r,n)),Nd(t)}else kA(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&IV(t,e)||r==2&&vv(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:ns(t,5);break;case 4:ns(t,10);break;case 3:ns(t,6);break;default:ns(t,2)}}}function OA(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ns(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=At(t.pb,t);n||(n=new us("//www.google.com/images/cleardot.gif"),J.location&&J.location.protocol=="http"||gh(n,"https"),Pd(n)),_V(n.toString(),r)}else jt(2);t.H=0,t.h&&t.h.za(e),jA(t),bA(t)}O.pb=function(t){t?(this.l.info("Successfully pinged google.com"),jt(2)):(this.l.info("Failed to ping google.com"),jt(1))};function jA(t){if(t.H=0,t.ma=[],t.h){const e=EA(t.i);(e.length!=0||t.j.length!=0)&&(Vw(t.ma,e),Vw(t.ma,t.j),t.i.i.length=0,ev(t.j),t.j.length=0),t.h.ya()}}function VA(t,e,n){var r=n instanceof us?Ar(n):new us(n);if(r.g!="")e&&(r.g=e+"."+r.g),yh(r,r.m);else{var i=J.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new us(null);r&&gh(s,r),e&&(s.g=e),i&&yh(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&xe(r,n,e),xe(r,"VER",t.ra),uu(t,r),r}function MA(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Fe(new Cd({ob:n})):new Fe(t.va),e.Oa(t.J),e}O.isActive=function(){return!!this.h&&this.h.isActive(this)};function LA(){}O=LA.prototype;O.Ba=function(){};O.Aa=function(){};O.za=function(){};O.ya=function(){};O.isActive=function(){return!0};O.Va=function(){};function _h(){if(Do&&!(10<=Number(Lj)))throw Error("Environmental error: no available transport.")}_h.prototype.g=function(t,e){return new sn(t,e)};function sn(t,e){st.call(this),this.g=new CA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Tl(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Tl(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Jo(this)}ot(sn,st);sn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;jt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=VA(t,null,t.Y),Nd(t)};sn.prototype.close=function(){yv(this.g)};sn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=av(t),t=n);e.j.push(new pV(e.fb++,t)),e.H==3&&Nd(e)};sn.prototype.N=function(){this.g.h=null,delete this.j,yv(this.g),delete this.g,sn.$.N.call(this)};function FA(t){dv.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ot(FA,dv);function $A(){fv.call(this),this.status=1}ot($A,fv);function Jo(t){this.g=t}ot(Jo,LA);Jo.prototype.Ba=function(){mt(this.g,"a")};Jo.prototype.Aa=function(t){mt(this.g,new FA(t))};Jo.prototype.za=function(t){mt(this.g,new $A)};Jo.prototype.ya=function(){mt(this.g,"b")};function AV(){this.blockSize=-1}function bn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ot(bn,AV);bn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function pp(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}bn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)pp(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){pp(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){pp(this,r),i=0;break}}this.h=i,this.i+=e};bn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function fe(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var PV={};function wv(t){return-128<=t&&128>t?jj(t,function(e){return new fe([e|0],0>e?-1:0)}):new fe([t|0],0>t?-1:0)}function Un(t){if(isNaN(t)||!isFinite(t))return Eo;if(0>t)return dt(Un(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=ig;return new fe(e,0)}function UA(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return dt(UA(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Un(Math.pow(e,8)),r=Eo,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Un(Math.pow(e,s)),r=r.R(s).add(Un(o))):(r=r.R(n),r=r.add(Un(o)))}return r}var ig=4294967296,Eo=wv(0),sg=wv(1),Gw=wv(16777216);O=fe.prototype;O.ea=function(){if(pn(this))return-dt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:ig+r)*e,e*=ig}return t};O.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(pr(this))return"0";if(pn(this))return"-"+dt(this).toString(t);for(var e=Un(Math.pow(t,6)),n=this,r="";;){var i=Eh(n,e).g;n=wh(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,pr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};O.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function pr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function pn(t){return t.h==-1}O.X=function(t){return t=wh(this,t),pn(t)?-1:pr(t)?0:1};function dt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new fe(n,~t.h).add(sg)}O.abs=function(){return pn(this)?dt(this):this};O.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new fe(n,n[n.length-1]&-2147483648?-1:0)};function wh(t,e){return t.add(dt(e))}O.R=function(t){if(pr(this)||pr(t))return Eo;if(pn(this))return pn(t)?dt(this).R(dt(t)):dt(dt(this).R(t));if(pn(t))return dt(this.R(dt(t)));if(0>this.X(Gw)&&0>t.X(Gw))return Un(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,Yu(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Yu(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Yu(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Yu(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new fe(n,0)};function Yu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ma(t,e){this.g=t,this.h=e}function Eh(t,e){if(pr(e))throw Error("division by zero");if(pr(t))return new ma(Eo,Eo);if(pn(t))return e=Eh(dt(t),e),new ma(dt(e.g),dt(e.h));if(pn(e))return e=Eh(t,dt(e)),new ma(dt(e.g),e.h);if(30<t.g.length){if(pn(t)||pn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=sg,r=e;0>=r.X(t);)n=Kw(n),r=Kw(r);var i=Hs(n,1),s=Hs(r,1);for(r=Hs(r,2),n=Hs(n,2);!pr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Hs(r,1),n=Hs(n,1)}return e=wh(t,i.R(e)),new ma(i,e)}for(i=Eo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Un(n),o=s.R(e);pn(o)||0<o.X(t);)n-=r,s=Un(n),o=s.R(e);pr(s)&&(s=sg),i=i.add(s),t=wh(t,o)}return new ma(i,t)}O.gb=function(t){return Eh(this,t).h};O.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new fe(n,this.h&t.h)};O.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new fe(n,this.h|t.h)};O.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new fe(n,this.h^t.h)};function Kw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new fe(n,t.h)}function Hs(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new fe(i,t.h)}_h.prototype.createWebChannel=_h.prototype.g;sn.prototype.send=sn.prototype.u;sn.prototype.open=sn.prototype.m;sn.prototype.close=sn.prototype.close;Sd.NO_ERROR=0;Sd.TIMEOUT=8;Sd.HTTP_ERROR=6;iA.COMPLETE="complete";sA.EventType=su;su.OPEN="a";su.CLOSE="b";su.ERROR="c";su.MESSAGE="d";st.prototype.listen=st.prototype.O;Fe.prototype.listenOnce=Fe.prototype.P;Fe.prototype.getLastError=Fe.prototype.Sa;Fe.prototype.getLastErrorCode=Fe.prototype.Ia;Fe.prototype.getStatus=Fe.prototype.da;Fe.prototype.getResponseJson=Fe.prototype.Wa;Fe.prototype.getResponseText=Fe.prototype.ja;Fe.prototype.send=Fe.prototype.ha;Fe.prototype.setWithCredentials=Fe.prototype.Oa;bn.prototype.digest=bn.prototype.l;bn.prototype.reset=bn.prototype.reset;bn.prototype.update=bn.prototype.j;fe.prototype.add=fe.prototype.add;fe.prototype.multiply=fe.prototype.R;fe.prototype.modulo=fe.prototype.gb;fe.prototype.compare=fe.prototype.X;fe.prototype.toNumber=fe.prototype.ea;fe.prototype.toString=fe.prototype.toString;fe.prototype.getBits=fe.prototype.D;fe.fromNumber=Un;fe.fromString=UA;var CV=function(){return new _h},bV=function(){return xd()},mp=Sd,RV=iA,kV=Ns,Qw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ju=sA,NV=Fe,DV=bn,To=fe;const Xw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xt.UNAUTHENTICATED=new xt(null),xt.GOOGLE_CREDENTIALS=new xt("google-credentials-uid"),xt.FIRST_PARTY=new xt("first-party-uid"),xt.MOCK_USER=new xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new Xy("@firebase/firestore");function ga(){return ws.logLevel}function D(t,...e){if(ws.logLevel<=ie.DEBUG){const n=e.map(Ev);ws.debug(`Firestore (${Zo}): ${t}`,...n)}}function tr(t,...e){if(ws.logLevel<=ie.ERROR){const n=e.map(Ev);ws.error(`Firestore (${Zo}): ${t}`,...n)}}function Oo(t,...e){if(ws.logLevel<=ie.WARN){const n=e.map(Ev);ws.warn(`Firestore (${Zo}): ${t}`,...n)}}function Ev(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t="Unexpected state"){const e=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: `+t;throw tr(e),new Error(e)}function _e(t,e){t||X()}function ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class V extends rr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xt.UNAUTHENTICATED))}shutdown(){}}class jV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class VV{constructor(e){this.t=e,this.currentUser=xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Gn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Gn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{D("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(D("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Gn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(D("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string"),new BA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string"),new xt(e)}}class MV{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=xt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class LV{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new MV(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $V{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&D("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,D("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{D("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):D("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_e(typeof n.token=="string"),this.R=n.token,new FV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=UV(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ue(t,e){return t<e?-1:t>e?1:0}function jo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new V(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ze(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Z(e)}static min(){return new Z(new Ze(0,0))}static max(){return new Z(new Ze(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(),r===void 0?r=e.length-n:r>e.length-n&&X(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Se extends Rl{construct(e,n,r){return new Se(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new V(b.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Se(n)}static emptyPath(){return new Se([])}}const BV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ft extends Rl{construct(e,n,r){return new ft(e,n,r)}static isValidIdentifier(e){return BV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ft(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new V(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new V(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new V(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new V(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ft(n)}static emptyPath(){return new ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.path=e}static fromPath(e){return new B(Se.fromString(e))}static fromName(e){return new B(Se.fromString(e).popFirst(5))}static empty(){return new B(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new B(new Se(e.slice()))}}function zV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(r===1e9?new Ze(n+1,0):new Ze(n,r));return new wi(i,B.empty(),e)}function WV(t){return new wi(t.readTime,t.key,-1)}class wi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new wi(Z.min(),B.empty(),-1)}static max(){return new wi(Z.max(),B.empty(),-1)}}function HV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=B.comparator(t.documentKey,e.documentKey),n!==0?n:ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(t){if(t.code!==b.FAILED_PRECONDITION||t.message!==qV)throw t;D("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new R((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof R?n:R.resolve(n)}catch(n){return R.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):R.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):R.reject(n)}static resolve(e){return new R((n,r)=>{n(e)})}static reject(e){return new R((n,r)=>{r(e)})}static waitFor(e){return new R((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=R.resolve(!1);for(const r of e)n=n.next(i=>i?R.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new R((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new R((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Gn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Wa(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=xv(r.target.error);this.V.reject(new Wa(e,i))}}static open(e,n,r,i){try{return new Tv(n,e.transaction(i,r))}catch(s){throw new Wa(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(D("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new QV(n)}}class rs{constructor(e,n,r){this.name=e,this.version=n,this.p=r,rs.S(Xe())===12.2&&tr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return D("SimpleDb","Removing database:",e),Yi(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!DI())return!1;if(rs.C())return!0;const e=Xe(),n=rs.S(e),r=0<n&&n<10,i=rs.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(D("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Wa(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new V(b.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new V(b.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Wa(e,o))},i.onupgradeneeded=s=>{D("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{D("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=Tv.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),R.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(D("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class KV{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Yi(this.k.delete())}}class Wa extends V{constructor(e,n){super(b.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function hu(t){return t.name==="IndexedDbTransactionError"}class QV{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(D("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(D("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Yi(r)}add(e){return D("SimpleDb","ADD",this.store.name,e,e),Yi(this.store.add(e))}get(e){return Yi(this.store.get(e)).next(n=>(n===void 0&&(n=null),D("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return D("SimpleDb","DELETE",this.store.name,e),Yi(this.store.delete(e))}count(){return D("SimpleDb","COUNT",this.store.name),Yi(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new R((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new R((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){D("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new R((r,i)=>{n.onerror=s=>{const o=xv(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new R((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new KV(a),u=n(a.primaryKey,a.value,l);if(u instanceof R){const c=u.catch(h=>(l.done(),R.reject(h)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>R.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Yi(t){return new R((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=xv(r.target.error);n(i)}})}let Yw=!1;function xv(t){const e=rs.S(Xe());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new V("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Yw||(Yw=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Sv._e=-1;function Dd(t){return t==null}function Th(t){return t===0&&1/t==-1/0}function XV(t){return typeof t=="number"&&Number.isInteger(t)&&!Th(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ds(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function WA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){this.comparator=e,this.root=n||ht.EMPTY}insert(e,n){return new je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ht.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zu(this.root,e,this.comparator,!0)}}class Zu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ht{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ht.RED,this.left=i??ht.EMPTY,this.right=s??ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ht(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();const e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}}ht.EMPTY=null,ht.RED=!0,ht.BLACK=!1;ht.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,n,r,i,s){return this}insert(e,n,r){return new ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zw(this.data.getIterator())}getIteratorFrom(e){return new Zw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof gt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gt(this.comparator);return n.data=e,n}}class Zw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.fields=e,e.sort(ft.comparator)}static empty(){return new en([])}unionWith(e){let n=new gt(ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new en(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new HA("Invalid base64 string: "+s):s}}(e);return new bt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const YV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ei(t){if(_e(!!t),typeof t=="string"){let e=0;const n=YV.exec(t);if(_e(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qe(t.seconds),nanos:qe(t.nanos)}}function qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Es(t){return typeof t=="string"?bt.fromBase64String(t):bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Av(t){const e=t.mapValue.fields.__previous_value__;return Iv(e)?Av(e):e}function kl(t){const e=Ei(t.mapValue.fields.__local_write_time__.timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Nl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Nl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Nl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ts(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Iv(t)?4:ZV(t)?9007199254740991:10:X()}function nr(t,e){if(t===e)return!0;const n=Ts(t);if(n!==Ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return kl(t).isEqual(kl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ei(i.timestampValue),a=Ei(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Es(i.bytesValue).isEqual(Es(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return qe(i.geoPointValue.latitude)===qe(s.geoPointValue.latitude)&&qe(i.geoPointValue.longitude)===qe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return qe(i.integerValue)===qe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=qe(i.doubleValue),a=qe(s.doubleValue);return o===a?Th(o)===Th(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return jo(t.arrayValue.values||[],e.arrayValue.values||[],nr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Jw(o)!==Jw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!nr(o[l],a[l])))return!1;return!0}(t,e);default:return X()}}function Dl(t,e){return(t.values||[]).find(n=>nr(n,e))!==void 0}function Vo(t,e){if(t===e)return 0;const n=Ts(t),r=Ts(e);if(n!==r)return ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=qe(s.integerValue||s.doubleValue),l=qe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return e1(t.timestampValue,e.timestampValue);case 4:return e1(kl(t),kl(e));case 5:return ue(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Es(s),l=Es(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=ue(a[u],l[u]);if(c!==0)return c}return ue(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ue(qe(s.latitude),qe(o.latitude));return a!==0?a:ue(qe(s.longitude),qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Vo(a[u],l[u]);if(c)return c}return ue(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===ec.mapValue&&o===ec.mapValue)return 0;if(s===ec.mapValue)return 1;if(o===ec.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let h=0;h<l.length&&h<c.length;++h){const f=ue(l[h],c[h]);if(f!==0)return f;const p=Vo(a[l[h]],u[c[h]]);if(p!==0)return p}return ue(l.length,c.length)}(t.mapValue,e.mapValue);default:throw X()}}function e1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ue(t,e);const n=Ei(t),r=Ei(e),i=ue(n.seconds,r.seconds);return i!==0?i:ue(n.nanos,r.nanos)}function Mo(t){return og(t)}function og(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ei(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Es(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return B.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=og(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${og(n.fields[o])}`;return i+"}"}(t.mapValue):X()}function t1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ag(t){return!!t&&"integerValue"in t}function Pv(t){return!!t&&"arrayValue"in t}function n1(t){return!!t&&"nullValue"in t}function r1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bc(t){return!!t&&"mapValue"in t}function Ha(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ds(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ha(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ha(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ZV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.value=e}static empty(){return new qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!bc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ha(n)}setAll(e){let n=ft.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Ha(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());bc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return nr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];bc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ds(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new qt(Ha(this.value))}}function qA(t){const e=[];return Ds(t.fields,(n,r)=>{const i=new ft([n]);if(bc(r)){const s=qA(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new en(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new It(e,0,Z.min(),Z.min(),Z.min(),qt.empty(),0)}static newFoundDocument(e,n,r,i){return new It(e,1,n,Z.min(),r,i,0)}static newNoDocument(e,n){return new It(e,2,n,Z.min(),Z.min(),qt.empty(),0)}static newUnknownDocument(e,n){return new It(e,3,n,Z.min(),Z.min(),qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof It&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new It(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this.position=e,this.inclusive=n}}function i1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=B.comparator(B.fromName(o.referenceValue),n.key):r=Vo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function s1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!nr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n="asc"){this.field=e,this.dir=n}}function eM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{}class Ke extends GA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nM(e,n,r):n==="array-contains"?new sM(e,r):n==="in"?new oM(e,r):n==="not-in"?new aM(e,r):n==="array-contains-any"?new lM(e,r):new Ke(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rM(e,r):new iM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Vo(n,this.value)):n!==null&&Ts(this.value)===Ts(n)&&this.matchesComparison(Vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rn extends GA{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Rn(e,n)}matches(e){return KA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function KA(t){return t.op==="and"}function QA(t){return tM(t)&&KA(t)}function tM(t){for(const e of t.filters)if(e instanceof Rn)return!1;return!0}function lg(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+Mo(t.value);if(QA(t))return t.filters.map(e=>lg(e)).join(",");{const e=t.filters.map(n=>lg(n)).join(",");return`${t.op}(${e})`}}function XA(t,e){return t instanceof Ke?function(r,i){return i instanceof Ke&&r.op===i.op&&r.field.isEqual(i.field)&&nr(r.value,i.value)}(t,e):t instanceof Rn?function(r,i){return i instanceof Rn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&XA(o,i.filters[a]),!0):!1}(t,e):void X()}function YA(t){return t instanceof Ke?function(n){return`${n.field.canonicalString()} ${n.op} ${Mo(n.value)}`}(t):t instanceof Rn?function(n){return n.op.toString()+" {"+n.getFilters().map(YA).join(" ,")+"}"}(t):"Filter"}class nM extends Ke{constructor(e,n,r){super(e,n,r),this.key=B.fromName(r.referenceValue)}matches(e){const n=B.comparator(e.key,this.key);return this.matchesComparison(n)}}class rM extends Ke{constructor(e,n){super(e,"in",n),this.keys=JA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class iM extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=JA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function JA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>B.fromName(r.referenceValue))}class sM extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pv(n)&&Dl(n.arrayValue,this.value)}}class oM extends Ke{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Dl(this.value.arrayValue,n)}}class aM extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Dl(this.value.arrayValue,n)}}class lM extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Dl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function o1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new uM(t,e,n,r,i,s,o)}function Cv(t){const e=ee(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>lg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Dd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Mo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Mo(r)).join(",")),e.ce=n}return e.ce}function bv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!eM(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!XA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!s1(t.startAt,e.startAt)&&s1(t.endAt,e.endAt)}function ug(t){return B.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function cM(t,e,n,r,i,s,o,a){return new du(t,e,n,r,i,s,o,a)}function Od(t){return new du(t)}function a1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ZA(t){return t.collectionGroup!==null}function qa(t){const e=ee(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new gt(ft.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Sh(s,r))}),n.has(ft.keyField().canonicalString())||e.le.push(new Sh(ft.keyField(),r))}return e.le}function Kn(t){const e=ee(t);return e.he||(e.he=hM(e,qa(t))),e.he}function hM(t,e){if(t.limitType==="F")return o1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Sh(i.field,s)});const n=t.endAt?new xh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xh(t.startAt.position,t.startAt.inclusive):null;return o1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function cg(t,e){const n=t.filters.concat([e]);return new du(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function hg(t,e,n){return new du(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jd(t,e){return bv(Kn(t),Kn(e))&&t.limitType===e.limitType}function eP(t){return`${Cv(Kn(t))}|lt:${t.limitType}`}function Gs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>YA(i)).join(", ")}]`),Dd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Mo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Mo(i)).join(",")),`Target(${r})`}(Kn(t))}; limitType=${t.limitType})`}function Vd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):B.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of qa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=i1(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,qa(r),i)||r.endAt&&!function(o,a,l){const u=i1(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,qa(r),i))}(t,e)}function dM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function tP(t){return(e,n)=>{let r=!1;for(const i of qa(t)){const s=fM(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function fM(t,e,n){const r=t.field.isKeyField()?B.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Vo(l,u):X()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ds(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return WA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=new je(B.comparator);function Pr(){return pM}const nP=new je(B.comparator);function Ra(...t){let e=nP;for(const n of t)e=e.insert(n.key,n);return e}function rP(t){let e=nP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function is(){return Ga()}function iP(){return Ga()}function Ga(){return new ea(t=>t.toString(),(t,e)=>t.isEqual(e))}const mM=new je(B.comparator),gM=new gt(B.comparator);function ne(...t){let e=gM;for(const n of t)e=e.add(n);return e}const yM=new gt(ue);function vM(){return yM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function oP(t){return{integerValue:""+t}}function _M(t,e){return XV(e)?oP(e):sP(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(){this._=void 0}}function wM(t,e,n){return t instanceof Ih?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Iv(s)&&(s=Av(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ol?lP(t,e):t instanceof jl?uP(t,e):function(i,s){const o=aP(i,s),a=l1(o)+l1(i.Ie);return ag(o)&&ag(i.Ie)?oP(a):sP(i.serializer,a)}(t,e)}function EM(t,e,n){return t instanceof Ol?lP(t,e):t instanceof jl?uP(t,e):n}function aP(t,e){return t instanceof Ah?function(r){return ag(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ih extends Md{}class Ol extends Md{constructor(e){super(),this.elements=e}}function lP(t,e){const n=cP(e);for(const r of t.elements)n.some(i=>nr(i,r))||n.push(r);return{arrayValue:{values:n}}}class jl extends Md{constructor(e){super(),this.elements=e}}function uP(t,e){let n=cP(e);for(const r of t.elements)n=n.filter(i=>!nr(i,r));return{arrayValue:{values:n}}}class Ah extends Md{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function l1(t){return qe(t.integerValue||t.doubleValue)}function cP(t){return Pv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function TM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ol&&i instanceof Ol||r instanceof jl&&i instanceof jl?jo(r.elements,i.elements,nr):r instanceof Ah&&i instanceof Ah?nr(r.Ie,i.Ie):r instanceof Ih&&i instanceof Ih}(t.transform,e.transform)}class xM{constructor(e,n){this.version=e,this.transformResults=n}}class Qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ld{}function hP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new fP(t.key,Qn.none()):new fu(t.key,t.data,Qn.none());{const n=t.data,r=qt.empty();let i=new gt(ft.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Di(t.key,r,new en(i.toArray()),Qn.none())}}function SM(t,e,n){t instanceof fu?function(i,s,o){const a=i.value.clone(),l=c1(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Di?function(i,s,o){if(!Rc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=c1(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(dP(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ka(t,e,n,r){return t instanceof fu?function(s,o,a,l){if(!Rc(s.precondition,o))return a;const u=s.value.clone(),c=h1(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Di?function(s,o,a,l){if(!Rc(s.precondition,o))return a;const u=h1(s.fieldTransforms,l,o),c=o.data;return c.setAll(dP(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return Rc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function IM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=aP(r.transform,i||null);s!=null&&(n===null&&(n=qt.empty()),n.set(r.field,s))}return n||null}function u1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&jo(r,i,(s,o)=>TM(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fu extends Ld{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Di extends Ld{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function dP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function c1(t,e,n){const r=new Map;_e(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,EM(o,a,n[i]))}return r}function h1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,wM(s,o,e))}return r}class fP extends Ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AM extends Ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&SM(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ka(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ka(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=iP();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=hP(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ne())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,(n,r)=>u1(n,r))&&jo(this.baseMutations,e.baseMutations,(n,r)=>u1(n,r))}}class Rv{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_e(e.mutations.length===r.length);let i=function(){return mM}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Rv(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We,oe;function RM(t){switch(t){default:return X();case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0}}function pP(t){if(t===void 0)return tr("GRPC error has no .code"),b.UNKNOWN;switch(t){case We.OK:return b.OK;case We.CANCELLED:return b.CANCELLED;case We.UNKNOWN:return b.UNKNOWN;case We.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case We.INTERNAL:return b.INTERNAL;case We.UNAVAILABLE:return b.UNAVAILABLE;case We.UNAUTHENTICATED:return b.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case We.NOT_FOUND:return b.NOT_FOUND;case We.ALREADY_EXISTS:return b.ALREADY_EXISTS;case We.PERMISSION_DENIED:return b.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case We.ABORTED:return b.ABORTED;case We.OUT_OF_RANGE:return b.OUT_OF_RANGE;case We.UNIMPLEMENTED:return b.UNIMPLEMENTED;case We.DATA_LOSS:return b.DATA_LOSS;default:return X()}}(oe=We||(We={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=new To([4294967295,4294967295],0);function d1(t){const e=kM().encode(t),n=new DV;return n.update(e),new Uint8Array(n.digest())}function f1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new To([n,r],0),new To([i,s],0)]}class kv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ka(`Invalid padding: ${n}`);if(r<0)throw new ka(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ka(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ka(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=To.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(To.fromNumber(r)));return i.compare(NM)===1&&(i=new To([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=d1(e),[r,i]=f1(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new kv(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=d1(e),[r,i]=f1(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ka extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fd(Z.min(),i,new je(ue),Pr(),ne())}}class pu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pu(r,n,ne(),ne(),ne())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class mP{constructor(e,n){this.targetId=e,this.fe=n}}class gP{constructor(e,n,r=bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class p1{constructor(){this.ge=0,this.pe=g1(),this.ye=bt.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ne(),n=ne(),r=ne();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:X()}}),new pu(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=g1()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,_e(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class DM{constructor(e){this.Le=e,this.ke=new Map,this.qe=Pr(),this.Qe=m1(),this.Ke=new je(ue)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:X()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(ug(s))if(r===0){const o=new B(s.path);this.We(n,o,It.newNoDocument(o,Z.min()))}else _e(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Es(r).toUint8Array()}catch(l){if(l instanceof HA)return Oo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new kv(o,i,s)}catch(l){return Oo(l instanceof ka?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&ug(a.target)){const l=new B(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,It.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ne();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Fd(e,n,this.Ke,this.qe,r);return this.qe=Pr(),this.Qe=m1(),this.Ke=new je(ue),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new p1,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new gt(ue),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||D("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new p1),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function m1(){return new je(B.comparator)}function g1(){return new je(B.comparator)}const OM={asc:"ASCENDING",desc:"DESCENDING"},jM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VM={and:"AND",or:"OR"};class MM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dg(t,e){return t.useProto3Json||Dd(e)?e:{value:e}}function Ph(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function LM(t,e){return Ph(t,e.toTimestamp())}function Xn(t){return _e(!!t),Z.fromTimestamp(function(n){const r=Ei(n);return new Ze(r.seconds,r.nanos)}(t))}function Nv(t,e){return fg(t,e).canonicalString()}function fg(t,e){const n=function(i){return new Se(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function vP(t){const e=Se.fromString(t);return _e(xP(e)),e}function pg(t,e){return Nv(t.databaseId,e.path)}function gp(t,e){const n=vP(e);if(n.get(1)!==t.databaseId.projectId)throw new V(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new B(wP(n))}function _P(t,e){return Nv(t.databaseId,e)}function FM(t){const e=vP(t);return e.length===4?Se.emptyPath():wP(e)}function mg(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wP(t){return _e(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function y1(t,e,n){return{name:pg(t,e),fields:n.value.mapValue.fields}}function $M(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(_e(c===void 0||typeof c=="string"),bt.fromBase64String(c||"")):(_e(c===void 0||c instanceof Uint8Array),bt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?b.UNKNOWN:pP(u.code);return new V(c,u.message||"")}(o);n=new gP(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=gp(t,r.document.name),s=Xn(r.document.updateTime),o=r.document.createTime?Xn(r.document.createTime):Z.min(),a=new qt({mapValue:{fields:r.document.fields}}),l=It.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new kc(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=gp(t,r.document),s=r.readTime?Xn(r.readTime):Z.min(),o=It.newNoDocument(i,s),a=r.removedTargetIds||[];n=new kc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=gp(t,r.document),s=r.removedTargetIds||[];n=new kc([],s,i,null)}else{if(!("filter"in e))return X();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new bM(i,s),a=r.targetId;n=new mP(a,o)}}return n}function UM(t,e){let n;if(e instanceof fu)n={update:y1(t,e.key,e.value)};else if(e instanceof fP)n={delete:pg(t,e.key)};else if(e instanceof Di)n={update:y1(t,e.key,e.data),updateMask:XM(e.fieldMask)};else{if(!(e instanceof AM))return X();n={verify:pg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Ih)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ol)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof jl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ah)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw X()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:LM(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:X()}(t,e.precondition)),n}function BM(t,e){return t&&t.length>0?(_e(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Xn(i.updateTime):Xn(s);return o.isEqual(Z.min())&&(o=Xn(s)),new xM(o,i.transformResults||[])}(n,e))):[]}function zM(t,e){return{documents:[_P(t,e.path)]}}function WM(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_P(t,i);const s=function(u){if(u.length!==0)return TP(Rn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(f){return{field:Ks(f.field),direction:GM(f.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=dg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function HM(t){let e=FM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){_e(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(h){const f=EP(h);return f instanceof Rn&&QA(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(g){return new Sh(Qs(g.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Dd(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new xh(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const f=!h.before,p=h.values||[];return new xh(p,f)}(n.endAt)),cM(e,i,o,s,a,"F",l,u)}function qM(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function EP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Qs(n.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Qs(n.unaryFilter.field);return Ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Qs(n.unaryFilter.field);return Ke.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Qs(n.unaryFilter.field);return Ke.create(o,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(t):t.fieldFilter!==void 0?function(n){return Ke.create(Qs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rn.create(n.compositeFilter.filters.map(r=>EP(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X()}}(n.compositeFilter.op))}(t):X()}function GM(t){return OM[t]}function KM(t){return jM[t]}function QM(t){return VM[t]}function Ks(t){return{fieldPath:t.canonicalString()}}function Qs(t){return ft.fromServerFormat(t.fieldPath)}function TP(t){return t instanceof Ke?function(n){if(n.op==="=="){if(r1(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NAN"}};if(n1(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(r1(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NOT_NAN"}};if(n1(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ks(n.field),op:KM(n.op),value:n.value}}}(t):t instanceof Rn?function(n){const r=n.getFilters().map(i=>TP(i));return r.length===1?r[0]:{compositeFilter:{op:QM(n.op),filters:r}}}(t):X()}function XM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function xP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n,r,i,s=Z.min(),o=Z.min(),a=bt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ei(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e){this.ct=e}}function JM(t){const e=HM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?hg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(){this._n=new eL}addToCollectionParentIndex(e,n){return this._n.add(n),R.resolve()}getCollectionParents(e,n){return R.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return R.resolve()}deleteFieldIndex(e,n){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,n){return R.resolve()}getDocumentsMatchingTarget(e,n){return R.resolve(null)}getIndexType(e,n){return R.resolve(0)}getFieldIndexes(e,n){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,n){return R.resolve(wi.min())}getMinOffsetFromCollectionGroup(e,n){return R.resolve(wi.min())}updateCollectionGroup(e,n,r){return R.resolve()}updateIndexEntries(e,n){return R.resolve()}}class eL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new gt(Se.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gt(Se.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Lo(0)}static Bn(){return new Lo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(){this.changes=new ea(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,It.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?R.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ka(r.mutation,i,en.empty(),Ze.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ne()){const i=is();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ra();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=is();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ne()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Pr();const o=Ga(),a=function(){return Ga()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Di)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Ka(c.mutation,u,c.mutation.getFieldMask(),Ze.now())):o.set(u.key,en.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var h;return a.set(u,new nL(c,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ga();let i=new je((o,a)=>o-a),s=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||en.empty();c=a.applyToLocalView(u,c),r.set(l,c);const h=(i.get(a.batchId)||ne()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,h=iP();c.forEach(f=>{if(!s.has(f)){const p=hP(n.get(f),r.get(f));p!==null&&h.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return R.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return B.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ZA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):R.resolve(is());let a=-1,l=s;return o.next(u=>R.forEach(u,(c,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(c)?R.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ne())).next(c=>({batchId:a,changes:rP(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new B(n)).next(r=>{let i=Ra();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ra();return this.indexManager.getCollectionParents(e,s).next(a=>R.forEach(a,l=>{const u=function(h,f){return new du(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,It.newInvalidDocument(c)))});let a=Ra();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Ka(c.mutation,u,en.empty(),Ze.now()),Vd(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return R.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Xn(i.createTime)}}(n)),R.resolve()}getNamedQuery(e,n){return R.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:JM(i.bundledQuery),readTime:Xn(i.readTime)}}(n)),R.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(){this.overlays=new je(B.comparator),this.hr=new Map}getOverlay(e,n){return R.resolve(this.overlays.get(n))}getOverlays(e,n){const r=is();return R.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),R.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),R.resolve()}getOverlaysForCollection(e,n,r){const i=is(),s=n.length+1,o=new B(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return R.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new je((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=is(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=is(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return R.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new CM(n,r));let s=this.hr.get(n);s===void 0&&(s=ne(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(){this.Pr=new gt(tt.Ir),this.Tr=new gt(tt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new tt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new tt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new B(new Se([])),r=new tt(n,e),i=new tt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new B(new Se([])),r=new tt(n,e),i=new tt(n,e+1);let s=ne();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new tt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class tt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return B.comparator(e.key,n.key)||ue(e.pr,n.pr)}static Er(e,n){return ue(e.pr,n.pr)||B.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new gt(tt.Ir)}checkEmpty(e){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new PM(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new tt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return R.resolve(o)}lookupMutationBatch(e,n){return R.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return R.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new tt(n,0),i=new tt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),R.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gt(ue);return n.forEach(i=>{const s=new tt(i,0),o=new tt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),R.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;B.isDocumentKey(s)||(s=s.child(""));const o=new tt(new B(s),0);let a=new gt(ue);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},o),R.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){_e(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return R.forEach(n.mutations,i=>{const s=new tt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new tt(n,0),i=this.wr.firstAfterOrEqual(r);return R.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,R.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e){this.vr=e,this.docs=function(){return new je(B.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():It.newInvalidDocument(n))}getEntries(e,n){let r=Pr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():It.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Pr();const o=n.path,a=new B(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||HV(WV(c),r)<=0||(i.has(c.key)||Vd(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return R.resolve(s)}getAllFromCollectionGroup(e,n,r,i){X()}Fr(e,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new lL(this)}getSize(e){return R.resolve(this.size)}}class lL extends tL{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),R.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e){this.persistence=e,this.Mr=new ea(n=>Cv(n),bv),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Dv,this.targetCount=0,this.Br=Lo.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),R.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Lo(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,R.resolve()}updateTargetData(e,n){return this.qn(n),R.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),R.waitFor(s).next(()=>i)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return R.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),R.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),R.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),R.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return R.resolve(r)}containsKey(e,n){return R.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e,n){this.Lr={},this.overlays={},this.kr=new Sv(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new uL(this),this.indexManager=new ZM,this.remoteDocumentCache=function(i){return new aL(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new YM(n),this.$r=new iL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new oL(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){D("MemoryPersistence","Starting transaction:",e);const i=new hL(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return R.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class hL extends GV{constructor(e){super(),this.currentSequenceNumber=e}}class Ov{constructor(e){this.persistence=e,this.zr=new Dv,this.jr=null}static Hr(e){return new Ov(e)}get Jr(){if(this.jr)return this.jr;throw X()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),R.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),R.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Jr,r=>{const i=B.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Z.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return R.or([()=>R.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ne(),i=ne();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new jv(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return dO()?8:rs.v(Xe())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new dL;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(ga()<=ie.DEBUG&&D("QueryEngine","SDK will not create cache indexes for query:",Gs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),R.resolve()):(ga()<=ie.DEBUG&&D("QueryEngine","Query:",Gs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(ga()<=ie.DEBUG&&D("QueryEngine","The SDK decides to create cache indexes for query:",Gs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kn(n))):R.resolve())}ji(e,n){if(a1(n))return R.resolve(null);let r=Kn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=hg(n,null,"F"),r=Kn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ne(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,hg(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return a1(n)||i.isEqual(Z.min())?R.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?R.resolve(null):(ga()<=ie.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Gs(n)),this.es(e,o,n,zV(i,-1)).next(a=>a))})}Zi(e,n){let r=new gt(tP(e));return n.forEach((i,s)=>{Vd(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return ga()<=ie.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",Gs(n)),this.zi.getDocumentsMatchingQuery(e,n,wi.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new je(ue),this.rs=new ea(s=>Cv(s),bv),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rL(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function mL(t,e,n,r){return new pL(t,e,n,r)}async function SP(t,e){const n=ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ne();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function gL(t,e){const n=ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const h=u.batch,f=h.keys();let p=R.resolve();return f.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(_=>{const w=u.docVersions.get(g);_e(w!==null),_.version.compareTo(w)<0&&(h.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ne();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function IP(t){const e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function yL(t,e){const n=ee(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,h)=>{const f=i.get(h);if(!f)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,h).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,h)));let p=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(bt.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(h,p),function(_,w,v){return _.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,p,c)&&a.push(n.Qr.updateTargetData(s,p))});let l=Pr(),u=ne();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(vL(s,o,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(Z.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(h=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return R.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ns=i,s))}function vL(t,e,n){let r=ne(),i=ne();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Pr();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Z.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):D("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:i}})}function _L(t,e){const n=ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wL(t,e){const n=ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,R.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new ei(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function gg(t,e,n){const r=ee(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!hu(o))throw o;D("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function v1(t,e,n){const r=ee(t);let i=Z.min(),s=ne();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const h=ee(l),f=h.rs.get(c);return f!==void 0?R.resolve(h.ns.get(f)):h.Qr.getTargetData(u,c)}(r,o,Kn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:Z.min(),n?s:ne())).next(a=>(EL(r,dM(e),a),{documents:a,hs:s})))}function EL(t,e,n){let r=t.ss.get(e)||Z.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class _1{constructor(){this.activeTargetIds=vM()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TL{constructor(){this.no=new _1,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new _1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){D("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){D("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc=null;function yp(){return tc===null?tc=function(){return 268435456+Math.round(2147483648*Math.random())}():tc++,"0x"+tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Et="WebChannelConnection";class AL extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=yp(),l=this.bo(n,r.toUriEncodedString());D("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,l,u,i).then(c=>(D("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Oo("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=SL[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=yp();return new Promise((o,a)=>{const l=new NV;l.setWithCredentials(!0),l.listenOnce(RV.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case mp.NO_ERROR:const c=l.getResponseJson();D(Et,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case mp.TIMEOUT:D(Et,`RPC '${e}' ${s} timed out`),a(new V(b.DEADLINE_EXCEEDED,"Request time out"));break;case mp.HTTP_ERROR:const h=l.getStatus();if(D(Et,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const g=function(w){const v=w.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(v)>=0?v:b.UNKNOWN}(p.status);a(new V(g,p.message))}else a(new V(b.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new V(b.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{D(Et,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);D(Et,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=yp(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=CV(),a=bV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");D(Et,`Creating RPC '${e}' stream ${i}: ${c}`,l);const h=o.createWebChannel(c,l);let f=!1,p=!1;const g=new IL({lo:w=>{p?D(Et,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(f||(D(Et,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),D(Et,`RPC '${e}' stream ${i} sending:`,w),h.send(w))},ho:()=>h.close()}),_=(w,v,m)=>{w.listen(v,y=>{try{m(y)}catch(T){setTimeout(()=>{throw T},0)}})};return _(h,Ju.EventType.OPEN,()=>{p||D(Et,`RPC '${e}' stream ${i} transport opened.`)}),_(h,Ju.EventType.CLOSE,()=>{p||(p=!0,D(Et,`RPC '${e}' stream ${i} transport closed`),g.Vo())}),_(h,Ju.EventType.ERROR,w=>{p||(p=!0,Oo(Et,`RPC '${e}' stream ${i} transport errored:`,w),g.Vo(new V(b.UNAVAILABLE,"The operation could not be completed")))}),_(h,Ju.EventType.MESSAGE,w=>{var v;if(!p){const m=w.data[0];_e(!!m);const y=m,T=y.error||((v=y[0])===null||v===void 0?void 0:v.error);if(T){D(Et,`RPC '${e}' stream ${i} received error:`,T);const S=T.status;let x=function(C){const k=We[C];if(k!==void 0)return pP(k)}(S),I=T.message;x===void 0&&(x=b.INTERNAL,I="Unknown error status: "+S+" with message "+T.message),p=!0,g.Vo(new V(x,I)),h.close()}else D(Et,`RPC '${e}' stream ${i} received:`,m),g.mo(m)}}),_(a,kV.STAT_EVENT,w=>{w.stat===Qw.PROXY?D(Et,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===Qw.NOPROXY&&D(Et,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}}function vp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(t){return new MM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&D("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new AP(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===b.RESOURCE_EXHAUSTED?(tr(n.toString()),tr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===b.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new V(b.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return D("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(D("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PL extends PP{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=$M(this.serializer,e),r=function(s){if(!("targetChange"in s))return Z.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Z.min():o.readTime?Xn(o.readTime):Z.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=mg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=ug(l)?{documents:zM(s,l)}:{query:WM(s,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=yP(s,o.resumeToken);const u=dg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Z.min())>0){a.readTime=Ph(s,o.snapshotVersion.toTimestamp());const u=dg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=qM(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=mg(this.serializer),n.removeTarget=e,this.t_(n)}}class CL extends PP{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(_e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=BM(e.writeResults,e.commitTime),r=Xn(e.commitTime);return this.listener.T_(r,n)}return _e(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=mg(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>UM(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new V(b.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,fg(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(b.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,fg(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(b.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class RL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(tr(n),this.g_=!1):D("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{Os(this)&&(D("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ee(l);u.v_.add(4),await mu(u),u.x_.set("Unknown"),u.v_.delete(4),await Ud(u)}(this))})}),this.x_=new RL(r,i)}}async function Ud(t){if(Os(t))for(const e of t.F_)await e(!0)}async function mu(t){for(const e of t.F_)await e(!1)}function CP(t,e){const n=ee(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Lv(n)?Mv(n):ta(n).Jo()&&Vv(n,e))}function bP(t,e){const n=ee(t),r=ta(n);n.C_.delete(e),r.Jo()&&RP(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Os(n)&&n.x_.set("Unknown"))}function Vv(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ta(t).c_(e)}function RP(t,e){t.O_.Oe(e),ta(t).l_(e)}function Mv(t){t.O_=new DM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ta(t).start(),t.x_.p_()}function Lv(t){return Os(t)&&!ta(t).Ho()&&t.C_.size>0}function Os(t){return ee(t).v_.size===0}function kP(t){t.O_=void 0}async function NL(t){t.C_.forEach((e,n)=>{Vv(t,e)})}async function DL(t,e){kP(t),Lv(t)?(t.x_.S_(e),Mv(t)):t.x_.set("Unknown")}async function OL(t,e,n){if(t.x_.set("Online"),e instanceof gP&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){D("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ch(t,r)}else if(e instanceof kc?t.O_.$e(e):e instanceof mP?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(Z.min()))try{const r=await IP(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.C_.get(u);c&&s.C_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.C_.get(l);if(!c)return;s.C_.set(l,c.withResumeToken(bt.EMPTY_BYTE_STRING,c.snapshotVersion)),RP(s,l);const h=new ei(c.target,l,u,c.sequenceNumber);Vv(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){D("RemoteStore","Failed to raise snapshot:",r),await Ch(t,r)}}async function Ch(t,e,n){if(!hu(e))throw e;t.v_.add(1),await mu(t),t.x_.set("Offline"),n||(n=()=>IP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{D("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Ud(t)})}function NP(t,e){return e().catch(n=>Ch(t,n,e))}async function Bd(t){const e=ee(t),n=Ti(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;jL(e);)try{const i=await _L(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,VL(e,i)}catch(i){await Ch(e,i)}DP(e)&&OP(e)}function jL(t){return Os(t)&&t.D_.length<10}function VL(t,e){t.D_.push(e);const n=Ti(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function DP(t){return Os(t)&&!Ti(t).Ho()&&t.D_.length>0}function OP(t){Ti(t).start()}async function ML(t){Ti(t).d_()}async function LL(t){const e=Ti(t);for(const n of t.D_)e.I_(n.mutations)}async function FL(t,e,n){const r=t.D_.shift(),i=Rv.from(r,e,n);await NP(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Bd(t)}async function $L(t,e){e&&Ti(t).P_&&await async function(r,i){if(function(o){return RM(o)&&o!==b.ABORTED}(i.code)){const s=r.D_.shift();Ti(r).Zo(),await NP(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Bd(r)}}(t,e),DP(t)&&OP(t)}async function E1(t,e){const n=ee(t);n.asyncQueue.verifyOperationInProgress(),D("RemoteStore","RemoteStore received new credentials");const r=Os(n);n.v_.add(3),await mu(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Ud(n)}async function UL(t,e){const n=ee(t);e?(n.v_.delete(2),await Ud(n)):e||(n.v_.add(2),await mu(n),n.x_.set("Unknown"))}function ta(t){return t.N_||(t.N_=function(n,r,i){const s=ee(n);return s.R_(),new PL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:NL.bind(null,t),To:DL.bind(null,t),u_:OL.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Lv(t)?Mv(t):t.x_.set("Unknown")):(await t.N_.stop(),kP(t))})),t.N_}function Ti(t){return t.B_||(t.B_=function(n,r,i){const s=ee(n);return s.R_(),new CL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:ML.bind(null,t),To:$L.bind(null,t),E_:LL.bind(null,t),T_:FL.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await Bd(t)):(await t.B_.stop(),t.D_.length>0&&(D("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Gn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Fv(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $v(t,e){if(tr("AsyncQueue",`${e}: ${t}`),hu(t))return new V(b.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||B.comparator(n.key,r.key):(n,r)=>B.comparator(n.key,r.key),this.keyedMap=Ra(),this.sortedSet=new je(this.comparator)}static emptySet(e){return new xo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(){this.L_=new je(B.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):X():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Fo{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Fo(e,n,xo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(){this.q_=void 0,this.Q_=[]}}class zL{constructor(){this.queries=new ea(e=>eP(e),jd),this.onlineState="Unknown",this.K_=new Set}}async function Uv(t,e){const n=ee(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new BL),i)try{s.q_=await n.onListen(r)}catch(o){const a=$v(o,`Initialization of query '${Gs(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&zv(n)}async function Bv(t,e){const n=ee(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function WL(t,e){const n=ee(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&zv(n)}function HL(t,e,n){const r=ee(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function zv(t){t.K_.forEach(e=>{e.next()})}class Wv{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Fo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e){this.key=e}}class VP{constructor(e){this.key=e}}class qL{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=ne(),this.mutatedKeys=ne(),this.ua=tP(e),this.ca=new xo(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new T1,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,h)=>{const f=i.get(c),p=Vd(this.query,h)?h:null,g=!!f&&this.mutatedKeys.has(f.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;f&&p?f.data.isEqual(p.data)?g!==_&&(r.track({type:3,doc:p}),w=!0):this.Ia(f,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.ua(p,l)>0||u&&this.ua(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),w=!0):f&&!p&&(r.track({type:1,doc:f}),w=!0,(l||u)&&(a=!0)),w&&(p?(o=o.add(p),s=_?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((c,h)=>function(p,g){const _=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return _(p)-_(g)}(c.type,h.type)||this.ua(c.doc,h.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,u=l!==this._a;return this._a=l,o.length!==0||u?{snapshot:new Fo(this.query,e.ca,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new T1,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=ne(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new VP(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new jP(r))}),n}Ra(e){this.oa=e.hs,this.aa=ne();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Fo.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class GL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class KL{constructor(e){this.key=e,this.ma=!1}}class QL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new ea(a=>eP(a),jd),this.pa=new Map,this.ya=new Set,this.wa=new je(B.comparator),this.Sa=new Map,this.ba=new Dv,this.Da={},this.Ca=new Map,this.va=Lo.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function XL(t,e){const n=oF(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await wL(n.localStore,Kn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await YL(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&CP(n.remoteStore,o)}return i}async function YL(t,e,n,r,i){t.Ma=(h,f,p)=>async function(_,w,v,m){let y=w.view.ha(v);y.Xi&&(y=await v1(_.localStore,w.query,!1).then(({documents:I})=>w.view.ha(I,y)));const T=m&&m.targetChanges.get(w.targetId),S=m&&m.targetMismatches.get(w.targetId)!=null,x=w.view.applyChanges(y,_.isPrimaryClient,T,S);return S1(_,w.targetId,x.da),x.snapshot}(t,h,f,p);const s=await v1(t.localStore,e,!0),o=new qL(e,s.hs),a=o.ha(s.documents),l=pu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);S1(t,n,u.da);const c=new GL(e,n,o);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function JL(t,e){const n=ee(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!jd(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await gg(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),bP(n.remoteStore,r.targetId),yg(n,r.targetId)}).catch(cu)):(yg(n,r.targetId),await gg(n.localStore,r.targetId,!0))}async function ZL(t,e,n){const r=aF(t);try{const i=await function(o,a){const l=ee(o),u=Ze.now(),c=a.reduce((p,g)=>p.add(g.key),ne());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Pr(),_=ne();return l.os.getEntries(p,c).next(w=>{g=w,g.forEach((v,m)=>{m.isValidDocument()||(_=_.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(w=>{h=w;const v=[];for(const m of a){const y=IM(m,h.get(m.key).overlayedDocument);y!=null&&v.push(new Di(m.key,y,qA(y.value.mapValue),Qn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,v,a)}).next(w=>{f=w;const v=w.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(p,w.batchId,v)})}).then(()=>({batchId:f.batchId,changes:rP(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Da[o.currentUser.toKey()];u||(u=new je(ue)),u=u.insert(a,l),o.Da[o.currentUser.toKey()]=u}(r,i.batchId,n),await gu(r,i.changes),await Bd(r.remoteStore)}catch(i){const s=$v(i,"Failed to persist write");n.reject(s)}}async function MP(t,e){const n=ee(t);try{const r=await yL(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(_e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?_e(o.ma):i.removedDocuments.size>0&&(_e(o.ma),o.ma=!1))}),await gu(n,r,e)}catch(r){await cu(r)}}function x1(t,e,n){const r=ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=ee(o);l.onlineState=a;let u=!1;l.queries.forEach((c,h)=>{for(const f of h.Q_)f.U_(a)&&(u=!0)}),u&&zv(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function eF(t,e,n){const r=ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new je(B.comparator);o=o.insert(s,It.newNoDocument(s,Z.min()));const a=ne().add(s),l=new Fd(Z.min(),new Map,new je(ue),o,a);await MP(r,l),r.wa=r.wa.remove(s),r.Sa.delete(e),Hv(r)}else await gg(r.localStore,e,!1).then(()=>yg(r,e,n)).catch(cu)}async function tF(t,e){const n=ee(t),r=e.batch.batchId;try{const i=await gL(n.localStore,e);FP(n,r,null),LP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gu(n,i)}catch(i){await cu(i)}}async function nF(t,e,n){const r=ee(t);try{const i=await function(o,a){const l=ee(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(_e(h!==null),c=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);FP(r,e,n),LP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gu(r,i)}catch(i){await cu(i)}}function LP(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function FP(t,e,n){const r=ee(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function yg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||$P(t,r)})}function $P(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(bP(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),Hv(t))}function S1(t,e,n){for(const r of n)r instanceof jP?(t.ba.addReference(r.key,e),rF(t,r)):r instanceof VP?(D("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||$P(t,r.key)):X()}function rF(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(D("SyncEngine","New document in limbo: "+n),t.ya.add(r),Hv(t))}function Hv(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new B(Se.fromString(e)),r=t.va.next();t.Sa.set(r,new KL(n)),t.wa=t.wa.insert(n,r),CP(t.remoteStore,new ei(Kn(Od(n.path)),r,"TargetPurposeLimboResolution",Sv._e))}}async function gu(t,e,n){const r=ee(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{o.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=jv.Ki(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.fa.u_(i),await async function(l,u){const c=ee(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>R.forEach(u,f=>R.forEach(f.qi,p=>c.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>R.forEach(f.Qi,p=>c.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!hu(h))throw h;D("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=c.ns.get(f),g=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(g);c.ns=c.ns.insert(f,_)}}}(r.localStore,s))}async function iF(t,e){const n=ee(t);if(!n.currentUser.isEqual(e)){D("SyncEngine","User change. New user:",e.toKey());const r=await SP(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(l=>{l.reject(new V(b.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gu(n,r.us)}}function sF(t,e){const n=ee(t),r=n.Sa.get(e);if(r&&r.ma)return ne().add(r.key);{let i=ne();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function oF(t){const e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=MP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eF.bind(null,e),e.fa.u_=WL.bind(null,e.eventManager),e.fa.xa=HL.bind(null,e.eventManager),e}function aF(t){const e=ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nF.bind(null,e),e}class I1{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=$d(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return mL(this.persistence,new fL,e.initialUser,this.serializer)}createPersistence(e){return new cL(Ov.Hr,this.serializer)}createSharedClientState(e){return new TL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class lF{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>x1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=iF.bind(null,this.syncEngine),await UL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new zL}()}createDatastore(e){const n=$d(e.databaseInfo.databaseId),r=function(s){return new AL(s)}(e.databaseInfo);return function(s,o,a,l){return new bL(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new kL(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>x1(this.syncEngine,n,0),function(){return w1.D()?new w1:new xL}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const h=new QL(i,s,o,a,l,u);return c&&(h.Fa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=ee(r);D("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await mu(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):tr("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=xt.UNAUTHENTICATED,this.clientId=zA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{D("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(D("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new V(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$v(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function _p(t,e){t.asyncQueue.verifyOperationInProgress(),D("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await SP(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function A1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await hF(t);D("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>E1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>E1(e.remoteStore,i)),t._onlineComponents=e}function cF(t){return t.name==="FirebaseError"?t.code===b.FAILED_PRECONDITION||t.code===b.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function hF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){D("FirestoreClient","Using user provided OfflineComponentProvider");try{await _p(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!cF(n))throw n;Oo("Error using user provided cache. Falling back to memory cache: "+n),await _p(t,new I1)}}else D("FirestoreClient","Using default OfflineComponentProvider"),await _p(t,new I1);return t._offlineComponents}async function UP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(D("FirestoreClient","Using user provided OnlineComponentProvider"),await A1(t,t._uninitializedComponentsProvider._online)):(D("FirestoreClient","Using default OnlineComponentProvider"),await A1(t,new lF))),t._onlineComponents}function dF(t){return UP(t).then(e=>e.syncEngine)}async function bh(t){const e=await UP(t),n=e.eventManager;return n.onListen=XL.bind(null,e.syncEngine),n.onUnlisten=JL.bind(null,e.syncEngine),n}function fF(t,e,n={}){const r=new Gn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new qv({next:f=>{o.enqueueAndForget(()=>Bv(s,h));const p=f.docs.has(a);!p&&f.fromCache?u.reject(new V(b.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?u.reject(new V(b.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new Wv(Od(a.path),c,{includeMetadataChanges:!0,Z_:!0});return Uv(s,h)}(await bh(t),t.asyncQueue,e,n,r)),r.promise}function pF(t,e,n={}){const r=new Gn;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new qv({next:f=>{o.enqueueAndForget(()=>Bv(s,h)),f.fromCache&&l.source==="server"?u.reject(new V(b.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new Wv(a,c,{includeMetadataChanges:!0,Z_:!0});return Uv(s,h)}(await bh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(t,e,n){if(!n)throw new V(b.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mF(t,e,n,r){if(e===!0&&r===!0)throw new V(b.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function C1(t){if(!B.isDocumentKey(t))throw new V(b.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function b1(t){if(B.isDocumentKey(t))throw new V(b.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X()}function Pn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zd(t);throw new V(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new V(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new V(b.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new V(b.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new V(b.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new V(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new V(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new OV;switch(r.type){case"firstParty":return new LV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=P1.get(n);r&&(D("ComponentProvider","Removing Datastore"),P1.delete(n),r.terminate())}(this),Promise.resolve()}}function gF(t,e,n,r={}){var i;const s=(t=Pn(t,Wd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=xt.MOCK_USER;else{a=NI(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new V(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new xt(u)}t._authCredentials=new jV(new BA(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new js(this.firestore,e,this._query)}}class Lt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}}class fi extends js{constructor(e,n,r){super(e,n,Od(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new B(e))}withConverter(e){return new fi(this.firestore,e,this._path)}}function xs(t,e,...n){if(t=Le(t),zP("collection","path",e),t instanceof Wd){const r=Se.fromString(e,...n);return b1(r),new fi(t,null,r)}{if(!(t instanceof Lt||t instanceof fi))throw new V(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return b1(r),new fi(t.firestore,null,r)}}function Gv(t,e,...n){if(t=Le(t),arguments.length===1&&(e=zA.newId()),zP("doc","path",e),t instanceof Wd){const r=Se.fromString(e,...n);return C1(r),new Lt(t,null,new B(r))}{if(!(t instanceof Lt||t instanceof fi))throw new V(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return C1(r),new Lt(t.firestore,t instanceof fi?t.converter:null,new B(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new AP(this,"async_queue_retry"),this._u=()=>{const n=vp();n&&D("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=vp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=vp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Gn;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!hu(e))throw e;D("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw tr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=Fv.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&X()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function k1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Ss extends Wd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new yF}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||WP(this),this._firestoreClient.terminate()}}function vF(t,e){const n=typeof t=="object"?t:Jy(),r=typeof t=="string"?t:e||"(default)",i=gd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=bI("firestore");s&&gF(i,...s)}return i}function Hd(t){return t._firestoreClient||WP(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function WP(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new JV(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,BP(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new uF(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $o(bt.fromBase64String(e))}catch(n){throw new V(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $o(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new V(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F=/^__.*__$/;class wF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Di(e,this.data,this.fieldMask,n,this.fieldTransforms):new fu(e,this.data,n,this.fieldTransforms)}}class HP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Di(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qP(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}class Xv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Xv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Rh(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(qP(this.du)&&_F.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class EF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$d(e)}Su(e,n,r,i=!1){return new Xv({du:e,methodName:n,wu:r,path:ft.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yv(t){const e=t._freezeSettings(),n=$d(t._databaseId);return new EF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function TF(t,e,n,r,i,s={}){const o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);Jv("Data must be an object, but it was:",o,r);const a=GP(r,o);let l,u;if(s.merge)l=new en(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const h of s.mergeFields){const f=vg(e,h,n);if(!o.contains(f))throw new V(b.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);QP(c,f)||c.push(f)}l=new en(c),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new wF(new qt(a),l,u)}class Gd extends Kv{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gd}}function xF(t,e,n,r){const i=t.Su(1,e,n);Jv("Data must be an object, but it was:",i,r);const s=[],o=qt.empty();Ds(r,(l,u)=>{const c=Zv(e,l,n);u=Le(u);const h=i.fu(c);if(u instanceof Gd)s.push(c);else{const f=yu(u,h);f!=null&&(s.push(c),o.set(c,f))}});const a=new en(s);return new HP(o,a,i.fieldTransforms)}function SF(t,e,n,r,i,s){const o=t.Su(1,e,n),a=[vg(e,r,n)],l=[i];if(s.length%2!=0)throw new V(b.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(vg(e,s[f])),l.push(s[f+1]);const u=[],c=qt.empty();for(let f=a.length-1;f>=0;--f)if(!QP(u,a[f])){const p=a[f];let g=l[f];g=Le(g);const _=o.fu(p);if(g instanceof Gd)u.push(p);else{const w=yu(g,_);w!=null&&(u.push(p),c.set(p,w))}}const h=new en(u);return new HP(c,h,o.fieldTransforms)}function IF(t,e,n,r=!1){return yu(n,t.Su(r?4:3,e))}function yu(t,e){if(KP(t=Le(t)))return Jv("Unsupported field value:",e,t),GP(t,e);if(t instanceof Kv)return function(r,i){if(!qP(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=yu(a,i.gu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Le(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _M(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Ze.fromDate(r);return{timestampValue:Ph(i.serializer,s)}}if(r instanceof Ze){const s=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ph(i.serializer,s)}}if(r instanceof Qv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $o)return{bytesValue:yP(i.serializer,r._byteString)};if(r instanceof Lt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Nv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${zd(r)}`)}(t,e)}function GP(t,e){const n={};return WA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ds(t,(r,i)=>{const s=yu(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function KP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ze||t instanceof Qv||t instanceof $o||t instanceof Lt||t instanceof Kv)}function Jv(t,e,n){if(!KP(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=zd(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function vg(t,e,n){if((e=Le(e))instanceof qd)return e._internalPath;if(typeof e=="string")return Zv(t,e);throw Rh("Field path arguments must be of type string or ",t,!1,void 0,n)}const AF=new RegExp("[~\\*/\\[\\]]");function Zv(t,e,n){if(e.search(AF)>=0)throw Rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qd(...e.split("."))._internalPath}catch{throw Rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new V(b.INVALID_ARGUMENT,a+t+l)}function QP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(e0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PF extends XP{data(){return super.data()}}function e0(t,e){return typeof e=="string"?Zv(t,e):e instanceof qd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new V(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class t0{}class CF extends t0{}function Vl(t,e,...n){let r=[];e instanceof t0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof n0).length,a=s.filter(l=>l instanceof Kd).length;if(o>1||o>0&&a>0)throw new V(b.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Kd extends CF{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Kd(e,n,r)}_apply(e){const n=this._parse(e);return JP(e._query,n),new js(e.firestore,e.converter,cg(e._query,n))}_parse(e){const n=Yv(e.firestore);return function(s,o,a,l,u,c,h){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new V(b.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){D1(h,c);const p=[];for(const g of h)p.push(N1(l,s,g));f={arrayValue:{values:p}}}else f=N1(l,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||D1(h,c),f=IF(a,o,h,c==="in"||c==="not-in");return Ke.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Vn(t,e,n){const r=e,i=e0("where",t);return Kd._create(i,r,n)}class n0 extends t0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new n0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Rn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)JP(o,l),o=cg(o,l)}(e._query,n),new js(e.firestore,e.converter,cg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function N1(t,e,n){if(typeof(n=Le(n))=="string"){if(n==="")throw new V(b.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZA(e)&&n.indexOf("/")!==-1)throw new V(b.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Se.fromString(n));if(!B.isDocumentKey(r))throw new V(b.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return t1(t,new B(r))}if(n instanceof Lt)return t1(t,n._key);throw new V(b.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zd(n)}.`)}function D1(t,e){if(!Array.isArray(t)||t.length===0)throw new V(b.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JP(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new V(b.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new V(b.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class bF{convertValue(e,n="none"){switch(Ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw X()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ds(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Qv(qe(e.latitude),qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Av(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(kl(e));default:return null}}convertTimestamp(e){const n=Ei(e);return new Ze(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Se.fromString(e);_e(xP(r));const i=new Nl(r.get(1),r.get(3)),s=new B(r.popFirst(5));return i.isEqual(n)||tr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZP extends XP{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(e0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Nc extends ZP{data(e={}){return super.data(e)}}class eC{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Na(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Nc(this._firestore,this._userDataWriter,r.key,r,new Na(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Nc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Na(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Nc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Na(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:kF(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function kF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(t){t=Pn(t,Lt);const e=Pn(t.firestore,Ss);return fF(Hd(e),t._key).then(n=>iC(e,t,n))}class r0 extends bF{constructor(e){super(),this.firestore=e}convertBytes(e){return new $o(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,n)}}function tC(t){t=Pn(t,js);const e=Pn(t.firestore,Ss),n=Hd(e),r=new r0(e);return YP(t._query),pF(n,t._query).then(i=>new eC(e,r,t,i))}function DF(t,e,n,...r){t=Pn(t,Lt);const i=Pn(t.firestore,Ss),s=Yv(i);let o;return o=typeof(e=Le(e))=="string"||e instanceof qd?SF(s,"updateDoc",t._key,e,n,r):xF(s,"updateDoc",t._key,e),rC(i,[o.toMutation(t._key,Qn.exists(!0))])}function _g(t,e){const n=Pn(t.firestore,Ss),r=Gv(t),i=RF(t.converter,e);return rC(n,[TF(Yv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Qn.exists(!1))]).then(()=>r)}function nC(t,...e){var n,r,i;t=Le(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||k1(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(k1(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,u,c;if(t instanceof Lt)u=Pn(t.firestore,Ss),c=Od(t._key.path),l={next:h=>{e[o]&&e[o](iC(u,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Pn(t,js);u=Pn(h.firestore,Ss),c=h._query;const f=new r0(u);l={next:p=>{e[o]&&e[o](new eC(u,f,h,p))},error:e[o+1],complete:e[o+2]},YP(t._query)}return function(f,p,g,_){const w=new qv(_),v=new Wv(p,w,g);return f.asyncQueue.enqueueAndForget(async()=>Uv(await bh(f),v)),()=>{w.La(),f.asyncQueue.enqueueAndForget(async()=>Bv(await bh(f),v))}}(Hd(u),c,a,l)}function rC(t,e){return function(r,i){const s=new Gn;return r.asyncQueue.enqueueAndForget(async()=>ZL(await dF(r),i,s)),s.promise}(Hd(t),e)}function iC(t,e,n){const r=n.docs.get(e._key),i=new r0(t);return new ZP(t,i,e._key,r,new Na(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Zo=i})(ks),_s(new _i("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ss(new VV(r.getProvider("auth-internal")),new $V(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new V(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),qn(Xw,"4.4.2",e),qn(Xw,"4.4.2","esm2017")})();function i0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function sC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OF=sC,oC=new eu("auth","Firebase",sC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh=new Xy("@firebase/auth");function jF(t,...e){kh.logLevel<=ie.WARN&&kh.warn(`Auth (${ks}): ${t}`,...e)}function Dc(t,...e){kh.logLevel<=ie.ERROR&&kh.error(`Auth (${ks}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t,...e){throw s0(t,...e)}function Yn(t,...e){return s0(t,...e)}function aC(t,e,n){const r=Object.assign(Object.assign({},OF()),{[e]:n});return new eu("auth","Firebase",r).create(e,{appName:t.name})}function VF(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&_n(t,"argument-error"),aC(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function s0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return oC.create(t,...e)}function H(t,e,...n){if(!t)throw s0(e,...n)}function mr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Dc(e),new Error(e)}function Cr(t,e){t||mr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function MF(){return O1()==="http:"||O1()==="https:"}function O1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MF()||uO()||"connection"in navigator)?navigator.onLine:!0}function FF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Cr(n>e,"Short delay should be less than long delay!"),this.isMobile=aO()||cO()}get(){return LF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(t,e){Cr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=new vu(3e4,6e4);function Nr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Dr(t,e,n,r,i={}){return uC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=tu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),lC.fetch()(cC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function uC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},$F),e);try{const i=new zF(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw nc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw nc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw nc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw nc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw aC(t,c,u);_n(t,c)}}catch(i){if(i instanceof rr)throw i;_n(t,"network-request-failed",{message:String(i)})}}async function _u(t,e,n,r,i={}){const s=await Dr(t,e,n,r,i);return"mfaPendingCredential"in s&&_n(t,"multi-factor-auth-required",{_serverResponse:s}),s}function cC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?o0(t.config,i):`${t.config.apiScheme}://${i}`}function BF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zF{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Yn(this.auth,"network-request-failed")),UF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Yn(t,e,r);return i.customData._tokenResponse=n,i}function j1(t){return t!==void 0&&t.enterprise!==void 0}class WF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return BF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function HF(t,e){return Dr(t,"GET","/v2/recaptchaConfig",Nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qF(t,e){return Dr(t,"POST","/v1/accounts:delete",e)}async function GF(t,e){return Dr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KF(t,e=!1){const n=Le(t),r=await n.getIdToken(e),i=a0(r);H(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Qa(wp(i.auth_time)),issuedAtTime:Qa(wp(i.iat)),expirationTime:Qa(wp(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function wp(t){return Number(t)*1e3}function a0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dc("JWT malformed, contained fewer than 3 sections"),null;try{const i=PI(n);return i?JSON.parse(i):(Dc("Failed to decode base64 JWT payload"),null)}catch(i){return Dc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function QF(t){const e=a0(t);return H(e,"internal-error"),H(typeof e.exp<"u","internal-error"),H(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof rr&&XF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function XF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qa(this.lastLoginAt),this.creationTime=Qa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ml(t,GF(n,{idToken:r}));H(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?e4(s.providerUserInfo):[],a=ZF(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new hC(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function JF(t){const e=Le(t);await Nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function e4(t){return t.map(e=>{var{providerId:n}=e,r=i0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4(t,e){const n=await uC(t,{},async()=>{const r=tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=cC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",lC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function n4(t,e){return Dr(t,"POST","/v2/accounts:revokeToken",Nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){H(e.idToken,"internal-error"),H(typeof e.idToken<"u","internal-error"),H(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QF(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return H(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await t4(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ll;return r&&(H(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(H(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(H(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ll,this.toJSON())}_performRefresh(){return mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(t,e){H(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=i0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new YF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new hC(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ml(this,this.stsTokenManager.getToken(this.auth,e));return H(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return KF(this,e)}reload(){return JF(this)}_assign(e){this!==e&&(H(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){H(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Nh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ml(this,qF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,m=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:T,isAnonymous:S,providerData:x,stsTokenManager:I}=n;H(y&&I,e,"internal-error");const A=Ll.fromJSON(this.name,I);H(typeof y=="string",e,"internal-error"),Lr(h,e.name),Lr(f,e.name),H(typeof T=="boolean",e,"internal-error"),H(typeof S=="boolean",e,"internal-error"),Lr(p,e.name),Lr(g,e.name),Lr(_,e.name),Lr(w,e.name),Lr(v,e.name),Lr(m,e.name);const C=new cs({uid:y,auth:e,email:f,emailVerified:T,displayName:h,isAnonymous:S,photoURL:g,phoneNumber:p,tenantId:_,stsTokenManager:A,createdAt:v,lastLoginAt:m});return x&&Array.isArray(x)&&(C.providerData=x.map(k=>Object.assign({},k))),w&&(C._redirectEventId=w),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ll;i.updateFromServerResponse(n);const s=new cs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Nh(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=new Map;function gr(t){Cr(t instanceof Function,"Expected a class definition");let e=V1.get(t);return e?(Cr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,V1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}dC.type="NONE";const M1=dC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t,e,n){return`firebase:${t}:${e}:${n}`}class So{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Oc(this.userKey,i.apiKey,s),this.fullPersistenceKey=Oc("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?cs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new So(gr(M1),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||gr(M1);const o=Oc(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const h=cs._fromJSON(e,c);u!==s&&(a=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new So(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new So(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yC(e))return"Blackberry";if(vC(e))return"Webos";if(l0(e))return"Safari";if((e.includes("chrome/")||pC(e))&&!e.includes("edge/"))return"Chrome";if(gC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function fC(t=Xe()){return/firefox\//i.test(t)}function l0(t=Xe()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pC(t=Xe()){return/crios\//i.test(t)}function mC(t=Xe()){return/iemobile/i.test(t)}function gC(t=Xe()){return/android/i.test(t)}function yC(t=Xe()){return/blackberry/i.test(t)}function vC(t=Xe()){return/webos/i.test(t)}function Qd(t=Xe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function r4(t=Xe()){var e;return Qd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function i4(){return hO()&&document.documentMode===10}function _C(t=Xe()){return Qd(t)||gC(t)||vC(t)||yC(t)||/windows phone/i.test(t)||mC(t)}function s4(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t,e=[]){let n;switch(t){case"Browser":n=L1(Xe());break;case"Worker":n=`${L1(Xe())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ks}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a4(t,e={}){return Dr(t,"GET","/v2/passwordPolicy",Nr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4=6;class u4{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:l4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new F1(this),this.idTokenSubscription=new F1(this),this.beforeStateQueue=new o4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await So.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return H(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Nh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Le(e):null;return n&&H(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&H(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await a4(this),n=new u4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new eu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await n4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gr(e)||this._popupRedirectResolver;H(n,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[gr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(H(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return H(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&jF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Or(t){return Le(t)}class F1{constructor(e){this.auth=e,this.observer=null,this.addObserver=vO(n=>this.observer=n)}get next(){return H(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function h4(t){Xd=t}function EC(t){return Xd.loadJS(t)}function d4(){return Xd.recaptchaEnterpriseScript}function f4(){return Xd.gapiScript}function p4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const m4="recaptcha-enterprise",g4="NO_RECAPTCHA";class y4{constructor(e){this.type=m4,this.auth=Or(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{HF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new WF(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;j1(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(g4)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&j1(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=d4();l.length!==0&&(l+=a),EC(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function $1(t,e,n,r=!1){const i=new y4(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Dh(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await $1(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await $1(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(t,e){const n=gd(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ph(s,e??{}))return i;_n(i,"already-initialized")}return n.initialize({options:e})}function _4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function w4(t,e,n){const r=Or(t);H(r._canInitEmulator,r,"emulator-config-failed"),H(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=TC(e),{host:o,port:a}=E4(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||T4()}function TC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function E4(t){const e=TC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:U1(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:U1(o)}}}function U1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function T4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return mr("not implemented")}_getIdTokenResponse(e){return mr("not implemented")}_linkToIdToken(e,n){return mr("not implemented")}_getReauthenticationResolver(e){return mr("not implemented")}}async function x4(t,e){return Dr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S4(t,e){return _u(t,"POST","/v1/accounts:signInWithPassword",Nr(t,e))}async function I4(t,e){return Dr(t,"POST","/v1/accounts:sendOobCode",Nr(t,e))}async function A4(t,e){return I4(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P4(t,e){return _u(t,"POST","/v1/accounts:signInWithEmailLink",Nr(t,e))}async function C4(t,e){return _u(t,"POST","/v1/accounts:signInWithEmailLink",Nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends u0{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Fl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Fl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dh(e,n,"signInWithPassword",S4);case"emailLink":return P4(e,{email:this._email,oobCode:this._password});default:_n(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dh(e,r,"signUpPassword",x4);case"emailLink":return C4(e,{idToken:n,email:this._email,oobCode:this._password});default:_n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(t,e){return _u(t,"POST","/v1/accounts:signInWithIdp",Nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4="http://localhost";class Is extends u0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Is(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=i0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Is(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Io(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Io(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Io(e,n)}buildRequest(){const e={requestUri:b4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function k4(t){const e=Aa(Pa(t)).link,n=e?Aa(Pa(e)).deep_link_id:null,r=Aa(Pa(t)).deep_link_id;return(r?Aa(Pa(r)).link:null)||r||n||e||t}class c0{constructor(e){var n,r,i,s,o,a;const l=Aa(Pa(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,h=R4((i=l.mode)!==null&&i!==void 0?i:null);H(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=k4(e);try{return new c0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this.providerId=na.PROVIDER_ID}static credential(e,n){return Fl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=c0.parseLink(n);return H(r,"argument-error"),Fl._fromEmailAndCode(e,r.code,r.tenantId)}}na.PROVIDER_ID="password";na.EMAIL_PASSWORD_SIGN_IN_METHOD="password";na.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends h0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends wu{constructor(){super("facebook.com")}static credential(e){return Is._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Is._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return hr.credential(n,r)}catch{return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com";hr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends wu{constructor(){super("github.com")}static credential(e){return Is._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.GITHUB_SIGN_IN_METHOD="github.com";Kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends wu{constructor(){super("twitter.com")}static credential(e,n){return Is._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qr.credential(n,r)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(t,e){return _u(t,"POST","/v1/accounts:signUp",Nr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await cs._fromIdTokenResponse(e,r,i),o=B1(r);return new As({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=B1(r);return new As({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function B1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends rr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Oh.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Oh(e,n,r,i)}}function xC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Oh._fromErrorAndOperation(t,s,e,r):s})}async function D4(t,e,n=!1){const r=await Ml(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return As._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O4(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Ml(t,xC(r,i,e,t),n);H(s.idToken,r,"internal-error");const o=a0(s.idToken);H(o,r,"internal-error");const{sub:a}=o;return H(t.uid===a,r,"user-mismatch"),As._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&_n(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(t,e,n=!1){const r="signIn",i=await xC(t,r,e),s=await As._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function j4(t,e){return SC(Or(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(t,e,n){var r;H(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),H(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(H(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(H(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(t){const e=Or(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function M4(t,e,n){const r=Or(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&V4(r,i,n),await Dh(r,i,"getOobCode",A4)}async function L4(t,e,n){const r=Or(t),o=await Dh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",N4).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&IC(t),l}),a=await As._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function F4(t,e,n){return j4(Le(t),na.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&IC(t),r})}function $4(t,e,n,r){return Le(t).onIdTokenChanged(e,n,r)}function U4(t,e,n){return Le(t).beforeAuthStateChanged(e,n)}function B4(t){return Le(t).signOut()}const jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(){const t=Xe();return l0(t)||Qd(t)}const W4=1e3,H4=10;class PC extends AC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=z4()&&s4(),this.fallbackToPolling=_C(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);i4()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,H4):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},W4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PC.type="LOCAL";const q4=PC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC extends AC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}CC.type="SESSION";const bC=CC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Yd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await G4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=d0("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(){return window}function Q4(t){Jn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(){return typeof Jn().WorkerGlobalScope<"u"&&typeof Jn().importScripts=="function"}async function X4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Y4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function J4(){return RC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="firebaseLocalStorageDb",Z4=1,Vh="firebaseLocalStorage",NC="fbase_key";class Eu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jd(t,e){return t.transaction([Vh],e?"readwrite":"readonly").objectStore(Vh)}function e$(){const t=indexedDB.deleteDatabase(kC);return new Eu(t).toPromise()}function Eg(){const t=indexedDB.open(kC,Z4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Vh,{keyPath:NC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Vh)?e(r):(r.close(),await e$(),e(await Eg()))})})}async function z1(t,e,n){const r=Jd(t,!0).put({[NC]:e,value:n});return new Eu(r).toPromise()}async function t$(t,e){const n=Jd(t,!1).get(e),r=await new Eu(n).toPromise();return r===void 0?null:r.value}function W1(t,e){const n=Jd(t,!0).delete(e);return new Eu(n).toPromise()}const n$=800,r$=3;class DC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Eg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>r$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yd._getInstance(J4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await X4(),!this.activeServiceWorker)return;this.sender=new K4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Y4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Eg();return await z1(e,jh,"1"),await W1(e,jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>z1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>t$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>W1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Jd(i,!1).getAll();return new Eu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DC.type="LOCAL";const i$=DC;new vu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(t,e){return e?gr(e):(H(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0 extends u0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Io(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Io(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Io(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function s$(t){return SC(t.auth,new f0(t),t.bypassAuthState)}function o$(t){const{auth:e,user:n}=t;return H(n,e,"internal-error"),O4(n,new f0(t),t.bypassAuthState)}async function a$(t){const{auth:e,user:n}=t;return H(n,e,"internal-error"),D4(n,new f0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return s$;case"linkViaPopup":case"linkViaRedirect":return a$;case"reauthViaPopup":case"reauthViaRedirect":return o$;default:_n(this.auth,"internal-error")}}resolve(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$=new vu(2e3,1e4);async function VC(t,e,n){const r=Or(t);VF(t,e,h0);const i=OC(r,n);return new ss(r,"signInViaPopup",e,i).executeNotNull()}class ss extends jC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ss.currentPopupAction&&ss.currentPopupAction.cancel(),ss.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return H(e,this.auth,"internal-error"),e}async onExecution(){Cr(this.filter.length===1,"Popup operations only handle one event");const e=d0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ss.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,l$.get())};e()}}ss.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u$="pendingRedirect",jc=new Map;class c$ extends jC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=jc.get(this.auth._key());if(!e){try{const r=await h$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}jc.set(this.auth._key(),e)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function h$(t,e){const n=p$(e),r=f$(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function d$(t,e){jc.set(t._key(),e)}function f$(t){return gr(t._redirectPersistence)}function p$(t){return Oc(u$,t.config.apiKey,t.name)}async function m$(t,e,n=!1){const r=Or(t),i=OC(r,e),o=await new c$(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g$=10*60*1e3;class y${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!v$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!MC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Yn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=g$&&this.cachedEventUids.clear(),this.cachedEventUids.has(H1(e))}saveEventToCache(e){this.cachedEventUids.add(H1(e)),this.lastProcessedEventTime=Date.now()}}function H1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function v$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _$(t,e={}){return Dr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,E$=/^https?/;async function T$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _$(t);for(const n of e)try{if(x$(n))return}catch{}_n(t,"unauthorized-domain")}function x$(t){const e=wg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!E$.test(n))return!1;if(w$.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$=new vu(3e4,6e4);function q1(){const t=Jn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function I$(t){return new Promise((e,n)=>{var r,i,s;function o(){q1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{q1(),n(Yn(t,"network-request-failed"))},timeout:S$.get()})}if(!((i=(r=Jn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Jn().gapi)===null||s===void 0)&&s.load)o();else{const a=p4("iframefcb");return Jn()[a]=()=>{gapi.load?o():n(Yn(t,"network-request-failed"))},EC(`${f4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Vc=null,e})}let Vc=null;function A$(t){return Vc=Vc||I$(t),Vc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$=new vu(5e3,15e3),C$="__/auth/iframe",b$="emulator/auth/iframe",R$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},k$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N$(t){const e=t.config;H(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?o0(e,b$):`https://${t.config.authDomain}/${C$}`,r={apiKey:e.apiKey,appName:t.name,v:ks},i=k$.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${tu(r).slice(1)}`}async function D$(t){const e=await A$(t),n=Jn().gapi;return H(n,t,"internal-error"),e.open({where:document.body,url:N$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:R$,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Yn(t,"network-request-failed"),a=Jn().setTimeout(()=>{s(o)},P$.get());function l(){Jn().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},j$=500,V$=600,M$="_blank",L$="http://localhost";class G1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function F$(t,e,n,r=j$,i=V$){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},O$),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Xe().toLowerCase();n&&(a=pC(u)?M$:n),fC(u)&&(e=e||L$,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[p,g])=>`${f}${p}=${g},`,"");if(r4(u)&&a!=="_self")return $$(e||"",a),new G1(null);const h=window.open(e||"",a,c);H(h,t,"popup-blocked");try{h.focus()}catch{}return new G1(h)}function $$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$="__/auth/handler",B$="emulator/auth/handler",z$=encodeURIComponent("fac");async function K1(t,e,n,r,i,s){H(t.config.authDomain,t,"auth-domain-config-required"),H(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ks,eventId:i};if(e instanceof h0){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",yO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,h]of Object.entries(s||{}))o[c]=h}if(e instanceof wu){const c=e.getScopes().filter(h=>h!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${z$}=${encodeURIComponent(l)}`:"";return`${W$(t)}?${tu(a).slice(1)}${u}`}function W$({config:t}){return t.emulator?o0(t,B$):`https://${t.authDomain}/${U$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="webStorageSupport";class H${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bC,this._completeRedirectFn=m$,this._overrideRedirectResult=d$}async _openPopup(e,n,r,i){var s;Cr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await K1(e,n,r,wg(),i);return F$(e,o,d0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await K1(e,n,r,wg(),i);return Q4(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Cr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await D$(e),r=new y$(e);return n.register("authEvent",i=>(H(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ep,{type:Ep},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Ep];o!==void 0&&n(!!o),_n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=T$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _C()||l0()||Qd()}}const q$=H$;var Q1="@firebase/auth",X1="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){H(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Q$(t){_s(new _i("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;H(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wC(t)},u=new c4(r,i,s,l);return _4(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_s(new _i("auth-internal",e=>{const n=Or(e.getProvider("auth").getImmediate());return(r=>new G$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qn(Q1,X1,K$(t)),qn(Q1,X1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X$=5*60,Y$=kI("authIdTokenMaxAge")||X$;let Y1=null;const J$=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Y$)return;const i=n==null?void 0:n.token;Y1!==i&&(Y1=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Z$(t=Jy()){const e=gd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=v4(t,{popupRedirectResolver:q$,persistence:[i$,q4,bC]}),r=kI("authTokenSyncURL");if(r){const s=J$(r);U4(n,s,()=>s(n.currentUser)),$4(n,o=>s(o))}const i=CI("auth");return i&&w4(n,`http://${i}`),n}function eU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}h4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Yn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",eU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Q$("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="firebasestorage.googleapis.com",FC="storageBucket",tU=2*60*1e3,nU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue extends rr{constructor(e,n,r=0){super(Tp(e),`Firebase Storage: ${n} (${Tp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ue.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Tp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $e;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($e||($e={}));function Tp(t){return"storage/"+t}function p0(){const t="An unknown error occurred, please check the error payload for server response.";return new Ue($e.UNKNOWN,t)}function rU(t){return new Ue($e.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function iU(t){return new Ue($e.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function sU(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ue($e.UNAUTHENTICATED,t)}function oU(){return new Ue($e.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function aU(t){return new Ue($e.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function lU(){return new Ue($e.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uU(){return new Ue($e.CANCELED,"User canceled the upload/download.")}function cU(t){return new Ue($e.INVALID_URL,"Invalid URL '"+t+"'.")}function hU(t){return new Ue($e.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function dU(){return new Ue($e.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+FC+"' property when initializing the app?")}function fU(){return new Ue($e.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function pU(){return new Ue($e.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function mU(t){return new Ue($e.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Tg(t){return new Ue($e.INVALID_ARGUMENT,t)}function $C(){return new Ue($e.APP_DELETED,"The Firebase app was deleted.")}function gU(t){return new Ue($e.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Xa(t,e){return new Ue($e.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ya(t){throw new Ue($e.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=tn.makeFromUrl(e,n)}catch{return new tn(e,"")}if(r.path==="")return r;throw hU(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(T){T.path_=decodeURIComponent(T.path)}const c="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${c}/b/${i}/o${f}`,"i"),g={bucket:1,path:3},_=n===LC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",v=new RegExp(`^https?://${_}/${i}/${w}`,"i"),y=[{regex:a,indices:l,postModify:s},{regex:p,indices:g,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let T=0;T<y.length;T++){const S=y[T],x=S.regex.exec(e);if(x){const I=x[S.indices.bucket];let A=x[S.indices.path];A||(A=""),r=new tn(I,A),S.postModify(r);break}}if(r==null)throw cU(e);return r}}class yU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vU(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...w){u||(u=!0,e.apply(null,w))}function h(w){i=setTimeout(()=>{i=null,t(p,l())},w)}function f(){s&&clearTimeout(s)}function p(w,...v){if(u){f();return}if(w){f(),c.call(null,w,...v);return}if(l()||o){f(),c.call(null,w,...v);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,h(y)}let g=!1;function _(w){g||(g=!0,f(),!u&&(i!==null?(w||(a=2),clearTimeout(i),h(0)):w||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,_(!0)},n),_}function _U(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wU(t){return t!==void 0}function EU(t){return typeof t=="object"&&!Array.isArray(t)}function m0(t){return typeof t=="string"||t instanceof String}function J1(t){return g0()&&t instanceof Blob}function g0(){return typeof Blob<"u"}function Z1(t,e,n,r){if(r<e)throw Tg(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Tg(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function UC(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(hs||(hs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TU(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,n,r,i,s,o,a,l,u,c,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new rc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===hs.NO_ERROR,l=s.getStatus();if(!a||TU(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===hs.ABORT;r(!1,new rc(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new rc(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());wU(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=p0();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?$C():uU();o(l)}else{const l=lU();o(l)}};this.canceled_?n(!1,new rc(!1,null,!0)):this.backoffId_=vU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_U(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class rc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function SU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function IU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function AU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function PU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function CU(t,e,n,r,i,s,o=!0){const a=UC(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return AU(u,e),SU(u,n),IU(u,s),PU(u,r),new xU(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function RU(...t){const e=bU();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(g0())return new Blob(t);throw new Ue($e.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function kU(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NU(t){if(typeof atob>"u")throw mU("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class xp{constructor(e,n){this.data=e,this.contentType=n||null}}function DU(t,e){switch(t){case Bn.RAW:return new xp(BC(e));case Bn.BASE64:case Bn.BASE64URL:return new xp(zC(t,e));case Bn.DATA_URL:return new xp(jU(e),VU(e))}throw p0()}function BC(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function OU(t){let e;try{e=decodeURIComponent(t)}catch{throw Xa(Bn.DATA_URL,"Malformed data URL.")}return BC(e)}function zC(t,e){switch(t){case Bn.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Xa(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Bn.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Xa(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=NU(e)}catch(i){throw i.message.includes("polyfill")?i:Xa(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class WC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Xa(Bn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=MU(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function jU(t){const e=new WC(t);return e.base64?zC(Bn.BASE64,e.rest):OU(e.rest)}function VU(t){return new WC(t).contentType}function MU(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n){let r=0,i="";J1(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(J1(this.data_)){const r=this.data_,i=kU(r,e,n);return i===null?null:new Xr(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Xr(r,!0)}}static getBlob(...e){if(g0()){const n=e.map(r=>r instanceof Xr?r.data_:r);return new Xr(RU.apply(null,n))}else{const n=e.map(o=>m0(o)?DU(Bn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Xr(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(t){let e;try{e=JSON.parse(t)}catch{return null}return EU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LU(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function FU(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function qC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(t,e){return e}class Nt{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||$U}}let ic=null;function UU(t){return!m0(t)||t.length<2?t:qC(t)}function GC(){if(ic)return ic;const t=[];t.push(new Nt("bucket")),t.push(new Nt("generation")),t.push(new Nt("metageneration")),t.push(new Nt("name","fullPath",!0));function e(s,o){return UU(o)}const n=new Nt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Nt("size");return i.xform=r,t.push(i),t.push(new Nt("timeCreated")),t.push(new Nt("updated")),t.push(new Nt("md5Hash",null,!0)),t.push(new Nt("cacheControl",null,!0)),t.push(new Nt("contentDisposition",null,!0)),t.push(new Nt("contentEncoding",null,!0)),t.push(new Nt("contentLanguage",null,!0)),t.push(new Nt("contentType",null,!0)),t.push(new Nt("metadata","customMetadata",!0)),ic=t,ic}function BU(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new tn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function zU(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return BU(r,t),r}function KC(t,e,n){const r=HC(e);return r===null?null:zU(t,r,n)}function WU(t,e,n,r){const i=HC(e);if(i===null||!m0(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,h=t.fullPath,f="/b/"+o(c)+"/o/"+o(h),p=y0(f,n,r),g=UC({alt:"media",token:u});return p+g})[0]}function HU(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class QC{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(t){if(!t)throw p0()}function qU(t,e){function n(r,i){const s=KC(t,i,e);return XC(s!==null),s}return n}function GU(t,e){function n(r,i){const s=KC(t,i,e);return XC(s!==null),WU(s,i,t.host,t._protocol)}return n}function YC(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=oU():i=sU():n.getStatus()===402?i=iU(t.bucket):n.getStatus()===403?i=aU(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function KU(t){const e=YC(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=rU(t.path)),s.serverResponse=i.serverResponse,s}return n}function QU(t,e,n){const r=e.fullServerUrl(),i=y0(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new QC(i,s,GU(t,n),o);return a.errorHandler=KU(e),a}function XU(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function YU(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=XU(null,e)),r}function JU(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let y="";for(let T=0;T<2;T++)y=y+Math.random().toString().slice(2);return y}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=YU(e,r,i),c=HU(u,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",p=Xr.getBlob(h,r,f);if(p===null)throw fU();const g={name:u.fullPath},_=y0(s,t.host,t._protocol),w="POST",v=t.maxUploadRetryTime,m=new QC(_,w,qU(t,n),v);return m.urlParams=g,m.headers=o,m.body=p.uploadData(),m.errorHandler=YC(e),m}class ZU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=hs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=hs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=hs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ya("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ya("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ya("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ya("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ya("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class e3 extends ZU{initXhr(){this.xhr_.responseType="text"}}function JC(){return new e3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zd=class xg{constructor(e,n){this._service=e,n instanceof tn?this._location=n:this._location=tn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new xg(e,n)}get root(){const e=new tn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qC(this._location.path)}get storage(){return this._service}get parent(){const e=LU(this._location.path);if(e===null)return null;const n=new tn(this._location.bucket,e);return new xg(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw gU(e)}};function t3(t,e,n){t._throwIfRoot("uploadBytes");const r=JU(t.storage,t._location,GC(),new Xr(e,!0),n);return t.storage.makeRequestWithTokens(r,JC).then(i=>({metadata:i,ref:t}))}function n3(t){t._throwIfRoot("getDownloadURL");const e=QU(t.storage,t._location,GC());return t.storage.makeRequestWithTokens(e,JC).then(n=>{if(n===null)throw pU();return n})}function r3(t,e){const n=FU(t._location.path,e),r=new tn(t._location.bucket,n);return new Zd(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(t){return/^[A-Za-z]+:\/\//.test(t)}function s3(t,e){return new Zd(t,e)}function ZC(t,e){if(t instanceof v0){const n=t;if(n._bucket==null)throw dU();const r=new Zd(n,n._bucket);return e!=null?ZC(r,e):r}else return e!==void 0?r3(t,e):t}function o3(t,e){if(e&&i3(e)){if(t instanceof v0)return s3(t,e);throw Tg("To use ref(service, url), the first argument must be a Storage instance.")}else return ZC(t,e)}function eE(t,e){const n=e==null?void 0:e[FC];return n==null?null:tn.makeFromBucketSpec(n,t)}function a3(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:NI(i,t.app.options.projectId))}class v0{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=LC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tU,this._maxUploadRetryTime=nU,this._requests=new Set,i!=null?this._bucket=tn.makeFromBucketSpec(i,this._host):this._bucket=eE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=tn.makeFromBucketSpec(this._url,e):this._bucket=eE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Z1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Z1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zd(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new yU($C());{const o=CU(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const tE="@firebase/storage",nE="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb="storage";function l3(t,e,n){return t=Le(t),t3(t,e,n)}function u3(t){return t=Le(t),n3(t)}function c3(t,e){return t=Le(t),o3(t,e)}function h3(t=Jy(),e){t=Le(t);const r=gd(t,eb).getImmediate({identifier:e}),i=bI("storage");return i&&d3(r,...i),r}function d3(t,e,n,r={}){a3(t,e,n,r)}function f3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new v0(n,r,i,e,ks)}function p3(){_s(new _i(eb,f3,"PUBLIC").setMultipleInstances(!0)),qn(tE,nE,""),qn(tE,nE,"esm2017")}p3();var m3={VITE_FIREBASE_API_KEY:"AIzaSyB-J4OxMiXMfGIApqpVpdUyf2mqPr_6AiM",VITE_FIREBASE_AUTH_DOMAIN:"petpals-5c451.firebaseapp.com",VITE_FIREBASE_PROJECT_ID:"petpals-5c451",VITE_FIREBASE_STORAGE_BUCKET:"petpals-5c451.appspot.com",VITE_FIREBASE_MESSADING_SENDER_ID:"682122634026",VITE_FIREBASE_APP_ID:"1:682122634026:web:9d2303f86bbe9fb0353453",BASE_URL:"/PetPals/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const g3={apiKey:"AIzaSyB-J4OxMiXMfGIApqpVpdUyf2mqPr_6AiM",authDomain:"petpals-5c451.firebaseapp.com",projectId:"petpals-5c451",storageBucket:"petpals-5c451.appspot.com",messagingSenderId:m3.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:"1:682122634026:web:9d2303f86bbe9fb0353453"},_0=VI(g3),rt=Z$(_0),br=vF(_0),y3=h3(_0),tb=new hr,nb="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20x='0'%20y='0'%20version='1.1'%20viewBox='0%200%201280%201280'%3e%3cpath%20d='M231.6%20252.5c-6.2%2011.7%202.5%2022.9%2012.3%2022.4a75.8%2086%200%200%201%2042.5%2014c8.2%206.1%2021.4%202%2021.8-11.2%201.3-24.3-9-45.8-27.2-51.4-17.7-6-37.5%205.6-49.4%2026.2M983.8%20296a74.6%2084.6%200%200%201%2044-2.4c10%202.8%2020.7-5.6%2017.4-18.7-6.6-23.3-23.5-39.2-42-38.3-18.6%201-33.9%2018.7-38.4%2042.5-2.5%2013.6%209.5%2021%2019%2016.9'%20class='prefix__st0'/%3e%3cpath%20d='M1263.6%201227.2a114%20114%200%200%200%2016.5-59.8c0-59.4-43.3-112.7-119.5-118.3a28.9%2032.7%200%200%200-3.3-.4C1055.5%20937%201008.9%20666.9%201036%20504.8a191.6%20217.3%200%200%200%20182.6-165c10.7-43.8-8.3-77.5-47.8-85.4-19.4-4.2-32.6-16.4-39.6-37.4l-.8-2.3c-37.1-88.8-102.2-99.6-145.1-103.3v-.5c-15.7%201-34.6%201-24.7-11.2C988.3%2067%20993.2%2051.6%20996.5%2040c7-26.1-19-43-38.3-39.7-106.7%2018.7-211.4%20120.5-266.7%20258a7105.4%208055.1%200%200%200-34.6%2088.7c-19.8-50-59.3-170-174-233.6A296%20335.5%200%200%200%20331.4%2080C288%2082.9%20198.2%2088.5%20150%20204.4c-1.7%201.4-13.2%2012.1-64.3%2018.2-31.3%203.3-60.2%203.3-60.6%203.3-14%200-24.7%2011.2-24.7%2025.7-2%20150%2061.4%20215.4%20108.8%20243v.4a202%20229%200%200%200%2098.9%2022.9c18.1%200%2034.6-1.4%2047-2.8%209%2062.6%2026.4%20316.3-91.1%20534-75.8%206.1-118.3%2059.8-118.3%20118.3%200%2021%205.4%2042%2016.5%2059.8%200%200%2026.4%2052.8%20108%2052.8h266.6c13.6%200%2024.8-12.2%2024.8-26.7s-11.2-26.6-24.8-26.6H162.3c-46.5%200-67.1-29.4-67.1-59.3%200-37.4%2030.9-64%2078.3-65.5%2021.8%204.7%2048.2%2018.3%2059%2051%204.4%2014%2018.9%2021%2031.6%2016.3%2012.8-4.7%2019.8-20%2015.3-33.6a114.6%20129.9%200%200%200-64.7-74.8C325%20846%20316.5%20598.3%20304.5%20513.2a193.7%20219.6%200%200%200-9-37.8%2025.1%2028.5%200%200%200-26.8-15.4c-21.5%203.7-80%2010.2-120.8-4.2-1.2%200-2-1-3.3-1.4a146.3%20165.9%200%200%201-87-118.7c16.1-4.2%2039.2-18.2%2054.5-63.6%2047-8%2073.3-22.9%2082.8-45.8a127.8%20144.8%200%200%201%2091.5-86.9c18.5-4.6%2066.8-11.6%20107.2%2017.3%2012%208%2020.6%2021.5%2026.3%2038.3%209.5%2028.5%202.5%2060.8-18.5%2089.7-55.7%2075.7-69.3%20114.5-64.3%20165a82.4%2093.4%200%200%200%2045.3%2073.3%20127%20144%200%200%200%20119.6-1.8c38.7-25.3%2061.4-71%2072-147.7-9-26.1-24.2-61.2-42.4-86%201.3%2021.5%204.1%2048.2-1.6%2076.7-12%2057.4-19.4%2086-49.5%20109.3a74.2%2084.1%200%200%201-73.8%203.3%2035.9%2040.6%200%200%201-20.6-32.7c-2.4-27.1%200-52.8%2054-127.1%2034.2-46.7%2045-105.6%2019-157.5a308.3%20349.5%200%200%200%2090.7%2086c10.7%2014%2047.8%2065.9%2080.3%20171-75%20198.6-184.6%20510.2-184.6%20636.8%200%20124.8%2095.2%20226.7%20212.2%20226.7S870%201178.6%20870%201053.3c0-68.2-38.3-214.9-113.8-434.5-17.3-50.4-35-99.5-51-144.4l-25.6%2076.7c66.3%20185%20141%20415.8%20141%20502.2%200%2095.8-73%20173.9-162.9%20173.9-89.4%200-162.8-78-162.8-173.9%200-133.6%20141.4-511.6%20188.8-636.3A6489%206489%200%200%201%20737.3%20279c35-87.3%20106-182.2%20192.9-216.3-65.1%2066.4-41.7%20101-18.2%20101h64.3c39.6%203.2%2081.2%207.9%20108.8%2071.9a96.4%20109.3%200%200%200%2057.7%2065c-6.1%2015.4-10.3%2042%2018.2%2056-21.5%2054.7-69.3%20106-173.1%2094.8-13.6-1.4-25.6%209.4-26.8%2023.4-1.7%2015%208.2%2028%2021.8%2029.4h3.3c-12.8%2084.1-8.2%20194.9%2012.8%20300a532%20603.2%200%200%200%20106%20261.2%20113%20128%200%200%200-56.1%2070c-5.8%2017.4%206.6%2035.1%2023.5%2035.1a24.7%2028%200%200%200%2023.5-17.7c10.7-32.7%2037-45.8%2058.5-51.4%20102.6%205.6%2098%20125.7%209%20125.7H879.1a25.5%2025.5%200%200%200-24.8%2026.1c0%2015%2011.2%2026.7%2024.8%2026.7h284.3c78.4%200%20100.2-52.8%20100.2-52.8'%20class='prefix__st0'/%3e%3c/svg%3e";function v3(){const[t,e]=E.useState(),[n,r]=E.useState(!!rt.currentUser);E.useEffect(()=>{const o=rt.onAuthStateChanged(a=>{r(!!a)});return()=>o()},[]);const i=()=>{e(o=>!o)},s=()=>{document.getElementById("nav").click()};return d.jsx(d.Fragment,{children:d.jsxs("nav",{children:[d.jsxs(Pe,{to:"/PetPals",className:"logo",children:[d.jsx("img",{src:nb,className:"nav-logo",alt:"PetPals"}),"PetPals"]}),d.jsx("input",{type:"checkbox",id:"nav",className:"hidden",onChange:i}),d.jsxs("label",{htmlFor:"nav",className:`nav-btn ${t?"open":""}`,children:[d.jsx("i",{}),d.jsx("i",{}),d.jsx("i",{})]}),d.jsx("div",{className:`nav-wrapper ${t?"show":""}`,children:d.jsxs("ul",{children:[d.jsx("li",{children:d.jsx(Pe,{to:"PetPals/add",onClick:s,children:"Add"})}),d.jsx("li",{children:d.jsx(Pe,{to:"PetPals/discover",onClick:s,children:"Discover"})}),d.jsx("li",{children:d.jsx(Pe,{to:"PetPals/blog",onClick:s,children:"Blog"})}),d.jsx("li",{children:d.jsx(Pe,{to:"PetPals/about",onClick:s,children:"About"})}),d.jsx("li",{children:n?d.jsx(Pe,{to:"PetPals/users/me",onClick:s,children:d.jsxs("button",{children:[d.jsx("i",{className:"bx bxs-cat bx-sm"}),rt.currentUser.displayName||rt.currentUser.email]})}):d.jsx(Pe,{to:"PetPals/login",onClick:s,children:d.jsxs("button",{children:[d.jsx("i",{className:"bx bxs-log-in-circle bx-sm"}),"Login"]})})})]})})]})})}const _3="/PetPals/assets/Animal shelter-cuate-OPFTOdXc.svg";function w3(){return d.jsx(d.Fragment,{children:d.jsxs("main",{children:[d.jsxs("div",{className:"about-content-panel",children:[d.jsx("div",{className:"about-content-text",children:d.jsx("h1",{className:"about-content-heading",children:"Connecting potential adopters, animal rescuers, and shelters."})}),d.jsx("div",{className:"about-content-image",children:d.jsx("img",{src:_3,style:{width:"100%"},alt:"Adoption Image"})})]}),d.jsx("p",{className:"about-content-description",children:"PetPals was launched to address the growing issue of homeless animals, aiming to create a meaningful impact on their lives and alleviate their hardships."}),d.jsx("div",{className:"about-content-panel",children:d.jsx("div",{className:"about-content-card",children:d.jsxs("div",{className:"about-card-text",children:[d.jsx("h3",{className:"about-card-title",children:"Why PetPals?"}),d.jsxs("p",{children:["It is estimated that there are over 3 million strays, many of whom suffer from starvation, malnutrition, diseases and severe injuries. ",d.jsx("br",{}),d.jsx("br",{}),"Our platform connects potential adopters with people who need to rehome their pets, initially starting with the Sri Lanka's most popular pets; dogs, cats.",d.jsx("br",{}),d.jsx("br",{}),"This makes it easier for good people to adopt the right pet whilst maximising the chance of pets finding their forever home. ",d.jsx("br",{}),d.jsx("br",{}),"We offer a non-judgmental service to rehomers and give them full control of the process while helping to reduce the number of animals going into shelters."]})]})})})]})})}var E3=function(e){return T3(e)&&!x3(e)};function T3(t){return!!t&&typeof t=="object"}function x3(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||A3(t)}var S3=typeof Symbol=="function"&&Symbol.for,I3=S3?Symbol.for("react.element"):60103;function A3(t){return t.$$typeof===I3}function P3(t){return Array.isArray(t)?[]:{}}function Mh(t,e){return e.clone!==!1&&e.isMergeableObject(t)?$l(P3(t),t,e):t}function C3(t,e,n){return t.concat(e).map(function(r){return Mh(r,n)})}function b3(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=Mh(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=Mh(e[i],n):r[i]=$l(t[i],e[i],n)}),r}function $l(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||C3,n.isMergeableObject=n.isMergeableObject||E3;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):b3(t,e,n):Mh(e,n)}$l.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return $l(r,i,n)},{})};var Sg=$l,R3=typeof global=="object"&&global&&global.Object===Object&&global;const rb=R3;var k3=typeof self=="object"&&self&&self.Object===Object&&self,N3=rb||k3||Function("return this")();const ir=N3;var D3=ir.Symbol;const xi=D3;var ib=Object.prototype,O3=ib.hasOwnProperty,j3=ib.toString,va=xi?xi.toStringTag:void 0;function V3(t){var e=O3.call(t,va),n=t[va];try{t[va]=void 0;var r=!0}catch{}var i=j3.call(t);return r&&(e?t[va]=n:delete t[va]),i}var M3=Object.prototype,L3=M3.toString;function F3(t){return L3.call(t)}var $3="[object Null]",U3="[object Undefined]",rE=xi?xi.toStringTag:void 0;function Vs(t){return t==null?t===void 0?U3:$3:rE&&rE in Object(t)?V3(t):F3(t)}function sb(t,e){return function(n){return t(e(n))}}var B3=sb(Object.getPrototypeOf,Object);const w0=B3;function Ms(t){return t!=null&&typeof t=="object"}var z3="[object Object]",W3=Function.prototype,H3=Object.prototype,ob=W3.toString,q3=H3.hasOwnProperty,G3=ob.call(Object);function iE(t){if(!Ms(t)||Vs(t)!=z3)return!1;var e=w0(t);if(e===null)return!0;var n=q3.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&ob.call(n)==G3}var sE=Array.isArray,oE=Object.keys,K3=Object.prototype.hasOwnProperty,Q3=typeof Element<"u";function Ig(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=sE(t),r=sE(e),i,s,o;if(n&&r){if(s=t.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!Ig(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,l=e instanceof Date;if(a!=l)return!1;if(a&&l)return t.getTime()==e.getTime();var u=t instanceof RegExp,c=e instanceof RegExp;if(u!=c)return!1;if(u&&c)return t.toString()==e.toString();var h=oE(t);if(s=h.length,s!==oE(e).length)return!1;for(i=s;i--!==0;)if(!K3.call(e,h[i]))return!1;if(Q3&&t instanceof Element&&e instanceof Element)return t===e;for(i=s;i--!==0;)if(o=h[i],!(o==="_owner"&&t.$$typeof)&&!Ig(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var X3=function(e,n){try{return Ig(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const zr=Xh(X3);var Y3=!0;function ab(t,e){if(!Y3){if(t)return;var n="Warning: "+e;typeof console<"u"&&console.warn(n);try{throw Error(n)}catch{}}}function J3(){this.__data__=[],this.size=0}function lb(t,e){return t===e||t!==t&&e!==e}function ef(t,e){for(var n=t.length;n--;)if(lb(t[n][0],e))return n;return-1}var Z3=Array.prototype,e6=Z3.splice;function t6(t){var e=this.__data__,n=ef(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():e6.call(e,n,1),--this.size,!0}function n6(t){var e=this.__data__,n=ef(e,t);return n<0?void 0:e[n][1]}function r6(t){return ef(this.__data__,t)>-1}function i6(t,e){var n=this.__data__,r=ef(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function jr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}jr.prototype.clear=J3;jr.prototype.delete=t6;jr.prototype.get=n6;jr.prototype.has=r6;jr.prototype.set=i6;function s6(){this.__data__=new jr,this.size=0}function o6(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function a6(t){return this.__data__.get(t)}function l6(t){return this.__data__.has(t)}function Tu(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var u6="[object AsyncFunction]",c6="[object Function]",h6="[object GeneratorFunction]",d6="[object Proxy]";function ub(t){if(!Tu(t))return!1;var e=Vs(t);return e==c6||e==h6||e==u6||e==d6}var f6=ir["__core-js_shared__"];const Sp=f6;var aE=function(){var t=/[^.]+$/.exec(Sp&&Sp.keys&&Sp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function p6(t){return!!aE&&aE in t}var m6=Function.prototype,g6=m6.toString;function Ls(t){if(t!=null){try{return g6.call(t)}catch{}try{return t+""}catch{}}return""}var y6=/[\\^$.*+?()[\]{}|]/g,v6=/^\[object .+?Constructor\]$/,_6=Function.prototype,w6=Object.prototype,E6=_6.toString,T6=w6.hasOwnProperty,x6=RegExp("^"+E6.call(T6).replace(y6,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function S6(t){if(!Tu(t)||p6(t))return!1;var e=ub(t)?x6:v6;return e.test(Ls(t))}function I6(t,e){return t==null?void 0:t[e]}function Fs(t,e){var n=I6(t,e);return S6(n)?n:void 0}var A6=Fs(ir,"Map");const Ul=A6;var P6=Fs(Object,"create");const Bl=P6;function C6(){this.__data__=Bl?Bl(null):{},this.size=0}function b6(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var R6="__lodash_hash_undefined__",k6=Object.prototype,N6=k6.hasOwnProperty;function D6(t){var e=this.__data__;if(Bl){var n=e[t];return n===R6?void 0:n}return N6.call(e,t)?e[t]:void 0}var O6=Object.prototype,j6=O6.hasOwnProperty;function V6(t){var e=this.__data__;return Bl?e[t]!==void 0:j6.call(e,t)}var M6="__lodash_hash_undefined__";function L6(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Bl&&e===void 0?M6:e,this}function Ps(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ps.prototype.clear=C6;Ps.prototype.delete=b6;Ps.prototype.get=D6;Ps.prototype.has=V6;Ps.prototype.set=L6;function F6(){this.size=0,this.__data__={hash:new Ps,map:new(Ul||jr),string:new Ps}}function $6(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function tf(t,e){var n=t.__data__;return $6(e)?n[typeof e=="string"?"string":"hash"]:n.map}function U6(t){var e=tf(this,t).delete(t);return this.size-=e?1:0,e}function B6(t){return tf(this,t).get(t)}function z6(t){return tf(this,t).has(t)}function W6(t,e){var n=tf(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Oi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Oi.prototype.clear=F6;Oi.prototype.delete=U6;Oi.prototype.get=B6;Oi.prototype.has=z6;Oi.prototype.set=W6;var H6=200;function q6(t,e){var n=this.__data__;if(n instanceof jr){var r=n.__data__;if(!Ul||r.length<H6-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Oi(r)}return n.set(t,e),this.size=n.size,this}function ra(t){var e=this.__data__=new jr(t);this.size=e.size}ra.prototype.clear=s6;ra.prototype.delete=o6;ra.prototype.get=a6;ra.prototype.has=l6;ra.prototype.set=q6;function G6(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var K6=function(){try{var t=Fs(Object,"defineProperty");return t({},"",{}),t}catch{}}();const lE=K6;function cb(t,e,n){e=="__proto__"&&lE?lE(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Q6=Object.prototype,X6=Q6.hasOwnProperty;function hb(t,e,n){var r=t[e];(!(X6.call(t,e)&&lb(r,n))||n===void 0&&!(e in t))&&cb(t,e,n)}function nf(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?cb(n,a,l):hb(n,a,l)}return n}function Y6(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var J6="[object Arguments]";function uE(t){return Ms(t)&&Vs(t)==J6}var db=Object.prototype,Z6=db.hasOwnProperty,e5=db.propertyIsEnumerable,t5=uE(function(){return arguments}())?uE:function(t){return Ms(t)&&Z6.call(t,"callee")&&!e5.call(t,"callee")};const n5=t5;var r5=Array.isArray;const xu=r5;function i5(){return!1}var fb=typeof exports=="object"&&exports&&!exports.nodeType&&exports,cE=fb&&typeof module=="object"&&module&&!module.nodeType&&module,s5=cE&&cE.exports===fb,hE=s5?ir.Buffer:void 0,o5=hE?hE.isBuffer:void 0,a5=o5||i5;const pb=a5;var l5=9007199254740991,u5=/^(?:0|[1-9]\d*)$/;function c5(t,e){var n=typeof t;return e=e??l5,!!e&&(n=="number"||n!="symbol"&&u5.test(t))&&t>-1&&t%1==0&&t<e}var h5=9007199254740991;function mb(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=h5}var d5="[object Arguments]",f5="[object Array]",p5="[object Boolean]",m5="[object Date]",g5="[object Error]",y5="[object Function]",v5="[object Map]",_5="[object Number]",w5="[object Object]",E5="[object RegExp]",T5="[object Set]",x5="[object String]",S5="[object WeakMap]",I5="[object ArrayBuffer]",A5="[object DataView]",P5="[object Float32Array]",C5="[object Float64Array]",b5="[object Int8Array]",R5="[object Int16Array]",k5="[object Int32Array]",N5="[object Uint8Array]",D5="[object Uint8ClampedArray]",O5="[object Uint16Array]",j5="[object Uint32Array]",Te={};Te[P5]=Te[C5]=Te[b5]=Te[R5]=Te[k5]=Te[N5]=Te[D5]=Te[O5]=Te[j5]=!0;Te[d5]=Te[f5]=Te[I5]=Te[p5]=Te[A5]=Te[m5]=Te[g5]=Te[y5]=Te[v5]=Te[_5]=Te[w5]=Te[E5]=Te[T5]=Te[x5]=Te[S5]=!1;function V5(t){return Ms(t)&&mb(t.length)&&!!Te[Vs(t)]}function E0(t){return function(e){return t(e)}}var gb=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ya=gb&&typeof module=="object"&&module&&!module.nodeType&&module,M5=Ya&&Ya.exports===gb,Ip=M5&&rb.process,L5=function(){try{var t=Ya&&Ya.require&&Ya.require("util").types;return t||Ip&&Ip.binding&&Ip.binding("util")}catch{}}();const Uo=L5;var dE=Uo&&Uo.isTypedArray,F5=dE?E0(dE):V5;const $5=F5;var U5=Object.prototype,B5=U5.hasOwnProperty;function yb(t,e){var n=xu(t),r=!n&&n5(t),i=!n&&!r&&pb(t),s=!n&&!r&&!i&&$5(t),o=n||r||i||s,a=o?Y6(t.length,String):[],l=a.length;for(var u in t)(e||B5.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||c5(u,l)))&&a.push(u);return a}var z5=Object.prototype;function T0(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||z5;return t===n}var W5=sb(Object.keys,Object);const H5=W5;var q5=Object.prototype,G5=q5.hasOwnProperty;function K5(t){if(!T0(t))return H5(t);var e=[];for(var n in Object(t))G5.call(t,n)&&n!="constructor"&&e.push(n);return e}function vb(t){return t!=null&&mb(t.length)&&!ub(t)}function x0(t){return vb(t)?yb(t):K5(t)}function Q5(t,e){return t&&nf(e,x0(e),t)}function X5(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var Y5=Object.prototype,J5=Y5.hasOwnProperty;function Z5(t){if(!Tu(t))return X5(t);var e=T0(t),n=[];for(var r in t)r=="constructor"&&(e||!J5.call(t,r))||n.push(r);return n}function S0(t){return vb(t)?yb(t,!0):Z5(t)}function e9(t,e){return t&&nf(e,S0(e),t)}var _b=typeof exports=="object"&&exports&&!exports.nodeType&&exports,fE=_b&&typeof module=="object"&&module&&!module.nodeType&&module,t9=fE&&fE.exports===_b,pE=t9?ir.Buffer:void 0,mE=pE?pE.allocUnsafe:void 0;function n9(t,e){if(e)return t.slice();var n=t.length,r=mE?mE(n):new t.constructor(n);return t.copy(r),r}function wb(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function r9(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function Eb(){return[]}var i9=Object.prototype,s9=i9.propertyIsEnumerable,gE=Object.getOwnPropertySymbols,o9=gE?function(t){return t==null?[]:(t=Object(t),r9(gE(t),function(e){return s9.call(t,e)}))}:Eb;const I0=o9;function a9(t,e){return nf(t,I0(t),e)}function Tb(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var l9=Object.getOwnPropertySymbols,u9=l9?function(t){for(var e=[];t;)Tb(e,I0(t)),t=w0(t);return e}:Eb;const xb=u9;function c9(t,e){return nf(t,xb(t),e)}function Sb(t,e,n){var r=e(t);return xu(t)?r:Tb(r,n(t))}function h9(t){return Sb(t,x0,I0)}function d9(t){return Sb(t,S0,xb)}var f9=Fs(ir,"DataView");const Ag=f9;var p9=Fs(ir,"Promise");const Pg=p9;var m9=Fs(ir,"Set");const Cg=m9;var g9=Fs(ir,"WeakMap");const bg=g9;var yE="[object Map]",y9="[object Object]",vE="[object Promise]",_E="[object Set]",wE="[object WeakMap]",EE="[object DataView]",v9=Ls(Ag),_9=Ls(Ul),w9=Ls(Pg),E9=Ls(Cg),T9=Ls(bg),Gi=Vs;(Ag&&Gi(new Ag(new ArrayBuffer(1)))!=EE||Ul&&Gi(new Ul)!=yE||Pg&&Gi(Pg.resolve())!=vE||Cg&&Gi(new Cg)!=_E||bg&&Gi(new bg)!=wE)&&(Gi=function(t){var e=Vs(t),n=e==y9?t.constructor:void 0,r=n?Ls(n):"";if(r)switch(r){case v9:return EE;case _9:return yE;case w9:return vE;case E9:return _E;case T9:return wE}return e});const A0=Gi;var x9=Object.prototype,S9=x9.hasOwnProperty;function I9(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&S9.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var A9=ir.Uint8Array;const TE=A9;function P0(t){var e=new t.constructor(t.byteLength);return new TE(e).set(new TE(t)),e}function P9(t,e){var n=e?P0(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var C9=/\w*$/;function b9(t){var e=new t.constructor(t.source,C9.exec(t));return e.lastIndex=t.lastIndex,e}var xE=xi?xi.prototype:void 0,SE=xE?xE.valueOf:void 0;function R9(t){return SE?Object(SE.call(t)):{}}function k9(t,e){var n=e?P0(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var N9="[object Boolean]",D9="[object Date]",O9="[object Map]",j9="[object Number]",V9="[object RegExp]",M9="[object Set]",L9="[object String]",F9="[object Symbol]",$9="[object ArrayBuffer]",U9="[object DataView]",B9="[object Float32Array]",z9="[object Float64Array]",W9="[object Int8Array]",H9="[object Int16Array]",q9="[object Int32Array]",G9="[object Uint8Array]",K9="[object Uint8ClampedArray]",Q9="[object Uint16Array]",X9="[object Uint32Array]";function Y9(t,e,n){var r=t.constructor;switch(e){case $9:return P0(t);case N9:case D9:return new r(+t);case U9:return P9(t,n);case B9:case z9:case W9:case H9:case q9:case G9:case K9:case Q9:case X9:return k9(t,n);case O9:return new r;case j9:case L9:return new r(t);case V9:return b9(t);case M9:return new r;case F9:return R9(t)}}var IE=Object.create,J9=function(){function t(){}return function(e){if(!Tu(e))return{};if(IE)return IE(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const Z9=J9;function eB(t){return typeof t.constructor=="function"&&!T0(t)?Z9(w0(t)):{}}var tB="[object Map]";function nB(t){return Ms(t)&&A0(t)==tB}var AE=Uo&&Uo.isMap,rB=AE?E0(AE):nB;const iB=rB;var sB="[object Set]";function oB(t){return Ms(t)&&A0(t)==sB}var PE=Uo&&Uo.isSet,aB=PE?E0(PE):oB;const lB=aB;var uB=1,cB=2,hB=4,Ib="[object Arguments]",dB="[object Array]",fB="[object Boolean]",pB="[object Date]",mB="[object Error]",Ab="[object Function]",gB="[object GeneratorFunction]",yB="[object Map]",vB="[object Number]",Pb="[object Object]",_B="[object RegExp]",wB="[object Set]",EB="[object String]",TB="[object Symbol]",xB="[object WeakMap]",SB="[object ArrayBuffer]",IB="[object DataView]",AB="[object Float32Array]",PB="[object Float64Array]",CB="[object Int8Array]",bB="[object Int16Array]",RB="[object Int32Array]",kB="[object Uint8Array]",NB="[object Uint8ClampedArray]",DB="[object Uint16Array]",OB="[object Uint32Array]",me={};me[Ib]=me[dB]=me[SB]=me[IB]=me[fB]=me[pB]=me[AB]=me[PB]=me[CB]=me[bB]=me[RB]=me[yB]=me[vB]=me[Pb]=me[_B]=me[wB]=me[EB]=me[TB]=me[kB]=me[NB]=me[DB]=me[OB]=!0;me[mB]=me[Ab]=me[xB]=!1;function Ja(t,e,n,r,i,s){var o,a=e&uB,l=e&cB,u=e&hB;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!Tu(t))return t;var c=xu(t);if(c){if(o=I9(t),!a)return wb(t,o)}else{var h=A0(t),f=h==Ab||h==gB;if(pb(t))return n9(t,a);if(h==Pb||h==Ib||f&&!i){if(o=l||f?{}:eB(t),!a)return l?c9(t,e9(o,t)):a9(t,Q5(o,t))}else{if(!me[h])return i?t:{};o=Y9(t,h,a)}}s||(s=new ra);var p=s.get(t);if(p)return p;s.set(t,o),lB(t)?t.forEach(function(w){o.add(Ja(w,e,n,w,t,s))}):iB(t)&&t.forEach(function(w,v){o.set(v,Ja(w,e,n,v,t,s))});var g=u?l?d9:h9:l?S0:x0,_=c?void 0:g(t);return G6(_||t,function(w,v){_&&(v=w,w=t[v]),hb(o,v,Ja(w,e,n,v,t,s))}),o}var jB=4;function CE(t){return Ja(t,jB)}function Cb(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var VB="[object Symbol]";function C0(t){return typeof t=="symbol"||Ms(t)&&Vs(t)==VB}var MB="Expected a function";function b0(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(MB);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(b0.Cache||Oi),n}b0.Cache=Oi;var LB=500;function FB(t){var e=b0(t,function(r){return n.size===LB&&n.clear(),r}),n=e.cache;return e}var $B=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,UB=/\\(\\)?/g,BB=FB(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace($B,function(n,r,i,s){e.push(i?s.replace(UB,"$1"):r||n)}),e});const zB=BB;var WB=1/0;function HB(t){if(typeof t=="string"||C0(t))return t;var e=t+"";return e=="0"&&1/t==-WB?"-0":e}var qB=1/0,bE=xi?xi.prototype:void 0,RE=bE?bE.toString:void 0;function bb(t){if(typeof t=="string")return t;if(xu(t))return Cb(t,bb)+"";if(C0(t))return RE?RE.call(t):"";var e=t+"";return e=="0"&&1/t==-qB?"-0":e}function GB(t){return t==null?"":bb(t)}function Rb(t){return xu(t)?Cb(t,HB):C0(t)?[t]:wb(zB(GB(t)))}var kb={exports:{}},pe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var at=typeof Symbol=="function"&&Symbol.for,R0=at?Symbol.for("react.element"):60103,k0=at?Symbol.for("react.portal"):60106,rf=at?Symbol.for("react.fragment"):60107,sf=at?Symbol.for("react.strict_mode"):60108,of=at?Symbol.for("react.profiler"):60114,af=at?Symbol.for("react.provider"):60109,lf=at?Symbol.for("react.context"):60110,N0=at?Symbol.for("react.async_mode"):60111,uf=at?Symbol.for("react.concurrent_mode"):60111,cf=at?Symbol.for("react.forward_ref"):60112,hf=at?Symbol.for("react.suspense"):60113,KB=at?Symbol.for("react.suspense_list"):60120,df=at?Symbol.for("react.memo"):60115,ff=at?Symbol.for("react.lazy"):60116,QB=at?Symbol.for("react.block"):60121,XB=at?Symbol.for("react.fundamental"):60117,YB=at?Symbol.for("react.responder"):60118,JB=at?Symbol.for("react.scope"):60119;function un(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case R0:switch(t=t.type,t){case N0:case uf:case rf:case of:case sf:case hf:return t;default:switch(t=t&&t.$$typeof,t){case lf:case cf:case ff:case df:case af:return t;default:return e}}case k0:return e}}}function Nb(t){return un(t)===uf}pe.AsyncMode=N0;pe.ConcurrentMode=uf;pe.ContextConsumer=lf;pe.ContextProvider=af;pe.Element=R0;pe.ForwardRef=cf;pe.Fragment=rf;pe.Lazy=ff;pe.Memo=df;pe.Portal=k0;pe.Profiler=of;pe.StrictMode=sf;pe.Suspense=hf;pe.isAsyncMode=function(t){return Nb(t)||un(t)===N0};pe.isConcurrentMode=Nb;pe.isContextConsumer=function(t){return un(t)===lf};pe.isContextProvider=function(t){return un(t)===af};pe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===R0};pe.isForwardRef=function(t){return un(t)===cf};pe.isFragment=function(t){return un(t)===rf};pe.isLazy=function(t){return un(t)===ff};pe.isMemo=function(t){return un(t)===df};pe.isPortal=function(t){return un(t)===k0};pe.isProfiler=function(t){return un(t)===of};pe.isStrictMode=function(t){return un(t)===sf};pe.isSuspense=function(t){return un(t)===hf};pe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===rf||t===uf||t===of||t===sf||t===hf||t===KB||typeof t=="object"&&t!==null&&(t.$$typeof===ff||t.$$typeof===df||t.$$typeof===af||t.$$typeof===lf||t.$$typeof===cf||t.$$typeof===XB||t.$$typeof===YB||t.$$typeof===JB||t.$$typeof===QB)};pe.typeOf=un;kb.exports=pe;var ZB=kb.exports,D0=ZB,ez={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},tz={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},nz={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Db={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},O0={};O0[D0.ForwardRef]=nz;O0[D0.Memo]=Db;function kE(t){return D0.isMemo(t)?Db:O0[t.$$typeof]||ez}var rz=Object.defineProperty,iz=Object.getOwnPropertyNames,NE=Object.getOwnPropertySymbols,sz=Object.getOwnPropertyDescriptor,oz=Object.getPrototypeOf,DE=Object.prototype;function Ob(t,e,n){if(typeof e!="string"){if(DE){var r=oz(e);r&&r!==DE&&Ob(t,r,n)}var i=iz(e);NE&&(i=i.concat(NE(e)));for(var s=kE(t),o=kE(e),a=0;a<i.length;++a){var l=i[a];if(!tz[l]&&!(n&&n[l])&&!(o&&o[l])&&!(s&&s[l])){var u=sz(e,l);try{rz(t,l,u)}catch{}}}}return t}var az=Ob;const lz=Xh(az);var uz=1,cz=4;function hz(t){return Ja(t,uz|cz)}function he(){return he=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},he.apply(this,arguments)}function jb(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function ti(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function OE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var pf=E.createContext(void 0);pf.displayName="FormikContext";var dz=pf.Provider,fz=pf.Consumer;function Vb(){var t=E.useContext(pf);return t||ab(!1),t}var jE=function(e){return Array.isArray(e)&&e.length===0},ct=function(e){return typeof e=="function"},Su=function(e){return e!==null&&typeof e=="object"},pz=function(e){return String(Math.floor(Number(e)))===e},Ap=function(e){return Object.prototype.toString.call(e)==="[object String]"},Mb=function(e){return E.Children.count(e)===0},Pp=function(e){return Su(e)&&ct(e.then)};function Ce(t,e,n,r){r===void 0&&(r=0);for(var i=Rb(e);t&&r<i.length;)t=t[i[r++]];return r!==i.length&&!t||t===void 0?n:t}function Zn(t,e,n){for(var r=CE(t),i=r,s=0,o=Rb(e);s<o.length-1;s++){var a=o[s],l=Ce(t,o.slice(0,s+1));if(l&&(Su(l)||Array.isArray(l)))i=i[a]=CE(l);else{var u=o[s+1];i=i[a]=pz(u)&&Number(u)>=0?[]:{}}}return(s===0?t:i)[o[s]]===n?t:(n===void 0?delete i[o[s]]:i[o[s]]=n,s===0&&n===void 0&&delete r[o[s]],r)}function Lb(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i],a=t[o];Su(a)?n.get(a)||(n.set(a,!0),r[o]=Array.isArray(a)?[]:{},Lb(a,e,n,r[o])):r[o]=e}return r}function mz(t,e){switch(e.type){case"SET_VALUES":return he({},t,{values:e.payload});case"SET_TOUCHED":return he({},t,{touched:e.payload});case"SET_ERRORS":return zr(t.errors,e.payload)?t:he({},t,{errors:e.payload});case"SET_STATUS":return he({},t,{status:e.payload});case"SET_ISSUBMITTING":return he({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return he({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return he({},t,{values:Zn(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return he({},t,{touched:Zn(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return he({},t,{errors:Zn(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return he({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return he({},t,{touched:Lb(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return he({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return he({},t,{isSubmitting:!1});default:return t}}var $i={},sc={};function gz(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,s=t.validateOnMount,o=s===void 0?!1:s,a=t.isInitialValid,l=t.enableReinitialize,u=l===void 0?!1:l,c=t.onSubmit,h=ti(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),f=he({validateOnChange:n,validateOnBlur:i,validateOnMount:o,onSubmit:c},h),p=E.useRef(f.initialValues),g=E.useRef(f.initialErrors||$i),_=E.useRef(f.initialTouched||sc),w=E.useRef(f.initialStatus),v=E.useRef(!1),m=E.useRef({});E.useEffect(function(){return v.current=!0,function(){v.current=!1}},[]);var y=E.useState(0),T=y[1],S=E.useRef({values:f.initialValues,errors:f.initialErrors||$i,touched:f.initialTouched||sc,status:f.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),x=S.current,I=E.useCallback(function(P){var M=S.current;S.current=mz(M,P),M!==S.current&&T(function(U){return U+1})},[]),A=E.useCallback(function(P,M){return new Promise(function(U,W){var te=f.validate(P,M);te==null?U($i):Pp(te)?te.then(function(ce){U(ce||$i)},function(ce){W(ce)}):U(te)})},[f.validate]),C=E.useCallback(function(P,M){var U=f.validationSchema,W=ct(U)?U(M):U,te=M&&W.validateAt?W.validateAt(M,P):vz(P,W);return new Promise(function(ce,et){te.then(function(){ce($i)},function(ar){ar.name==="ValidationError"?ce(yz(ar)):et(ar)})})},[f.validationSchema]),k=E.useCallback(function(P,M){return new Promise(function(U){return U(m.current[P].validate(M))})},[]),$=E.useCallback(function(P){var M=Object.keys(m.current).filter(function(W){return ct(m.current[W].validate)}),U=M.length>0?M.map(function(W){return k(W,Ce(P,W))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(U).then(function(W){return W.reduce(function(te,ce,et){return ce==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||ce&&(te=Zn(te,M[et],ce)),te},{})})},[k]),se=E.useCallback(function(P){return Promise.all([$(P),f.validationSchema?C(P):{},f.validate?A(P):{}]).then(function(M){var U=M[0],W=M[1],te=M[2],ce=Sg.all([U,W,te],{arrayMerge:_z});return ce})},[f.validate,f.validationSchema,$,A,C]),Y=cn(function(P){return P===void 0&&(P=x.values),I({type:"SET_ISVALIDATING",payload:!0}),se(P).then(function(M){return v.current&&(I({type:"SET_ISVALIDATING",payload:!1}),I({type:"SET_ERRORS",payload:M})),M})});E.useEffect(function(){o&&v.current===!0&&zr(p.current,f.initialValues)&&Y(p.current)},[o,Y]);var K=E.useCallback(function(P){var M=P&&P.values?P.values:p.current,U=P&&P.errors?P.errors:g.current?g.current:f.initialErrors||{},W=P&&P.touched?P.touched:_.current?_.current:f.initialTouched||{},te=P&&P.status?P.status:w.current?w.current:f.initialStatus;p.current=M,g.current=U,_.current=W,w.current=te;var ce=function(){I({type:"RESET_FORM",payload:{isSubmitting:!!P&&!!P.isSubmitting,errors:U,touched:W,status:te,values:M,isValidating:!!P&&!!P.isValidating,submitCount:P&&P.submitCount&&typeof P.submitCount=="number"?P.submitCount:0}})};if(f.onReset){var et=f.onReset(x.values,zs);Pp(et)?et.then(ce):ce()}else ce()},[f.initialErrors,f.initialStatus,f.initialTouched,f.onReset]);E.useEffect(function(){v.current===!0&&!zr(p.current,f.initialValues)&&u&&(p.current=f.initialValues,K(),o&&Y(p.current))},[u,f.initialValues,K,o,Y]),E.useEffect(function(){u&&v.current===!0&&!zr(g.current,f.initialErrors)&&(g.current=f.initialErrors||$i,I({type:"SET_ERRORS",payload:f.initialErrors||$i}))},[u,f.initialErrors]),E.useEffect(function(){u&&v.current===!0&&!zr(_.current,f.initialTouched)&&(_.current=f.initialTouched||sc,I({type:"SET_TOUCHED",payload:f.initialTouched||sc}))},[u,f.initialTouched]),E.useEffect(function(){u&&v.current===!0&&!zr(w.current,f.initialStatus)&&(w.current=f.initialStatus,I({type:"SET_STATUS",payload:f.initialStatus}))},[u,f.initialStatus,f.initialTouched]);var F=cn(function(P){if(m.current[P]&&ct(m.current[P].validate)){var M=Ce(x.values,P),U=m.current[P].validate(M);return Pp(U)?(I({type:"SET_ISVALIDATING",payload:!0}),U.then(function(W){return W}).then(function(W){I({type:"SET_FIELD_ERROR",payload:{field:P,value:W}}),I({type:"SET_ISVALIDATING",payload:!1})})):(I({type:"SET_FIELD_ERROR",payload:{field:P,value:U}}),Promise.resolve(U))}else if(f.validationSchema)return I({type:"SET_ISVALIDATING",payload:!0}),C(x.values,P).then(function(W){return W}).then(function(W){I({type:"SET_FIELD_ERROR",payload:{field:P,value:Ce(W,P)}}),I({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),we=E.useCallback(function(P,M){var U=M.validate;m.current[P]={validate:U}},[]),Rt=E.useCallback(function(P){delete m.current[P]},[]),j=cn(function(P,M){I({type:"SET_TOUCHED",payload:P});var U=M===void 0?i:M;return U?Y(x.values):Promise.resolve()}),q=E.useCallback(function(P){I({type:"SET_ERRORS",payload:P})},[]),Q=cn(function(P,M){var U=ct(P)?P(x.values):P;I({type:"SET_VALUES",payload:U});var W=M===void 0?n:M;return W?Y(U):Promise.resolve()}),z=E.useCallback(function(P,M){I({type:"SET_FIELD_ERROR",payload:{field:P,value:M}})},[]),ae=cn(function(P,M,U){I({type:"SET_FIELD_VALUE",payload:{field:P,value:M}});var W=U===void 0?n:U;return W?Y(Zn(x.values,P,M)):Promise.resolve()}),Ut=E.useCallback(function(P,M){var U=M,W=P,te;if(!Ap(P)){P.persist&&P.persist();var ce=P.target?P.target:P.currentTarget,et=ce.type,ar=ce.name,Cf=ce.id,bf=ce.value,AR=ce.checked,WG=ce.outerHTML,c_=ce.options,PR=ce.multiple;U=M||ar||Cf,W=/number|range/.test(et)?(te=parseFloat(bf),isNaN(te)?"":te):/checkbox/.test(et)?Ez(Ce(x.values,U),AR,bf):c_&&PR?wz(c_):bf}U&&ae(U,W)},[ae,x.values]),lt=cn(function(P){if(Ap(P))return function(M){return Ut(M,P)};Ut(P)}),vt=cn(function(P,M,U){M===void 0&&(M=!0),I({type:"SET_FIELD_TOUCHED",payload:{field:P,value:M}});var W=U===void 0?i:U;return W?Y(x.values):Promise.resolve()}),ze=E.useCallback(function(P,M){P.persist&&P.persist();var U=P.target,W=U.name,te=U.id,ce=U.outerHTML,et=M||W||te;vt(et,!0)},[vt]),kt=cn(function(P){if(Ap(P))return function(M){return ze(M,P)};ze(P)}),Mi=E.useCallback(function(P){ct(P)?I({type:"SET_FORMIK_STATE",payload:P}):I({type:"SET_FORMIK_STATE",payload:function(){return P}})},[]),sr=E.useCallback(function(P){I({type:"SET_STATUS",payload:P})},[]),Nn=E.useCallback(function(P){I({type:"SET_ISSUBMITTING",payload:P})},[]),Bt=cn(function(){return I({type:"SUBMIT_ATTEMPT"}),Y().then(function(P){var M=P instanceof Error,U=!M&&Object.keys(P).length===0;if(U){var W;try{if(W=Fi(),W===void 0)return}catch(te){throw te}return Promise.resolve(W).then(function(te){return v.current&&I({type:"SUBMIT_SUCCESS"}),te}).catch(function(te){if(v.current)throw I({type:"SUBMIT_FAILURE"}),te})}else if(v.current&&(I({type:"SUBMIT_FAILURE"}),M))throw P})}),Li=cn(function(P){P&&P.preventDefault&&ct(P.preventDefault)&&P.preventDefault(),P&&P.stopPropagation&&ct(P.stopPropagation)&&P.stopPropagation(),Bt().catch(function(M){console.warn("Warning: An unhandled error was caught from submitForm()",M)})}),zs={resetForm:K,validateForm:Y,validateField:F,setErrors:q,setFieldError:z,setFieldTouched:vt,setFieldValue:ae,setStatus:sr,setSubmitting:Nn,setTouched:j,setValues:Q,setFormikState:Mi,submitForm:Bt},Fi=cn(function(){return c(x.values,zs)}),bu=cn(function(P){P&&P.preventDefault&&ct(P.preventDefault)&&P.preventDefault(),P&&P.stopPropagation&&ct(P.stopPropagation)&&P.stopPropagation(),K()}),Ru=E.useCallback(function(P){return{value:Ce(x.values,P),error:Ce(x.errors,P),touched:!!Ce(x.touched,P),initialValue:Ce(p.current,P),initialTouched:!!Ce(_.current,P),initialError:Ce(g.current,P)}},[x.errors,x.touched,x.values]),Vr=E.useCallback(function(P){return{setValue:function(U,W){return ae(P,U,W)},setTouched:function(U,W){return vt(P,U,W)},setError:function(U){return z(P,U)}}},[ae,vt,z]),sa=E.useCallback(function(P){var M=Su(P),U=M?P.name:P,W=Ce(x.values,U),te={name:U,value:W,onChange:lt,onBlur:kt};if(M){var ce=P.type,et=P.value,ar=P.as,Cf=P.multiple;ce==="checkbox"?et===void 0?te.checked=!!W:(te.checked=!!(Array.isArray(W)&&~W.indexOf(et)),te.value=et):ce==="radio"?(te.checked=W===et,te.value=et):ar==="select"&&Cf&&(te.value=te.value||[],te.multiple=!0)}return te},[kt,lt,x.values]),or=E.useMemo(function(){return!zr(p.current,x.values)},[p.current,x.values]),SR=E.useMemo(function(){return typeof a<"u"?or?x.errors&&Object.keys(x.errors).length===0:a!==!1&&ct(a)?a(f):a:x.errors&&Object.keys(x.errors).length===0},[a,or,x.errors,f]),IR=he({},x,{initialValues:p.current,initialErrors:g.current,initialTouched:_.current,initialStatus:w.current,handleBlur:kt,handleChange:lt,handleReset:bu,handleSubmit:Li,resetForm:K,setErrors:q,setFormikState:Mi,setFieldTouched:vt,setFieldValue:ae,setFieldError:z,setStatus:sr,setSubmitting:Nn,setTouched:j,setValues:Q,submitForm:Bt,validateForm:Y,validateField:F,isValid:SR,dirty:or,unregisterField:Rt,registerField:we,getFieldProps:sa,getFieldMeta:Ru,getFieldHelpers:Vr,validateOnBlur:i,validateOnChange:n,validateOnMount:o});return IR}function zl(t){var e=gz(t),n=t.component,r=t.children,i=t.render,s=t.innerRef;return E.useImperativeHandle(s,function(){return e}),E.createElement(dz,{value:e},n?E.createElement(n,e):i?i(e):r?ct(r)?r(e):Mb(r)?null:E.Children.only(r):null)}function yz(t){var e={};if(t.inner){if(t.inner.length===0)return Zn(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(r>=i.length)break;s=i[r++]}else{if(r=i.next(),r.done)break;s=r.value}var o=s;Ce(e,o.path)||(e=Zn(e,o.path,o.message))}}return e}function vz(t,e,n,r){n===void 0&&(n=!1);var i=Rg(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:r||i})}function Rg(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||iE(i)?Rg(i):i!==""?i:void 0}):iE(t[r])?e[r]=Rg(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function _z(t,e,n){var r=t.slice();return e.forEach(function(s,o){if(typeof r[o]>"u"){var a=n.clone!==!1,l=a&&n.isMergeableObject(s);r[o]=l?Sg(Array.isArray(s)?[]:{},s,n):s}else n.isMergeableObject(s)?r[o]=Sg(t[o],s,n):t.indexOf(s)===-1&&r.push(s)}),r}function wz(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function Ez(t,e,n){if(typeof t=="boolean")return!!e;var r=[],i=!1,s=-1;if(Array.isArray(t))r=t,s=t.indexOf(n),i=s>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!i?r.concat(n):i?r.slice(0,s).concat(r.slice(s+1)):r}var Tz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?E.useLayoutEffect:E.useEffect;function cn(t){var e=E.useRef(t);return Tz(function(){e.current=t}),E.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}function ge(t){var e=t.validate,n=t.name,r=t.render,i=t.children,s=t.as,o=t.component,a=t.className,l=ti(t,["validate","name","render","children","as","component","className"]),u=Vb(),c=ti(u,["validate","validationSchema"]),h=c.registerField,f=c.unregisterField;E.useEffect(function(){return h(n,{validate:e}),function(){f(n)}},[h,f,n,e]);var p=c.getFieldProps(he({name:n},l)),g=c.getFieldMeta(n),_={field:p,form:c};if(r)return r(he({},_,{meta:g}));if(ct(i))return i(he({},_,{meta:g}));if(o){if(typeof o=="string"){var w=l.innerRef,v=ti(l,["innerRef"]);return E.createElement(o,he({ref:w},p,v,{className:a}),i)}return E.createElement(o,he({field:p,form:c},l,{className:a}),i)}var m=s||"input";if(typeof m=="string"){var y=l.innerRef,T=ti(l,["innerRef"]);return E.createElement(m,he({ref:y},p,T,{className:a}),i)}return E.createElement(m,he({},p,l,{className:a}),i)}var Bo=E.forwardRef(function(t,e){var n=t.action,r=ti(t,["action"]),i=n??"#",s=Vb(),o=s.handleReset,a=s.handleSubmit;return E.createElement("form",he({onSubmit:a,ref:e,onReset:o,action:i},r))});Bo.displayName="Form";function xz(t){var e=function(i){return E.createElement(fz,null,function(s){return s||ab(!1),E.createElement(t,he({},i,{formik:s}))})},n=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+n+")",lz(e,t)}var Sz=function(e,n,r){var i=Cs(e),s=i[n];return i.splice(n,1),i.splice(r,0,s),i},Iz=function(e,n,r){var i=Cs(e),s=i[n];return i[n]=i[r],i[r]=s,i},Cp=function(e,n,r){var i=Cs(e);return i.splice(n,0,r),i},Az=function(e,n,r){var i=Cs(e);return i[n]=r,i},Cs=function(e){if(e){if(Array.isArray(e))return[].concat(e);var n=Object.keys(e).map(function(r){return parseInt(r)}).reduce(function(r,i){return i>r?i:r},0);return Array.from(he({},e,{length:n+1}))}else return[]},VE=function(e,n){var r=typeof e=="function"?e:n;return function(i){if(Array.isArray(i)||Su(i)){var s=Cs(i);return r(s)}return i}},Pz=function(t){jb(e,t);function e(r){var i;return i=t.call(this,r)||this,i.updateArrayField=function(s,o,a){var l=i.props,u=l.name,c=l.formik.setFormikState;c(function(h){var f=VE(a,s),p=VE(o,s),g=Zn(h.values,u,s(Ce(h.values,u))),_=a?f(Ce(h.errors,u)):void 0,w=o?p(Ce(h.touched,u)):void 0;return jE(_)&&(_=void 0),jE(w)&&(w=void 0),he({},h,{values:g,errors:a?Zn(h.errors,u,_):h.errors,touched:o?Zn(h.touched,u,w):h.touched})})},i.push=function(s){return i.updateArrayField(function(o){return[].concat(Cs(o),[hz(s)])},!1,!1)},i.handlePush=function(s){return function(){return i.push(s)}},i.swap=function(s,o){return i.updateArrayField(function(a){return Iz(a,s,o)},!0,!0)},i.handleSwap=function(s,o){return function(){return i.swap(s,o)}},i.move=function(s,o){return i.updateArrayField(function(a){return Sz(a,s,o)},!0,!0)},i.handleMove=function(s,o){return function(){return i.move(s,o)}},i.insert=function(s,o){return i.updateArrayField(function(a){return Cp(a,s,o)},function(a){return Cp(a,s,null)},function(a){return Cp(a,s,null)})},i.handleInsert=function(s,o){return function(){return i.insert(s,o)}},i.replace=function(s,o){return i.updateArrayField(function(a){return Az(a,s,o)},!1,!1)},i.handleReplace=function(s,o){return function(){return i.replace(s,o)}},i.unshift=function(s){var o=-1;return i.updateArrayField(function(a){var l=a?[s].concat(a):[s];return o=l.length,l},function(a){return a?[null].concat(a):[null]},function(a){return a?[null].concat(a):[null]}),o},i.handleUnshift=function(s){return function(){return i.unshift(s)}},i.handleRemove=function(s){return function(){return i.remove(s)}},i.handlePop=function(){return function(){return i.pop()}},i.remove=i.remove.bind(OE(i)),i.pop=i.pop.bind(OE(i)),i}var n=e.prototype;return n.componentDidUpdate=function(i){this.props.validateOnChange&&this.props.formik.validateOnChange&&!zr(Ce(i.formik.values,i.name),Ce(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(i){var s;return this.updateArrayField(function(o){var a=o?Cs(o):[];return s||(s=a[i]),ct(a.splice)&&a.splice(i,1),ct(a.every)&&a.every(function(l){return l===void 0})?[]:a},!0,!0),s},n.pop=function(){var i;return this.updateArrayField(function(s){var o=s.slice();return i||(i=o&&o.pop&&o.pop()),o},!0,!0),i},n.render=function(){var i={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},s=this.props,o=s.component,a=s.render,l=s.children,u=s.name,c=s.formik,h=ti(c,["validate","validationSchema"]),f=he({},i,{form:h,name:u});return o?E.createElement(o,f):a?a(f):l?typeof l=="function"?l(f):Mb(l)?null:E.Children.only(l):null},e}(E.Component);Pz.defaultProps={validateOnChange:!0};var Cz=function(t){jb(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.shouldComponentUpdate=function(i){return Ce(this.props.formik.errors,this.props.name)!==Ce(i.formik.errors,this.props.name)||Ce(this.props.formik.touched,this.props.name)!==Ce(i.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(i).length},n.render=function(){var i=this.props,s=i.component,o=i.formik,a=i.render,l=i.children,u=i.name,c=ti(i,["component","formik","render","children","name"]),h=Ce(o.touched,u),f=Ce(o.errors,u);return h&&f?a?ct(a)?a(f):null:l?ct(l)?l(f):null:s?E.createElement(s,c,f):f:null},e}(E.Component),Re=xz(Cz);function $s(t){this._maxSize=t,this.clear()}$s.prototype.clear=function(){this._size=0,this._values=Object.create(null)};$s.prototype.get=function(t){return this._values[t]};$s.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var bz=/[^.^\]^[]+|(?=\[\]|\.\.)/g,Fb=/^\d+$/,Rz=/^\d/,kz=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Nz=/^\s*(['"]?)(.*?)(\1)\s*$/,j0=512,ME=new $s(j0),LE=new $s(j0),FE=new $s(j0),ds={Cache:$s,split:kg,normalizePath:bp,setter:function(t){var e=bp(t);return LE.get(t)||LE.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var l=e[s];if(l==="__proto__"||l==="constructor"||l==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=bp(t);return FE.get(t)||FE.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(V0(n)||Fb.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){Dz(Array.isArray(t)?t:kg(t),e,n)}};function bp(t){return ME.get(t)||ME.set(t,kg(t).map(function(e){return e.replace(Nz,"$2")}))}function kg(t){return t.match(bz)||[""]}function Dz(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(Vz(i)&&(i='"'+i+'"'),a=V0(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function V0(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function Oz(t){return t.match(Rz)&&!t.match(Fb)}function jz(t){return kz.test(t)}function Vz(t){return!V0(t)&&(Oz(t)||jz(t))}const Mz=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,mf=t=>t.match(Mz)||[],gf=t=>t[0].toUpperCase()+t.slice(1),M0=(t,e)=>mf(t).join(e).toLowerCase(),$b=t=>mf(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),Lz=t=>gf($b(t)),Fz=t=>M0(t,"_"),$z=t=>M0(t,"-"),Uz=t=>gf(M0(t," ")),Bz=t=>mf(t).map(gf).join(" ");var Rp={words:mf,upperFirst:gf,camelCase:$b,pascalCase:Lz,snakeCase:Fz,kebabCase:$z,sentenceCase:Uz,titleCase:Bz},L0={exports:{}};L0.exports=function(t){return Ub(zz(t),t)};L0.exports.array=Ub;function Ub(t,e){var n=t.length,r=new Array(n),i={},s=n,o=Wz(e),a=Hz(t);for(e.forEach(function(u){if(!a.has(u[0])||!a.has(u[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||l(t[s],s,new Set);return r;function l(u,c,h){if(h.has(u)){var f;try{f=", node was:"+JSON.stringify(u)}catch{f=""}throw new Error("Cyclic dependency"+f)}if(!a.has(u))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(u));if(!i[c]){i[c]=!0;var p=o.get(u)||new Set;if(p=Array.from(p),c=p.length){h.add(u);do{var g=p[--c];l(g,a.get(g),h)}while(c);h.delete(u)}r[--n]=u}}}function zz(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function Wz(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function Hz(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var qz=L0.exports;const Gz=Xh(qz),Kz=Object.prototype.toString,Qz=Error.prototype.toString,Xz=RegExp.prototype.toString,Yz=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",Jz=/^Symbol\((.*)\)(.*)$/;function Zz(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function $E(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return Zz(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return Yz.call(t).replace(Jz,"Symbol($1)");const r=Kz.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+Qz.call(t)+"]":r==="RegExp"?Xz.call(t):null}function pi(t,e){let n=$E(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=$E(this[r],e);return s!==null?s:i},2)}function Bb(t){return t==null?[]:[].concat(t)}let zb,e8=/\$\{\s*(\w+)\s*\}/g;zb=Symbol.toStringTag;class Ht extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(e8,(i,s)=>pi(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,s){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this[zb]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],Bb(e).forEach(o=>{if(Ht.isError(o)){this.errors.push(...o.errors);const a=o.inner.length?o.inner:[o];this.inner.push(...a)}else this.errors.push(o)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],!s&&Error.captureStackTrace&&Error.captureStackTrace(this,Ht)}}let Mn={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${pi(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${pi(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${pi(n,!0)}\``+i}},En={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Fr={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Ng={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},t8={isValue:"${path} field must be ${value}"},Dg={noUnknown:"${path} field has unspecified keys: ${unknown}"},n8={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},r8={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${pi(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${pi(n,!0)}\``}return Ht.formatError(Mn.notType,t)}};Object.assign(Object.create(null),{mixed:Mn,string:En,number:Fr,date:Ng,object:Dg,array:n8,boolean:t8,tuple:r8});const F0=t=>t&&t.__isYupSchema__;class Lh{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(l=>l===r);return new Lh(e,(a,l)=>{var u;let c=o(...a)?i:s;return(u=c==null?void 0:c(l))!=null?u:l})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!F0(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const oc={context:"$",value:"."};function i8(t,e){return new ji(t,e)}class ji{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===oc.context,this.isValue=this.key[0]===oc.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?oc.context:this.isValue?oc.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&ds.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}ji.prototype.__isYupRef=!0;const yr=t=>t==null;function qs(t){function e({value:n,path:r="",options:i,originalValue:s,schema:o},a,l){const{name:u,test:c,params:h,message:f,skipAbsent:p}=t;let{parent:g,context:_,abortEarly:w=o.spec.abortEarly,disableStackTrace:v=o.spec.disableStackTrace}=i;function m($){return ji.isRef($)?$.getValue(n,g,_):$}function y($={}){var se;const Y=Object.assign({value:n,originalValue:s,label:o.spec.label,path:$.path||r,spec:o.spec},h,$.params);for(const F of Object.keys(Y))Y[F]=m(Y[F]);const K=new Ht(Ht.formatError($.message||f,Y),n,Y.path,$.type||u,(se=$.disableStackTrace)!=null?se:v);return K.params=Y,K}const T=w?a:l;let S={path:r,parent:g,type:u,from:i.from,createError:y,resolve:m,options:i,originalValue:s,schema:o};const x=$=>{Ht.isError($)?T($):$?l(null):T(y())},I=$=>{Ht.isError($)?T($):a($)};if(p&&yr(n))return x(!0);let C;try{var k;if(C=c.call(S,n,S),typeof((k=C)==null?void 0:k.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${S.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(C).then(x,I)}}catch($){I($);return}x(C)}return e.OPTIONS=t,e}function s8(t,e,n,r=n){let i,s,o;return e?(ds.forEach(e,(a,l,u)=>{let c=l?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:i,value:n});let h=t.type==="tuple",f=u?parseInt(c,10):0;if(t.innerType||h){if(h&&!u)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&f>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[f],t=h?t.spec.types[f]:t.innerType}if(!u){if(!t.fields||!t.fields[c])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=n,n=n&&n[c],t=t.fields[c]}s=c,o=l?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class Fh extends Set{describe(){const e=[];for(const n of this.values())e.push(ji.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new Fh(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function uo(t,e=new Map){if(F0(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=uo(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,uo(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(uo(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=uo(i,e)}else throw Error(`Unable to clone ${t}`);return n}class kn{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Fh,this._blacklist=new Fh,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Mn.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=uo(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&yr(s))return s;let o=pi(e),a=pi(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=n,l=e;a||(l=this._cast(l,Object.assign({assert:!1},n)));let u=[];for(let c of Object.values(this.internalTests))c&&u.push(c);this.runTests({path:s,value:l,originalValue:o,options:n,tests:u},r,c=>{if(c.length)return i(c,l);this.runTests({path:s,value:l,originalValue:o,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:o,originalValue:a,path:l,options:u}=e,c=_=>{i||(i=!0,n(_,o))},h=_=>{i||(i=!0,r(_,o))},f=s.length,p=[];if(!f)return h([]);let g={value:o,originalValue:a,path:l,options:u,schema:this};for(let _=0;_<s.length;_++){const w=s[_];w(g,c,function(m){m&&(Array.isArray(m)?p.push(...m):p.push(m)),--f<=0&&h(p)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const l=typeof a=="number";let u=r[a];const c=Object.assign({},o,{strict:!0,parent:r,value:u,originalValue:s[a],key:void 0,[l?"index":"key"]:a,path:l||a.includes(".")?`${i||""}[${u?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(h,f,p)=>this.resolve(c)._validate(u,c,f,p)}validate(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((o,a)=>i._validate(e,n,(l,u)=>{Ht.isError(l)&&(l.value=u),a(l)},(l,u)=>{l.length?a(new Ht(l,u,void 0,void 0,s)):o(u)}))}validateSync(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},n,{sync:!0}),(a,l)=>{throw Ht.isError(a)&&(a.value=l),a},(a,l)=>{if(a.length)throw new Ht(a,e,void 0,void 0,o);s=l}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(Ht.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(Ht.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):uo(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=qs({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=qs({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Mn.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Mn.notNull){return this.nullability(!1,e)}required(e=Mn.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Mn.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=qs(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=Bb(e).map(s=>new ji(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new Lh(i,n):Lh.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=qs({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Mn.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=qs({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),r}notOneOf(e,n=Mn.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=qs({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:r,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(l=>({name:l.OPTIONS.name,params:l.OPTIONS.params})).filter((l,u,c)=>c.findIndex(h=>h.name===l.name)===u)}}}kn.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])kn.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=s8(this,e,n,r.context);return o[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])kn.prototype[t]=kn.prototype.oneOf;for(const t of["not","nope"])kn.prototype[t]=kn.prototype.notOneOf;let o8=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,a8=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,l8=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,u8=t=>yr(t)||t===t.trim(),c8={}.toString();function Ae(){return new Wb}class Wb extends kn{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===c8?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Mn.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=En.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=En.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=En.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||En.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=En.email){return this.matches(o8,{name:"email",message:e,excludeEmptyString:!0})}url(e=En.url){return this.matches(a8,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=En.uuid){return this.matches(l8,{name:"uuid",message:e,excludeEmptyString:!1})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=En.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:u8})}lowercase(e=En.lowercase){return this.transform(n=>yr(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>yr(n)||n===n.toLowerCase()})}uppercase(e=En.uppercase){return this.transform(n=>yr(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>yr(n)||n===n.toUpperCase()})}}Ae.prototype=Wb.prototype;let h8=t=>t!=+t;function Hb(){return new qb}class qb extends kn{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!h8(e)}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce)return e;let i=e;if(typeof i=="string"){if(i=i.replace(/\s/g,""),i==="")return NaN;i=+i}return r.isType(i)||i===null?i:parseFloat(i)})})}min(e,n=Fr.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r>=this.resolve(e)}})}max(e,n=Fr.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(r){return r<=this.resolve(e)}})}lessThan(e,n=Fr.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(r){return r<this.resolve(e)}})}moreThan(e,n=Fr.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(r){return r>this.resolve(e)}})}positive(e=Fr.positive){return this.moreThan(0,e)}negative(e=Fr.negative){return this.lessThan(0,e)}integer(e=Fr.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>yr(e)?e:e|0)}round(e){var n;let r=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(r.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+r.join(", "));return this.transform(i=>yr(i)?i:Math[e](i))}}Hb.prototype=qb.prototype;const d8=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function lr(t,e=0){return Number(t)||e}function f8(t){const e=d8.exec(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;const n={year:lr(e[1]),month:lr(e[2],1)-1,day:lr(e[3],1),hour:lr(e[4]),minute:lr(e[5]),second:lr(e[6]),millisecond:e[7]?lr(e[7].substring(0,3)):0,z:e[8]||void 0,plusMinus:e[9]||void 0,hourOffset:lr(e[10]),minuteOffset:lr(e[11])};if(n.z===void 0&&n.plusMinus===void 0)return new Date(n.year,n.month,n.day,n.hour,n.minute,n.second,n.millisecond).valueOf();let r=0;return n.z!=="Z"&&n.plusMinus!==void 0&&(r=n.hourOffset*60+n.minuteOffset,n.plusMinus==="+"&&(r=0-r)),Date.UTC(n.year,n.month,n.day,n.hour,n.minute+r,n.second,n.millisecond)}let p8=new Date(""),m8=t=>Object.prototype.toString.call(t)==="[object Date]";class yf extends kn{constructor(){super({type:"date",check(e){return m8(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=f8(e),isNaN(e)?yf.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(ji.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=Ng.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=Ng.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}yf.INVALID_DATE=p8;yf.prototype;function g8(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let l=ds.split(o)[0];r.add(l),i.has(`${a}-${l}`)||n.push([a,l])}for(const o of Object.keys(t)){let a=t[o];r.add(o),ji.isRef(a)&&a.isSibling?s(a.path,o):F0(a)&&"deps"in a&&a.deps.forEach(l=>s(l,o))}return Gz.array(Array.from(r),n).reverse()}function UE(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function Gb(t){return(e,n)=>UE(t,e)-UE(t,n)}const y8=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function Mc(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=Mc(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Mc(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Mc)}):"optional"in t?t.optional():t}const v8=(t,e)=>{const n=[...ds.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=ds.getter(ds.join(n),!0)(t);return!!(i&&r in i)};let BE=t=>Object.prototype.toString.call(t)==="[object Object]";function _8(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const w8=Gb([]);function zo(t){return new Kb(t)}class Kb extends kn{constructor(e){super({type:"object",check(n){return BE(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=w8,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(h=>!this._nodes.includes(h))),l={},u=Object.assign({},n,{parent:l,__validating:n.__validating||!1}),c=!1;for(const h of a){let f=s[h],p=h in i;if(f){let g,_=i[h];u.path=(n.path?`${n.path}.`:"")+h,f=f.resolve({value:_,context:n.context,parent:l});let w=f instanceof kn?f.spec:void 0,v=w==null?void 0:w.strict;if(w!=null&&w.strip){c=c||h in i;continue}g=!n.__validating||!v?f.cast(i[h],u):i[h],g!==void 0&&(l[h]=g)}else p&&!o&&(l[h]=i[h]);(p!==h in l||l[h]!==i[h])&&(c=!0)}return c?l:i}_validate(e,n={},r,i){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(l,u)=>{if(!a||!BE(u)){i(l,u);return}o=o||u;let c=[];for(let h of this._nodes){let f=this.fields[h];!f||ji.isRef(f)||c.push(f.asNestedTest({options:n,key:h,parent:u,parentPath:n.path,originalParent:o}))}this.runTests({tests:c,value:u,originalValue:o,options:n},r,h=>{i(h.sort(this._sortErrors).concat(l),u)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];r[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=g8(e,n),r._sortErrors=Gb(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return Mc(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let i=ds.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return v8(s,e)&&(o=Object.assign({},s),r||delete o[e],o[n]=i(s)),o})}json(){return this.transform(y8)}noUnknown(e=!0,n=Dg.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=_8(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=Dg.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(Rp.camelCase)}snakeCase(){return this.transformKeys(Rp.snakeCase)}constantCase(){return this.transformKeys(e=>Rp.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,o]of Object.entries(n.fields)){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),r.fields[s]=o.describe(a)}return r}}zo.prototype=Kb.prototype;/*!
 * Compressor.js v1.2.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-02-28T14:09:41.732Z
 */function zE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ac(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zE(Object(n),!0).forEach(function(r){x8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E8(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qb(r.key),r)}}function T8(t,e,n){return e&&WE(t.prototype,e),n&&WE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function x8(t,e,n){return e=Qb(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $h(){return $h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$h.apply(this,arguments)}function S8(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qb(t){var e=S8(t,"string");return typeof e=="symbol"?e:String(e)}var Xb={exports:{}};(function(t){typeof window>"u"||function(e){var n=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,r=e.Blob&&function(){try{return!!new Blob}catch{return!1}}(),i=r&&e.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch{return!1}}(),s=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,o=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,a=(r||s)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(l){var u,c,h,f,p,g,_,w,v;if(u=l.match(o),!u)throw new Error("invalid data URI");for(c=u[2]?u[1]:"text/plain"+(u[3]||";charset=US-ASCII"),h=!!u[4],f=l.slice(u[0].length),h?p=atob(f):p=decodeURIComponent(f),g=new ArrayBuffer(p.length),_=new Uint8Array(g),w=0;w<p.length;w+=1)_[w]=p.charCodeAt(w);return r?new Blob([i?_:g],{type:c}):(v=new s,v.append(g),v.getBlob(c))};e.HTMLCanvasElement&&!n.toBlob&&(n.mozGetAsFile?n.toBlob=function(l,u,c){var h=this;setTimeout(function(){c&&n.toDataURL&&a?l(a(h.toDataURL(u,c))):l(h.mozGetAsFile("blob",u))})}:n.toDataURL&&a&&(n.msToBlob?n.toBlob=function(l,u,c){var h=this;setTimeout(function(){(u&&u!=="image/png"||c)&&n.toDataURL&&a?l(a(h.toDataURL(u,c))):l(h.msToBlob(u))})}:n.toBlob=function(l,u,c){var h=this;setTimeout(function(){l(a(h.toDataURL(u,c)))})})),t.exports?t.exports=a:e.dataURLtoBlob=a}(window)})(Xb);var HE=Xb.exports,I8=function(e){return typeof Blob>"u"?!1:e instanceof Blob||Object.prototype.toString.call(e)==="[object Blob]"},qE={strict:!0,checkOrientation:!0,retainExif:!1,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},A8=typeof window<"u"&&typeof window.document<"u",Si=A8?window:{},Uh=function(e){return e>0&&e<1/0},P8=Array.prototype.slice;function $0(t){return Array.from?Array.from(t):P8.call(t)}var C8=/^image\/.+$/;function Og(t){return C8.test(t)}function b8(t){var e=Og(t)?t.substr(6):"";return e==="jpeg"&&(e="jpg"),".".concat(e)}var Yb=String.fromCharCode;function R8(t,e,n){var r="",i;for(n+=e,i=e;i<n;i+=1)r+=Yb(t.getUint8(i));return r}var k8=Si.btoa;function GE(t,e){for(var n=[],r=8192,i=new Uint8Array(t);i.length>0;)n.push(Yb.apply(null,$0(i.subarray(0,r)))),i=i.subarray(r);return"data:".concat(e,";base64,").concat(k8(n.join("")))}function N8(t){var e=new DataView(t),n;try{var r,i,s;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var o=e.byteLength,a=2;a+1<o;){if(e.getUint8(a)===255&&e.getUint8(a+1)===225){i=a;break}a+=1}if(i){var l=i+4,u=i+10;if(R8(e,l,4)==="Exif"){var c=e.getUint16(u);if(r=c===18761,(r||c===19789)&&e.getUint16(u+2,r)===42){var h=e.getUint32(u+4,r);h>=8&&(s=u+h)}}}if(s){var f=e.getUint16(s,r),p,g;for(g=0;g<f;g+=1)if(p=s+g*12+2,e.getUint16(p,r)===274){p+=8,n=e.getUint16(p,r),e.setUint16(p,1,r);break}}}catch{n=1}return n}function D8(t){var e=0,n=1,r=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:n,scaleY:r}}var O8=/\.\d*(?:0|9){12}\d*$/;function KE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return O8.test(t)?Math.round(t*e)/e:t}function _a(t){var e=t.aspectRatio,n=t.height,r=t.width,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",s=Uh(r),o=Uh(n);if(s&&o){var a=n*e;(i==="contain"||i==="none")&&a>r||i==="cover"&&a<r?n=r/e:r=n*e}else s?n=r/e:o&&(r=n*e);return{width:r,height:n}}function j8(t){for(var e=$0(new Uint8Array(t)),n=e.length,r=[],i=0;i+3<n;){var s=e[i],o=e[i+1];if(s===255&&o===218)break;if(s===255&&o===216)i+=2;else{var a=e[i+2]*256+e[i+3],l=i+a+2,u=e.slice(i,l);r.push(u),i=l}}return r.reduce(function(c,h){return h[0]===255&&h[1]===225?c.concat(h):c},[])}function V8(t,e){var n=$0(new Uint8Array(t));if(n[2]!==255||n[3]!==224)return t;var r=n[4]*256+n[5],i=[255,216].concat(e,n.slice(4+r));return new Uint8Array(i)}var M8=Si.ArrayBuffer,kp=Si.FileReader,Ui=Si.URL||Si.webkitURL,L8=/\.\w+$/,F8=Si.Compressor,$8=function(){function t(e,n){E8(this,t),this.file=e,this.exif=[],this.image=new Image,this.options=ac(ac({},qE),n),this.aborted=!1,this.result=null,this.init()}return T8(t,[{key:"init",value:function(){var n=this,r=this.file,i=this.options;if(!I8(r)){this.fail(new Error("The first argument must be a File or Blob object."));return}var s=r.type;if(!Og(s)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!Ui||!kp){this.fail(new Error("The current browser does not support image compression."));return}M8||(i.checkOrientation=!1,i.retainExif=!1);var o=s==="image/jpeg",a=o&&i.checkOrientation,l=o&&i.retainExif;if(Ui&&!a&&!l)this.load({url:Ui.createObjectURL(r)});else{var u=new kp;this.reader=u,u.onload=function(c){var h=c.target,f=h.result,p={},g=1;a&&(g=N8(f),g>1&&$h(p,D8(g))),l&&(n.exif=j8(f)),a||l?!Ui||g>1?p.url=GE(f,s):p.url=Ui.createObjectURL(r):p.url=f,n.load(p)},u.onabort=function(){n.fail(new Error("Aborted to read the image with FileReader."))},u.onerror=function(){n.fail(new Error("Failed to read the image with FileReader."))},u.onloadend=function(){n.reader=null},a||l?u.readAsArrayBuffer(r):u.readAsDataURL(r)}}},{key:"load",value:function(n){var r=this,i=this.file,s=this.image;s.onload=function(){r.draw(ac(ac({},n),{},{naturalWidth:s.naturalWidth,naturalHeight:s.naturalHeight}))},s.onabort=function(){r.fail(new Error("Aborted to load the image."))},s.onerror=function(){r.fail(new Error("Failed to load the image."))},Si.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Si.navigator.userAgent)&&(s.crossOrigin="anonymous"),s.alt=i.name,s.src=n.url}},{key:"draw",value:function(n){var r=this,i=n.naturalWidth,s=n.naturalHeight,o=n.rotate,a=o===void 0?0:o,l=n.scaleX,u=l===void 0?1:l,c=n.scaleY,h=c===void 0?1:c,f=this.file,p=this.image,g=this.options,_=document.createElement("canvas"),w=_.getContext("2d"),v=Math.abs(a)%180===90,m=(g.resize==="contain"||g.resize==="cover")&&Uh(g.width)&&Uh(g.height),y=Math.max(g.maxWidth,0)||1/0,T=Math.max(g.maxHeight,0)||1/0,S=Math.max(g.minWidth,0)||0,x=Math.max(g.minHeight,0)||0,I=i/s,A=g.width,C=g.height;if(v){var k=[T,y];y=k[0],T=k[1];var $=[x,S];S=$[0],x=$[1];var se=[C,A];A=se[0],C=se[1]}m&&(I=A/C);var Y=_a({aspectRatio:I,width:y,height:T},"contain");y=Y.width,T=Y.height;var K=_a({aspectRatio:I,width:S,height:x},"cover");if(S=K.width,x=K.height,m){var F=_a({aspectRatio:I,width:A,height:C},g.resize);A=F.width,C=F.height}else{var we=_a({aspectRatio:I,width:A,height:C}),Rt=we.width;A=Rt===void 0?i:Rt;var j=we.height;C=j===void 0?s:j}A=Math.floor(KE(Math.min(Math.max(A,S),y))),C=Math.floor(KE(Math.min(Math.max(C,x),T)));var q=-A/2,Q=-C/2,z=A,ae=C,Ut=[];if(m){var lt=0,vt=0,ze=i,kt=s,Mi=_a({aspectRatio:I,width:i,height:s},{contain:"cover",cover:"contain"}[g.resize]);ze=Mi.width,kt=Mi.height,lt=(i-ze)/2,vt=(s-kt)/2,Ut.push(lt,vt,ze,kt)}if(Ut.push(q,Q,z,ae),v){var sr=[C,A];A=sr[0],C=sr[1]}_.width=A,_.height=C,Og(g.mimeType)||(g.mimeType=f.type);var Nn="transparent";f.size>g.convertSize&&g.convertTypes.indexOf(g.mimeType)>=0&&(g.mimeType="image/jpeg");var Bt=g.mimeType==="image/jpeg";if(Bt&&(Nn="#fff"),w.fillStyle=Nn,w.fillRect(0,0,A,C),g.beforeDraw&&g.beforeDraw.call(this,w,_),!this.aborted&&(w.save(),w.translate(A/2,C/2),w.rotate(a*Math.PI/180),w.scale(u,h),w.drawImage.apply(w,[p].concat(Ut)),w.restore(),g.drew&&g.drew.call(this,w,_),!this.aborted)){var Li=function(Fi){if(!r.aborted){var bu=function(or){return r.done({naturalWidth:i,naturalHeight:s,result:or})};if(Fi&&Bt&&g.retainExif&&r.exif&&r.exif.length>0){var Ru=function(or){return bu(HE(GE(V8(or,r.exif),g.mimeType)))};if(Fi.arrayBuffer)Fi.arrayBuffer().then(Ru).catch(function(){r.fail(new Error("Failed to read the compressed image with Blob.arrayBuffer()."))});else{var Vr=new kp;r.reader=Vr,Vr.onload=function(sa){var or=sa.target;Ru(or.result)},Vr.onabort=function(){r.fail(new Error("Aborted to read the compressed image with FileReader."))},Vr.onerror=function(){r.fail(new Error("Failed to read the compressed image with FileReader."))},Vr.onloadend=function(){r.reader=null},Vr.readAsArrayBuffer(Fi)}}else bu(Fi)}};_.toBlob?_.toBlob(Li,g.mimeType,g.quality):Li(HE(_.toDataURL(g.mimeType,g.quality)))}}},{key:"done",value:function(n){var r=n.naturalWidth,i=n.naturalHeight,s=n.result,o=this.file,a=this.image,l=this.options;if(Ui&&a.src.indexOf("blob:")===0&&Ui.revokeObjectURL(a.src),s)if(l.strict&&!l.retainExif&&s.size>o.size&&l.mimeType===o.type&&!(l.width>r||l.height>i||l.minWidth>r||l.minHeight>i||l.maxWidth<r||l.maxHeight<i))s=o;else{var u=new Date;s.lastModified=u.getTime(),s.lastModifiedDate=u,s.name=o.name,s.name&&s.type!==o.type&&(s.name=s.name.replace(L8,b8(s.type)))}else s=o;this.result=s,l.success&&l.success.call(this,s)}},{key:"fail",value:function(n){var r=this.options;if(r.error)r.error.call(this,n);else throw n}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=F8,t}},{key:"setDefaults",value:function(n){$h(qE,n)}}]),t}();const Jb=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),vf=E.createContext({}),_f=E.createContext(null),wf=typeof document<"u",Ef=wf?E.useLayoutEffect:E.useEffect,Zb=E.createContext({strict:!1}),U0=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),U8="framerAppearId",e2="data-"+U0(U8);function B8(t,e,n,r){const{visualElement:i}=E.useContext(vf),s=E.useContext(Zb),o=E.useContext(_f),a=E.useContext(Jb).reducedMotion,l=E.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;E.useInsertionEffect(()=>{u&&u.update(n,o)});const c=E.useRef(!!(n[e2]&&!window.HandoffComplete));return Ef(()=>{u&&(u.render(),c.current&&u.animationState&&u.animationState.animateChanges())}),E.useEffect(()=>{u&&(u.updateFeatures(),!c.current&&u.animationState&&u.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))}),u}function co(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function z8(t,e,n){return E.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):co(n)&&(n.current=r))},[e])}function Wl(t){return typeof t=="string"||Array.isArray(t)}function Tf(t){return typeof t=="object"&&typeof t.start=="function"}const B0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],z0=["initial",...B0];function xf(t){return Tf(t.animate)||z0.some(e=>Wl(t[e]))}function t2(t){return!!(xf(t)||t.variants)}function W8(t,e){if(xf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Wl(n)?n:void 0,animate:Wl(r)?r:void 0}}return t.inherit!==!1?e:{}}function H8(t){const{initial:e,animate:n}=W8(t,E.useContext(vf));return E.useMemo(()=>({initial:e,animate:n}),[QE(e),QE(n)])}function QE(t){return Array.isArray(t)?t.join(" "):t}const XE={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Hl={};for(const t in XE)Hl[t]={isEnabled:e=>XE[t].some(n=>!!e[n])};function q8(t){for(const e in t)Hl[e]={...Hl[e],...t[e]}}const W0=E.createContext({}),n2=E.createContext({}),G8=Symbol.for("motionComponentSymbol");function K8({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&q8(t);function s(a,l){let u;const c={...E.useContext(Jb),...a,layoutId:Q8(a)},{isStatic:h}=c,f=H8(a),p=r(a,h);if(!h&&wf){f.visualElement=B8(i,p,c,e);const g=E.useContext(n2),_=E.useContext(Zb).strict;f.visualElement&&(u=f.visualElement.loadFeatures(c,_,t,g))}return E.createElement(vf.Provider,{value:f},u&&f.visualElement?E.createElement(u,{visualElement:f.visualElement,...c}):null,n(i,a,z8(p,f.visualElement,l),p,h,f.visualElement))}const o=E.forwardRef(s);return o[G8]=i,o}function Q8({layoutId:t}){const e=E.useContext(W0).id;return e&&t!==void 0?e+"-"+t:t}function X8(t){function e(r,i={}){return K8(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const Y8=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function H0(t){return typeof t!="string"||t.includes("-")?!1:!!(Y8.indexOf(t)>-1||/[A-Z]/.test(t))}const Bh={};function J8(t){Object.assign(Bh,t)}const Iu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Us=new Set(Iu);function r2(t,{layout:e,layoutId:n}){return Us.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Bh[t]||t==="opacity")}const Yt=t=>!!(t&&t.getVelocity),Z8={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},e7=Iu.length;function t7(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<e7;o++){const a=Iu[o];if(t[a]!==void 0){const l=Z8[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const i2=t=>e=>typeof e=="string"&&e.startsWith(t),s2=i2("--"),jg=i2("var(--"),n7=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,r7=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ii=(t,e,n)=>Math.min(Math.max(n,t),e),Bs={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Za={...Bs,transform:t=>Ii(0,1,t)},lc={...Bs,default:1},el=t=>Math.round(t*1e5)/1e5,Sf=/(-)?([\d]*\.?[\d])+/g,o2=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,i7=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Au(t){return typeof t=="string"}const Pu=t=>({test:e=>Au(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$r=Pu("deg"),er=Pu("%"),G=Pu("px"),s7=Pu("vh"),o7=Pu("vw"),YE={...er,parse:t=>er.parse(t)/100,transform:t=>er.transform(t*100)},JE={...Bs,transform:Math.round},a2={borderWidth:G,borderTopWidth:G,borderRightWidth:G,borderBottomWidth:G,borderLeftWidth:G,borderRadius:G,radius:G,borderTopLeftRadius:G,borderTopRightRadius:G,borderBottomRightRadius:G,borderBottomLeftRadius:G,width:G,maxWidth:G,height:G,maxHeight:G,size:G,top:G,right:G,bottom:G,left:G,padding:G,paddingTop:G,paddingRight:G,paddingBottom:G,paddingLeft:G,margin:G,marginTop:G,marginRight:G,marginBottom:G,marginLeft:G,rotate:$r,rotateX:$r,rotateY:$r,rotateZ:$r,scale:lc,scaleX:lc,scaleY:lc,scaleZ:lc,skew:$r,skewX:$r,skewY:$r,distance:G,translateX:G,translateY:G,translateZ:G,x:G,y:G,z:G,perspective:G,transformPerspective:G,opacity:Za,originX:YE,originY:YE,originZ:G,zIndex:JE,fillOpacity:Za,strokeOpacity:Za,numOctaves:JE};function q0(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,u=!1,c=!0;for(const h in e){const f=e[h];if(s2(h)){s[h]=f;continue}const p=a2[h],g=r7(f,p);if(Us.has(h)){if(l=!0,o[h]=g,!c)continue;f!==(p.default||0)&&(c=!1)}else h.startsWith("origin")?(u=!0,a[h]=g):i[h]=g}if(e.transform||(l||r?i.transform=t7(t.transform,n,c,r):i.transform&&(i.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:p=0}=a;i.transformOrigin=`${h} ${f} ${p}`}}const G0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function l2(t,e,n){for(const r in e)!Yt(e[r])&&!r2(r,n)&&(t[r]=e[r])}function a7({transformTemplate:t},e,n){return E.useMemo(()=>{const r=G0();return q0(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function l7(t,e,n){const r=t.style||{},i={};return l2(i,r,t),Object.assign(i,a7(t,e,n)),t.transformValues?t.transformValues(i):i}function u7(t,e,n){const r={},i=l7(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const c7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function zh(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||c7.has(t)}let u2=t=>!zh(t);function h7(t){t&&(u2=e=>e.startsWith("on")?!zh(e):t(e))}try{h7(require("@emotion/is-prop-valid").default)}catch{}function d7(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(u2(i)||n===!0&&zh(i)||!e&&!zh(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function ZE(t,e,n){return typeof t=="string"?t:G.transform(e+n*t)}function f7(t,e,n){const r=ZE(e,t.x,t.width),i=ZE(n,t.y,t.height);return`${r} ${i}`}const p7={offset:"stroke-dashoffset",array:"stroke-dasharray"},m7={offset:"strokeDashoffset",array:"strokeDasharray"};function g7(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?p7:m7;t[s.offset]=G.transform(-r);const o=G.transform(e),a=G.transform(n);t[s.array]=`${o} ${a}`}function K0(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...u},c,h,f){if(q0(t,u,c,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g,dimensions:_}=t;p.transform&&(_&&(g.transform=p.transform),delete p.transform),_&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=f7(_,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&g7(p,o,a,l,!1)}const c2=()=>({...G0(),attrs:{}}),Q0=t=>typeof t=="string"&&t.toLowerCase()==="svg";function y7(t,e,n,r){const i=E.useMemo(()=>{const s=c2();return K0(s,e,{enableHardwareAcceleration:!1},Q0(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};l2(s,t.style,t),i.style={...s,...i.style}}return i}function v7(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(H0(n)?y7:u7)(r,s,o,n),c={...d7(r,typeof n=="string",t),...l,ref:i},{children:h}=r,f=E.useMemo(()=>Yt(h)?h.get():h,[h]);return E.createElement(n,{...c,children:f})}}function h2(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const d2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function f2(t,e,n,r){h2(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(d2.has(i)?i:U0(i),e.attrs[i])}function X0(t,e){const{style:n}=t,r={};for(const i in n)(Yt(n[i])||e.style&&Yt(e.style[i])||r2(i,t))&&(r[i]=n[i]);return r}function p2(t,e){const n=X0(t,e);for(const r in t)if(Yt(t[r])||Yt(e[r])){const i=Iu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function Y0(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function J0(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const Wh=t=>Array.isArray(t),_7=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),w7=t=>Wh(t)?t[t.length-1]||0:t;function Lc(t){const e=Yt(t)?t.get():t;return _7(e)?e.toValue():e}function E7({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:T7(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const m2=t=>(e,n)=>{const r=E.useContext(vf),i=E.useContext(_f),s=()=>E7(t,e,r,i);return n?s():J0(s)};function T7(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=Lc(s[f]);let{initial:o,animate:a}=t;const l=xf(t),u=t2(t);e&&u&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const h=c?a:o;return h&&typeof h!="boolean"&&!Tf(h)&&(Array.isArray(h)?h:[h]).forEach(p=>{const g=Y0(t,p);if(!g)return;const{transitionEnd:_,transition:w,...v}=g;for(const m in v){let y=v[m];if(Array.isArray(y)){const T=c?y.length-1:0;y=y[T]}y!==null&&(i[m]=y)}for(const m in _)i[m]=_[m]}),i}const Me=t=>t;class eT{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function x7(t){let e=new eT,n=new eT,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const h=c&&i,f=h?e:n;return u&&o.add(l),f.add(l)&&h&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let u=0;u<r;u++){const c=e.order[u];c(l),o.has(c)&&(a.schedule(c),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const uc=["prepare","read","update","preRender","render","postRender"],S7=40;function I7(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=uc.reduce((h,f)=>(h[f]=x7(()=>n=!0),h),{}),o=h=>s[h].process(i),a=()=>{const h=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(h-i.timestamp,S7),1),i.timestamp=h,i.isProcessing=!0,uc.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:uc.reduce((h,f)=>{const p=s[f];return h[f]=(g,_=!1,w=!1)=>(n||l(),p.schedule(g,_,w)),h},{}),cancel:h=>uc.forEach(f=>s[f].cancel(h)),state:i,steps:s}}const{schedule:ve,cancel:Rr,state:Tt,steps:Np}=I7(typeof requestAnimationFrame<"u"?requestAnimationFrame:Me,!0),A7={useVisualState:m2({scrapeMotionValuesFromProps:p2,createRenderState:c2,onMount:(t,e,{renderState:n,latestValues:r})=>{ve.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ve.render(()=>{K0(n,r,{enableHardwareAcceleration:!1},Q0(e.tagName),t.transformTemplate),f2(e,n)})}})},P7={useVisualState:m2({scrapeMotionValuesFromProps:X0,createRenderState:G0})};function C7(t,{forwardMotionProps:e=!1},n,r){return{...H0(t)?A7:P7,preloadedFeatures:n,useRender:v7(e),createVisualElement:r,Component:t}}function vr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const g2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function If(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const b7=t=>e=>g2(e)&&t(e,If(e));function wr(t,e,n,r){return vr(t,e,b7(n),r)}const R7=(t,e)=>n=>e(t(n)),mi=(...t)=>t.reduce(R7);function y2(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const tT=y2("dragHorizontal"),nT=y2("dragVertical");function v2(t){let e=!1;if(t==="y")e=nT();else if(t==="x")e=tT();else{const n=tT(),r=nT();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function _2(){const t=v2(!0);return t?(t(),!1):!0}class Vi{constructor(e){this.isMounted=!1,this.node=e}update(){}}function rT(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||_2())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&ve.update(()=>a[r](s,o))};return wr(t.current,n,i,{passive:!t.getProps()[r]})}class k7 extends Vi{mount(){this.unmount=mi(rT(this.node,!0),rT(this.node,!1))}unmount(){}}class N7 extends Vi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mi(vr(this.node.current,"focus",()=>this.onFocus()),vr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const w2=(t,e)=>e?t===e?!0:w2(t,e.parentElement):!1;function Dp(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,If(n))}class D7 extends Vi{constructor(){super(...arguments),this.removeStartListeners=Me,this.removeEndListeners=Me,this.removeAccessibleListeners=Me,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=wr(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c}=this.node.getProps();ve.update(()=>{w2(this.node.current,a.target)?u&&u(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=wr(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=mi(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Dp("up",(l,u)=>{const{onTap:c}=this.node.getProps();c&&ve.update(()=>c(l,u))})};this.removeEndListeners(),this.removeEndListeners=vr(this.node.current,"keyup",o),Dp("down",(a,l)=>{this.startPress(a,l)})},n=vr(this.node.current,"keydown",e),r=()=>{this.isPressing&&Dp("cancel",(s,o)=>this.cancelPress(s,o))},i=vr(this.node.current,"blur",r);this.removeAccessibleListeners=mi(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ve.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!_2()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ve.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=wr(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=vr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=mi(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Vg=new WeakMap,Op=new WeakMap,O7=t=>{const e=Vg.get(t.target);e&&e(t)},j7=t=>{t.forEach(O7)};function V7({root:t,...e}){const n=t||document;Op.has(n)||Op.set(n,{});const r=Op.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(j7,{root:t,...e})),r[i]}function M7(t,e,n){const r=V7(e);return Vg.set(t,n),r.observe(t),()=>{Vg.delete(t),r.unobserve(t)}}const L7={some:0,all:1};class F7 extends Vi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:L7[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:h}=this.node.getProps(),f=u?c:h;f&&f(l)};return M7(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some($7(e,n))&&this.startObserver()}unmount(){}}function $7({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const U7={inView:{Feature:F7},tap:{Feature:D7},focus:{Feature:N7},hover:{Feature:k7}};function E2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function B7(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function z7(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Af(t,e,n){const r=t.getProps();return Y0(r,e,n!==void 0?n:r.custom,B7(t),z7(t))}let W7=Me,Z0=Me;const gi=t=>t*1e3,Er=t=>t/1e3,H7={current:!1},T2=t=>Array.isArray(t)&&typeof t[0]=="number";function x2(t){return!!(!t||typeof t=="string"&&S2[t]||T2(t)||Array.isArray(t)&&t.every(x2))}const Da=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,S2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Da([0,.65,.55,1]),circOut:Da([.55,0,1,.45]),backIn:Da([.31,.01,.66,-.59]),backOut:Da([.33,1.53,.69,.99])};function I2(t){if(t)return T2(t)?Da(t):Array.isArray(t)?t.map(I2):S2[t]}function q7(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const u={[e]:n};l&&(u.offset=l);const c=I2(a);return Array.isArray(c)&&(u.easing=c),t.animate(u,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function G7(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const A2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,K7=1e-7,Q7=12;function X7(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=A2(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>K7&&++a<Q7);return o}function Cu(t,e,n,r){if(t===e&&n===r)return Me;const i=s=>X7(s,0,1,t,n);return s=>s===0||s===1?s:A2(i(s),e,r)}const Y7=Cu(.42,0,1,1),J7=Cu(0,0,.58,1),P2=Cu(.42,0,.58,1),Z7=t=>Array.isArray(t)&&typeof t[0]!="number",C2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,b2=t=>e=>1-t(1-e),e_=t=>1-Math.sin(Math.acos(t)),R2=b2(e_),eW=C2(e_),k2=Cu(.33,1.53,.69,.99),t_=b2(k2),tW=C2(t_),nW=t=>(t*=2)<1?.5*t_(t):.5*(2-Math.pow(2,-10*(t-1))),rW={linear:Me,easeIn:Y7,easeInOut:P2,easeOut:J7,circIn:e_,circInOut:eW,circOut:R2,backIn:t_,backInOut:tW,backOut:k2,anticipate:nW},iT=t=>{if(Array.isArray(t)){Z0(t.length===4);const[e,n,r,i]=t;return Cu(e,n,r,i)}else if(typeof t=="string")return rW[t];return t},n_=(t,e)=>n=>!!(Au(n)&&i7.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),N2=(t,e,n)=>r=>{if(!Au(r))return r;const[i,s,o,a]=r.match(Sf);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},iW=t=>Ii(0,255,t),jp={...Bs,transform:t=>Math.round(iW(t))},os={test:n_("rgb","red"),parse:N2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+jp.transform(t)+", "+jp.transform(e)+", "+jp.transform(n)+", "+el(Za.transform(r))+")"};function sW(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Mg={test:n_("#"),parse:sW,transform:os.transform},ho={test:n_("hsl","hue"),parse:N2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+er.transform(el(e))+", "+er.transform(el(n))+", "+el(Za.transform(r))+")"},Dt={test:t=>os.test(t)||Mg.test(t)||ho.test(t),parse:t=>os.test(t)?os.parse(t):ho.test(t)?ho.parse(t):Mg.parse(t),transform:t=>Au(t)?t:t.hasOwnProperty("red")?os.transform(t):ho.transform(t)},Ne=(t,e,n)=>-n*t+n*e+t;function Vp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function oW({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Vp(l,a,t+1/3),s=Vp(l,a,t),o=Vp(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Mp=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},aW=[Mg,os,ho],lW=t=>aW.find(e=>e.test(t));function sT(t){const e=lW(t);let n=e.parse(t);return e===ho&&(n=oW(n)),n}const D2=(t,e)=>{const n=sT(t),r=sT(e),i={...n};return s=>(i.red=Mp(n.red,r.red,s),i.green=Mp(n.green,r.green,s),i.blue=Mp(n.blue,r.blue,s),i.alpha=Ne(n.alpha,r.alpha,s),os.transform(i))};function uW(t){var e,n;return isNaN(t)&&Au(t)&&(((e=t.match(Sf))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(o2))===null||n===void 0?void 0:n.length)||0)>0}const O2={regex:n7,countKey:"Vars",token:"${v}",parse:Me},j2={regex:o2,countKey:"Colors",token:"${c}",parse:Dt.parse},V2={regex:Sf,countKey:"Numbers",token:"${n}",parse:Bs.parse};function Lp(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function Hh(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Lp(n,O2),Lp(n,j2),Lp(n,V2),n}function M2(t){return Hh(t).values}function L2(t){const{values:e,numColors:n,numVars:r,tokenised:i}=Hh(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(O2.token,o[l]):l<r+n?a=a.replace(j2.token,Dt.transform(o[l])):a=a.replace(V2.token,el(o[l]));return a}}const cW=t=>typeof t=="number"?0:t;function hW(t){const e=M2(t);return L2(t)(e.map(cW))}const Ai={test:uW,parse:M2,createTransformer:L2,getAnimatableNone:hW},F2=(t,e)=>n=>`${n>0?e:t}`;function $2(t,e){return typeof t=="number"?n=>Ne(t,e,n):Dt.test(t)?D2(t,e):t.startsWith("var(")?F2(t,e):B2(t,e)}const U2=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>$2(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},dW=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=$2(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},B2=(t,e)=>{const n=Ai.createTransformer(e),r=Hh(t),i=Hh(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?mi(U2(r.values,i.values),n):F2(t,e)},ql=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},oT=(t,e)=>n=>Ne(t,e,n);function fW(t){return typeof t=="number"?oT:typeof t=="string"?Dt.test(t)?D2:B2:Array.isArray(t)?U2:typeof t=="object"?dW:oT}function pW(t,e,n){const r=[],i=n||fW(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Me:e;a=mi(l,a)}r.push(a)}return r}function z2(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Z0(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=pW(e,r,i),a=o.length,l=u=>{let c=0;if(a>1)for(;c<t.length-2&&!(u<t[c+1]);c++);const h=ql(t[c],t[c+1],u);return o[c](h)};return n?u=>l(Ii(t[0],t[s-1],u)):l}function mW(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=ql(0,e,r);t.push(Ne(n,1,i))}}function gW(t){const e=[0];return mW(e,t.length-1),e}function yW(t,e){return t.map(n=>n*e)}function vW(t,e){return t.map(()=>e||P2).splice(0,t.length-1)}function qh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Z7(r)?r.map(iT):iT(r),s={done:!1,value:e[0]},o=yW(n&&n.length===e.length?n:gW(e),t),a=z2(o,e,{ease:Array.isArray(i)?i:vW(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function W2(t,e){return e?t*(1e3/e):0}const _W=5;function H2(t,e,n){const r=Math.max(e-_W,0);return W2(n-t(r),e-r)}const Fp=.001,wW=.01,aT=10,EW=.05,TW=1;function xW({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;W7(t<=gi(aT));let o=1-e;o=Ii(EW,TW,o),t=Ii(wW,aT,Er(t)),o<1?(i=u=>{const c=u*o,h=c*t,f=c-n,p=Lg(u,o),g=Math.exp(-h);return Fp-f/p*g},s=u=>{const h=u*o*t,f=h*n+n,p=Math.pow(o,2)*Math.pow(u,2)*t,g=Math.exp(-h),_=Lg(Math.pow(u,2),o);return(-i(u)+Fp>0?-1:1)*((f-p)*g)/_}):(i=u=>{const c=Math.exp(-u*t),h=(u-n)*t+1;return-Fp+c*h},s=u=>{const c=Math.exp(-u*t),h=(n-u)*(t*t);return c*h});const a=5/t,l=IW(i,s,a);if(t=gi(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const SW=12;function IW(t,e,n){let r=n;for(let i=1;i<SW;i++)r=r-t(r)/e(r);return r}function Lg(t,e){return t*Math.sqrt(1-e*e)}const AW=["duration","bounce"],PW=["stiffness","damping","mass"];function lT(t,e){return e.some(n=>t[n]!==void 0)}function CW(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!lT(t,PW)&&lT(t,AW)){const n=xW(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function q2({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:u,velocity:c,duration:h,isResolvedFromDuration:f}=CW(r),p=c?-Er(c):0,g=l/(2*Math.sqrt(a*u)),_=s-i,w=Er(Math.sqrt(a/u)),v=Math.abs(_)<5;n||(n=v?.01:2),e||(e=v?.005:.5);let m;if(g<1){const y=Lg(w,g);m=T=>{const S=Math.exp(-g*w*T);return s-S*((p+g*w*_)/y*Math.sin(y*T)+_*Math.cos(y*T))}}else if(g===1)m=y=>s-Math.exp(-w*y)*(_+(p+w*_)*y);else{const y=w*Math.sqrt(g*g-1);m=T=>{const S=Math.exp(-g*w*T),x=Math.min(y*T,300);return s-S*((p+g*w*_)*Math.sinh(x)+y*_*Math.cosh(x))/y}}return{calculatedDuration:f&&h||null,next:y=>{const T=m(y);if(f)o.done=y>=h;else{let S=p;y!==0&&(g<1?S=H2(m,y,T):S=0);const x=Math.abs(S)<=n,I=Math.abs(s-T)<=e;o.done=x&&I}return o.value=o.done?s:T,o}}}function uT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:u=.5,restSpeed:c}){const h=t[0],f={done:!1,value:h},p=A=>a!==void 0&&A<a||l!==void 0&&A>l,g=A=>a===void 0?l:l===void 0||Math.abs(a-A)<Math.abs(l-A)?a:l;let _=n*e;const w=h+_,v=o===void 0?w:o(w);v!==w&&(_=v-h);const m=A=>-_*Math.exp(-A/r),y=A=>v+m(A),T=A=>{const C=m(A),k=y(A);f.done=Math.abs(C)<=u,f.value=f.done?v:k};let S,x;const I=A=>{p(f.value)&&(S=A,x=q2({keyframes:[f.value,g(f.value)],velocity:H2(y,A,f.value),damping:i,stiffness:s,restDelta:u,restSpeed:c}))};return I(0),{calculatedDuration:null,next:A=>{let C=!1;return!x&&S===void 0&&(C=!0,T(A),I(A)),S!==void 0&&A>S?x.next(A-S):(!C&&T(A),f)}}}const bW=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ve.update(e,!0),stop:()=>Rr(e),now:()=>Tt.isProcessing?Tt.timestamp:performance.now()}},cT=2e4;function hT(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<cT;)e+=n,r=t.next(e);return e>=cT?1/0:e}const RW={decay:uT,inertia:uT,tween:qh,keyframes:qh,spring:q2};function Gh({autoplay:t=!0,delay:e=0,driver:n=bW,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:u,onComplete:c,onUpdate:h,...f}){let p=1,g=!1,_,w;const v=()=>{w=new Promise(z=>{_=z})};v();let m;const y=RW[i]||qh;let T;y!==qh&&typeof r[0]!="number"&&(T=z2([0,100],r,{clamp:!1}),r=[0,100]);const S=y({...f,keyframes:r});let x;a==="mirror"&&(x=y({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let I="idle",A=null,C=null,k=null;S.calculatedDuration===null&&s&&(S.calculatedDuration=hT(S));const{calculatedDuration:$}=S;let se=1/0,Y=1/0;$!==null&&(se=$+o,Y=se*(s+1)-o);let K=0;const F=z=>{if(C===null)return;p>0&&(C=Math.min(C,z)),p<0&&(C=Math.min(z-Y/p,C)),A!==null?K=A:K=Math.round(z-C)*p;const ae=K-e*(p>=0?1:-1),Ut=p>=0?ae<0:ae>Y;K=Math.max(ae,0),I==="finished"&&A===null&&(K=Y);let lt=K,vt=S;if(s){const sr=K/se;let Nn=Math.floor(sr),Bt=sr%1;!Bt&&sr>=1&&(Bt=1),Bt===1&&Nn--,Nn=Math.min(Nn,s+1);const Li=!!(Nn%2);Li&&(a==="reverse"?(Bt=1-Bt,o&&(Bt-=o/se)):a==="mirror"&&(vt=x));let zs=Ii(0,1,Bt);K>Y&&(zs=a==="reverse"&&Li?1:0),lt=zs*se}const ze=Ut?{done:!1,value:r[0]}:vt.next(lt);T&&(ze.value=T(ze.value));let{done:kt}=ze;!Ut&&$!==null&&(kt=p>=0?K>=Y:K<=0);const Mi=A===null&&(I==="finished"||I==="running"&&kt);return h&&h(ze.value),Mi&&j(),ze},we=()=>{m&&m.stop(),m=void 0},Rt=()=>{I="idle",we(),_(),v(),C=k=null},j=()=>{I="finished",c&&c(),we(),_()},q=()=>{if(g)return;m||(m=n(F));const z=m.now();l&&l(),A!==null?C=z-A:(!C||I==="finished")&&(C=z),I==="finished"&&v(),k=C,A=null,I="running",m.start()};t&&q();const Q={then(z,ae){return w.then(z,ae)},get time(){return Er(K)},set time(z){z=gi(z),K=z,A!==null||!m||p===0?A=z:C=m.now()-z/p},get duration(){const z=S.calculatedDuration===null?hT(S):S.calculatedDuration;return Er(z)},get speed(){return p},set speed(z){z===p||!m||(p=z,Q.time=Er(K))},get state(){return I},play:q,pause:()=>{I="paused",A=K},stop:()=>{g=!0,I!=="idle"&&(I="idle",u&&u(),Rt())},cancel:()=>{k!==null&&F(k),Rt()},complete:()=>{I="finished"},sample:z=>(C=0,F(z))};return Q}function kW(t){let e;return()=>(e===void 0&&(e=t()),e)}const NW=kW(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),DW=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),cc=10,OW=2e4,jW=(t,e)=>e.type==="spring"||t==="backgroundColor"||!x2(e.ease);function VW(t,e,{onUpdate:n,onComplete:r,...i}){if(!(NW()&&DW.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const u=()=>{l=new Promise(m=>{a=m})};u();let{keyframes:c,duration:h=300,ease:f,times:p}=i;if(jW(e,i)){const m=Gh({...i,repeat:0,delay:0});let y={done:!1,value:c[0]};const T=[];let S=0;for(;!y.done&&S<OW;)y=m.sample(S),T.push(y.value),S+=cc;p=void 0,c=T,h=S-cc,f="linear"}const g=q7(t.owner.current,e,c,{...i,duration:h,ease:f,times:p}),_=()=>g.cancel(),w=()=>{ve.update(_),a(),u()};return g.onfinish=()=>{t.set(G7(c,i)),r&&r(),w()},{then(m,y){return l.then(m,y)},attachTimeline(m){return g.timeline=m,g.onfinish=null,Me},get time(){return Er(g.currentTime||0)},set time(m){g.currentTime=gi(m)},get speed(){return g.playbackRate},set speed(m){g.playbackRate=m},get duration(){return Er(h)},play:()=>{o||(g.play(),Rr(_))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:m}=g;if(m){const y=Gh({...i,autoplay:!1});t.setWithVelocity(y.sample(m-cc).value,y.sample(m).value,cc)}w()},complete:()=>g.finish(),cancel:w}}function MW({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Me,pause:Me,stop:Me,then:s=>(s(),Promise.resolve()),cancel:Me,complete:Me});return e?Gh({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const LW={type:"spring",stiffness:500,damping:25,restSpeed:10},FW=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),$W={type:"keyframes",duration:.8},UW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},BW=(t,{keyframes:e})=>e.length>2?$W:Us.has(t)?t.startsWith("scale")?FW(e[1]):LW:UW,Fg=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ai.test(e)||e==="0")&&!e.startsWith("url(")),zW=new Set(["brightness","contrast","saturate","opacity"]);function WW(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Sf)||[];if(!r)return t;const i=n.replace(r,"");let s=zW.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const HW=/([a-z-]*)\(.*?\)/g,$g={...Ai,getAnimatableNone:t=>{const e=t.match(HW);return e?e.map(WW).join(" "):t}},qW={...a2,color:Dt,backgroundColor:Dt,outlineColor:Dt,fill:Dt,stroke:Dt,borderColor:Dt,borderTopColor:Dt,borderRightColor:Dt,borderBottomColor:Dt,borderLeftColor:Dt,filter:$g,WebkitFilter:$g},r_=t=>qW[t];function G2(t,e){let n=r_(t);return n!==$g&&(n=Ai),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const K2=t=>/^0[^.\s]+$/.test(t);function GW(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||K2(t)}function KW(t,e,n,r){const i=Fg(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?o:s[u-1]),GW(s[u])&&l.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(i&&l.length&&a)for(let u=0;u<l.length;u++){const c=l[u];s[c]=G2(e,a)}return s}function QW({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:u,...c}){return!!Object.keys(c).length}function i_(t,e){return t[e]||t.default||t}const s_=(t,e,n,r={})=>i=>{const s=i_(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-gi(o);const l=KW(e,t,n,s),u=l[0],c=l[l.length-1],h=Fg(t,u),f=Fg(t,c);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:g=>{e.set(g),s.onUpdate&&s.onUpdate(g)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(QW(s)||(p={...p,...BW(t,p)}),p.duration&&(p.duration=gi(p.duration)),p.repeatDelay&&(p.repeatDelay=gi(p.repeatDelay)),!h||!f||H7.current||s.type===!1)return MW(p);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const g=VW(e,t,p);if(g)return g}return Gh(p)};function Kh(t){return!!(Yt(t)&&t.add)}const Q2=t=>/^\-?\d*\.?\d+$/.test(t);function o_(t,e){t.indexOf(e)===-1&&t.push(e)}function a_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class l_{constructor(){this.subscriptions=[]}add(e){return o_(this.subscriptions,e),()=>a_(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const XW=t=>!isNaN(parseFloat(t));class YW{constructor(e,n={}){this.version="10.16.16",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Tt;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,ve.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ve.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=XW(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new l_);const r=this.events[e].add(n);return e==="change"?()=>{r(),ve.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?W2(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wo(t,e){return new YW(t,e)}const X2=t=>e=>e.test(t),JW={test:t=>t==="auto",parse:t=>t},Y2=[Bs,G,er,$r,o7,s7,JW],wa=t=>Y2.find(X2(t)),ZW=[...Y2,Dt,Ai],eH=t=>ZW.find(X2(t));function tH(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Wo(n))}function u_(t,e){const n=Af(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=w7(s[o]);tH(t,o,a)}}function Ug(t,e){[...e].reverse().forEach(r=>{const i=t.getVariant(r);i&&u_(t,i),t.variantChildren&&t.variantChildren.forEach(s=>{Ug(s,e)})})}function nH(t,e){if(Array.isArray(e))return Ug(t,e);if(typeof e=="string")return Ug(t,[e]);u_(t,e)}function rH(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],u=e[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),c!=null&&(typeof c=="string"&&(Q2(c)||K2(c))?c=parseFloat(c):!eH(c)&&Ai.test(u)&&(c=G2(l,u)),t.addValue(l,Wo(c,{owner:t})),n[l]===void 0&&(n[l]=c),c!==null&&t.setBaseTarget(l,c))}}function iH(t,e){return e?(e[t]||e.default||e).from:void 0}function sH(t,e,n){const r={};for(const i in t){const s=iH(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function oH({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function aH(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function J2(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const h in a){const f=t.getValue(h),p=a[h];if(!f||p===void 0||c&&oH(c,h))continue;const g={delay:n,elapsed:0,...i_(s||{},h)};if(window.HandoffAppearAnimations){const v=t.getProps()[e2];if(v){const m=window.HandoffAppearAnimations(v,h,f,ve);m!==null&&(g.elapsed=m,g.isHandoff=!0)}}let _=!g.isHandoff&&!aH(f,p);if(g.type==="spring"&&(f.getVelocity()||g.velocity)&&(_=!1),f.animation&&(_=!1),_)continue;f.start(s_(h,f,p,t.shouldReduceMotion&&Us.has(h)?{type:!1}:g));const w=f.animation;Kh(l)&&(l.add(h),w.then(()=>l.remove(h))),u.push(w)}return o&&Promise.all(u).then(()=>{o&&u_(t,o)}),u}function Bg(t,e,n={}){const r=Af(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(J2(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:c,staggerDirection:h}=i;return lH(t,e,u+l,c,h,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function lH(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(uH).forEach((u,c)=>{u.notify("AnimationStart",e),o.push(Bg(u,e,{...s,delay:n+l(c)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function uH(t,e){return t.sortNodePosition(e)}function Z2(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Bg(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Bg(t,e,n);else{const i=typeof e=="function"?Af(t,e,n.custom):e;r=Promise.all(J2(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const cH=[...B0].reverse(),hH=B0.length;function dH(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Z2(t,n,r)))}function fH(t){let e=dH(t);const n=mH();let r=!0;const i=(l,u)=>{const c=Af(t,u);if(c){const{transition:h,transitionEnd:f,...p}=c;l={...l,...p,...f}}return l};function s(l){e=l(t)}function o(l,u){const c=t.getProps(),h=t.getVariantContext(!0)||{},f=[],p=new Set;let g={},_=1/0;for(let v=0;v<hH;v++){const m=cH[v],y=n[m],T=c[m]!==void 0?c[m]:h[m],S=Wl(T),x=m===u?y.isActive:null;x===!1&&(_=v);let I=T===h[m]&&T!==c[m]&&S;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),y.protectedKeys={...g},!y.isActive&&x===null||!T&&!y.prevProp||Tf(T)||typeof T=="boolean")continue;const A=pH(y.prevProp,T);let C=A||m===u&&y.isActive&&!I&&S||v>_&&S;const k=Array.isArray(T)?T:[T];let $=k.reduce(i,{});x===!1&&($={});const{prevResolvedValues:se={}}=y,Y={...se,...$},K=F=>{C=!0,p.delete(F),y.needsAnimating[F]=!0};for(const F in Y){const we=$[F],Rt=se[F];g.hasOwnProperty(F)||(we!==Rt?Wh(we)&&Wh(Rt)?!E2(we,Rt)||A?K(F):y.protectedKeys[F]=!0:we!==void 0?K(F):p.add(F):we!==void 0&&p.has(F)?K(F):y.protectedKeys[F]=!0)}y.prevProp=T,y.prevResolvedValues=$,y.isActive&&(g={...g,...$}),r&&t.blockInitialAnimation&&(C=!1),C&&!I&&f.push(...k.map(F=>({animation:F,options:{type:m,...l}})))}if(p.size){const v={};p.forEach(m=>{const y=t.getBaseTarget(m);y!==void 0&&(v[m]=y)}),f.push({animation:v})}let w=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(f):Promise.resolve()}function a(l,u,c){var h;if(n[l].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(l,u)}),n[l].isActive=u;const f=o(c,l);for(const p in n)n[p].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function pH(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!E2(e,t):!1}function Bi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mH(){return{animate:Bi(!0),whileInView:Bi(),whileHover:Bi(),whileTap:Bi(),whileDrag:Bi(),whileFocus:Bi(),exit:Bi()}}class gH extends Vi{constructor(e){super(e),e.animationState||(e.animationState=fH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Tf(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let yH=0;class vH extends Vi{constructor(){super(...arguments),this.id=yH++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const _H={animation:{Feature:gH},exit:{Feature:vH}},dT=(t,e)=>Math.abs(t-e);function wH(t,e){const n=dT(t.x,e.x),r=dT(t.y,e.y);return Math.sqrt(n**2+r**2)}class eR{constructor(e,n,{transformPagePoint:r,contextWindow:i}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=Up(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,f=wH(c.offset,{x:0,y:0})>=3;if(!h&&!f)return;const{point:p}=c,{timestamp:g}=Tt;this.history.push({...p,timestamp:g});const{onStart:_,onMove:w}=this.handlers;h||(_&&_(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,c)},this.handlePointerMove=(c,h)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=$p(h,this.transformPagePoint),ve.update(this.updatePoint,!0)},this.handlePointerUp=(c,h)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:f,onSessionEnd:p}=this.handlers,g=Up(c.type==="pointercancel"?this.lastMoveEventInfo:$p(h,this.transformPagePoint),this.history);this.startEvent&&f&&f(c,g),p&&p(c,g)},!g2(e))return;this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=If(e),o=$p(s,this.transformPagePoint),{point:a}=o,{timestamp:l}=Tt;this.history=[{...a,timestamp:l}];const{onSessionStart:u}=n;u&&u(e,Up(o,this.history)),this.removeListeners=mi(wr(this.contextWindow,"pointermove",this.handlePointerMove),wr(this.contextWindow,"pointerup",this.handlePointerUp),wr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Rr(this.updatePoint)}}function $p(t,e){return e?{point:e(t.point)}:t}function fT(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Up({point:t},e){return{point:t,delta:fT(t,tR(e)),offset:fT(t,EH(e)),velocity:TH(e,.1)}}function EH(t){return t[0]}function tR(t){return t[t.length-1]}function TH(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=tR(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>gi(e)));)n--;if(!r)return{x:0,y:0};const s=Er(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function on(t){return t.max-t.min}function zg(t,e=0,n=.01){return Math.abs(t-e)<=n}function pT(t,e,n,r=.5){t.origin=r,t.originPoint=Ne(e.min,e.max,t.origin),t.scale=on(n)/on(e),(zg(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Ne(n.min,n.max,t.origin)-t.originPoint,(zg(t.translate)||isNaN(t.translate))&&(t.translate=0)}function tl(t,e,n,r){pT(t.x,e.x,n.x,r?r.originX:void 0),pT(t.y,e.y,n.y,r?r.originY:void 0)}function mT(t,e,n){t.min=n.min+e.min,t.max=t.min+on(e)}function xH(t,e,n){mT(t.x,e.x,n.x),mT(t.y,e.y,n.y)}function gT(t,e,n){t.min=e.min-n.min,t.max=t.min+on(e)}function nl(t,e,n){gT(t.x,e.x,n.x),gT(t.y,e.y,n.y)}function SH(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ne(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ne(n,t,r.max):Math.min(t,n)),t}function yT(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function IH(t,{top:e,left:n,bottom:r,right:i}){return{x:yT(t.x,n,i),y:yT(t.y,e,r)}}function vT(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function AH(t,e){return{x:vT(t.x,e.x),y:vT(t.y,e.y)}}function PH(t,e){let n=.5;const r=on(t),i=on(e);return i>r?n=ql(e.min,e.max-r,t.min):r>i&&(n=ql(t.min,t.max-i,e.min)),Ii(0,1,n)}function CH(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Wg=.35;function bH(t=Wg){return t===!1?t=0:t===!0&&(t=Wg),{x:_T(t,"left","right"),y:_T(t,"top","bottom")}}function _T(t,e,n){return{min:wT(t,e),max:wT(t,n)}}function wT(t,e){return typeof t=="number"?t:t[e]||0}const ET=()=>({translate:0,scale:1,origin:0,originPoint:0}),fo=()=>({x:ET(),y:ET()}),TT=()=>({min:0,max:0}),He=()=>({x:TT(),y:TT()});function jn(t){return[t("x"),t("y")]}function nR({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function RH({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function kH(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Bp(t){return t===void 0||t===1}function Hg({scale:t,scaleX:e,scaleY:n}){return!Bp(t)||!Bp(e)||!Bp(n)}function Ki(t){return Hg(t)||rR(t)||t.z||t.rotate||t.rotateX||t.rotateY}function rR(t){return xT(t.x)||xT(t.y)}function xT(t){return t&&t!=="0%"}function Qh(t,e,n){const r=t-n,i=e*r;return n+i}function ST(t,e,n,r,i){return i!==void 0&&(t=Qh(t,i,r)),Qh(t,n,r)+e}function qg(t,e=0,n=1,r,i){t.min=ST(t.min,e,n,r,i),t.max=ST(t.max,e,n,r,i)}function iR(t,{x:e,y:n}){qg(t.x,e.translate,e.scale,e.originPoint),qg(t.y,n.translate,n.scale,n.originPoint)}function NH(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&po(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,iR(t,o)),r&&Ki(s.latestValues)&&po(t,s.latestValues))}e.x=IT(e.x),e.y=IT(e.y)}function IT(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Wr(t,e){t.min=t.min+e,t.max=t.max+e}function AT(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=Ne(t.min,t.max,s);qg(t,e[n],e[r],o,e.scale)}const DH=["x","scaleX","originX"],OH=["y","scaleY","originY"];function po(t,e){AT(t.x,e,DH),AT(t.y,e,OH)}function sR(t,e){return nR(kH(t.getBoundingClientRect(),e))}function jH(t,e,n){const r=sR(t,n),{scroll:i}=e;return i&&(Wr(r.x,i.offset.x),Wr(r.y,i.offset.y)),r}const oR=({current:t})=>t?t.ownerDocument.defaultView:null,VH=new WeakMap;class MH{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=He(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),n&&this.snapToCursor(If(l,"page").point)},s=(l,u)=>{const{drag:c,dragPropagation:h,onDragStart:f}=this.getProps();if(c&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=v2(c),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jn(g=>{let _=this.getAxisMotionValue(g).get()||0;if(er.test(_)){const{projection:w}=this.visualElement;if(w&&w.layout){const v=w.layout.layoutBox[g];v&&(_=on(v)*(parseFloat(_)/100))}}this.originPoint[g]=_}),f&&ve.update(()=>f(l,u),!1,!0);const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(l,u)=>{const{dragPropagation:c,dragDirectionLock:h,onDirectionLock:f,onDrag:p}=this.getProps();if(!c&&!this.openGlobalLock)return;const{offset:g}=u;if(h&&this.currentDirection===null){this.currentDirection=LH(g),this.currentDirection!==null&&f&&f(this.currentDirection);return}this.updateAxis("x",u.point,g),this.updateAxis("y",u.point,g),this.visualElement.render(),p&&p(l,u)},a=(l,u)=>this.stop(l,u);this.panSession=new eR(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint(),contextWindow:oR(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&ve.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!hc(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=SH(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&co(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=IH(i.layoutBox,n):this.constraints=!1,this.elastic=bH(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&jn(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=CH(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!co(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=jH(r,i.root,this.visualElement.getTransformPagePoint());let o=AH(i.layout.layoutBox,s);if(n){const a=n(RH(o));this.hasMutatedConstraints=!!a,a&&(o=nR(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=jn(c=>{if(!hc(c,n,this.currentDirection))return;let h=l&&l[c]||{};o&&(h={min:0,max:0});const f=i?200:1e6,p=i?40:1e7,g={type:"inertia",velocity:r?e[c]:0,bounceStiffness:f,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(c,g)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(s_(e,r,0,n))}stopAnimation(){jn(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){jn(n=>{const{drag:r}=this.getProps();if(!hc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Ne(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!co(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};jn(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=PH({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),jn(o=>{if(!hc(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];a.set(Ne(l,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;VH.set(this.visualElement,this);const e=this.visualElement.current,n=wr(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();co(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=vr(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(jn(c=>{const h=this.getAxisMotionValue(c);h&&(this.originPoint[c]+=l[c].translate,h.set(h.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Wg,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function hc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function LH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class FH extends Vi{constructor(e){super(e),this.removeGroupControls=Me,this.removeListeners=Me,this.controls=new MH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Me}unmount(){this.removeGroupControls(),this.removeListeners()}}const PT=t=>(e,n)=>{t&&ve.update(()=>t(e,n))};class $H extends Vi{constructor(){super(...arguments),this.removePointerDownListener=Me}onPointerDown(e){this.session=new eR(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:oR(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:PT(e),onStart:PT(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&ve.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=wr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function UH(){const t=E.useContext(_f);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=E.useId();return E.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const Fc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function CT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ea={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(G.test(t))t=parseFloat(t);else return t;const n=CT(t,e.target.x),r=CT(t,e.target.y);return`${n}% ${r}%`}},BH={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ai.parse(t);if(i.length>5)return r;const s=Ai.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const u=Ne(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class zH extends zn.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;J8(WH),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Fc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ve.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function aR(t){const[e,n]=UH(),r=E.useContext(W0);return zn.createElement(zH,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(n2),isPresent:e,safeToRemove:n})}const WH={borderRadius:{...Ea,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ea,borderTopRightRadius:Ea,borderBottomLeftRadius:Ea,borderBottomRightRadius:Ea,boxShadow:BH},lR=["TopLeft","TopRight","BottomLeft","BottomRight"],HH=lR.length,bT=t=>typeof t=="string"?parseFloat(t):t,RT=t=>typeof t=="number"||G.test(t);function qH(t,e,n,r,i,s){i?(t.opacity=Ne(0,n.opacity!==void 0?n.opacity:1,GH(r)),t.opacityExit=Ne(e.opacity!==void 0?e.opacity:1,0,KH(r))):s&&(t.opacity=Ne(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<HH;o++){const a=`border${lR[o]}Radius`;let l=kT(e,a),u=kT(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||RT(l)===RT(u)?(t[a]=Math.max(Ne(bT(l),bT(u),r),0),(er.test(u)||er.test(l))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Ne(e.rotate||0,n.rotate||0,r))}function kT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const GH=uR(0,.5,R2),KH=uR(.5,.95,Me);function uR(t,e,n){return r=>r<t?0:r>e?1:n(ql(t,e,r))}function NT(t,e){t.min=e.min,t.max=e.max}function hn(t,e){NT(t.x,e.x),NT(t.y,e.y)}function DT(t,e,n,r,i){return t-=e,t=Qh(t,1/n,r),i!==void 0&&(t=Qh(t,1/i,r)),t}function QH(t,e=0,n=1,r=.5,i,s=t,o=t){if(er.test(e)&&(e=parseFloat(e),e=Ne(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ne(s.min,s.max,r);t===s&&(a-=e),t.min=DT(t.min,e,n,a,i),t.max=DT(t.max,e,n,a,i)}function OT(t,e,[n,r,i],s,o){QH(t,e[n],e[r],e[i],e.scale,s,o)}const XH=["x","scaleX","originX"],YH=["y","scaleY","originY"];function jT(t,e,n,r){OT(t.x,e,XH,n?n.x:void 0,r?r.x:void 0),OT(t.y,e,YH,n?n.y:void 0,r?r.y:void 0)}function VT(t){return t.translate===0&&t.scale===1}function cR(t){return VT(t.x)&&VT(t.y)}function JH(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function hR(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function MT(t){return on(t.x)/on(t.y)}class ZH{constructor(){this.members=[]}add(e){o_(this.members,e),e.scheduleRender()}remove(e){if(a_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function LT(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),c&&(r+=`rotateY(${c}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const eq=(t,e)=>t.depth-e.depth;class tq{constructor(){this.children=[],this.isDirty=!1}add(e){o_(this.children,e),this.isDirty=!0}remove(e){a_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(eq),this.isDirty=!1,this.children.forEach(e)}}function nq(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Rr(r),t(s-e))};return ve.read(r,!0),()=>Rr(r)}function rq(t){window.MotionDebug&&window.MotionDebug.record(t)}function iq(t){return t instanceof SVGElement&&t.tagName!=="svg"}function sq(t,e,n){const r=Yt(t)?t:Wo(t);return r.start(s_("",r,e,n)),r.animation}const FT=["","X","Y","Z"],oq={visibility:"hidden"},$T=1e3;let aq=0;const Qi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function dR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=aq++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Qi.totalNodes=Qi.resolvedTargetDeltas=Qi.recalculatedProjection=0,this.nodes.forEach(cq),this.nodes.forEach(mq),this.nodes.forEach(gq),this.nodes.forEach(hq),rq(Qi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new tq)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new l_),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=iq(o),this.instance=o;const{layoutId:l,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||l)&&(this.isLayoutDirty=!0),t){let h;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=nq(f,250),Fc.hasAnimatedSinceResize&&(Fc.hasAnimatedSinceResize=!1,this.nodes.forEach(BT))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||c.getDefaultTransition()||Eq,{onLayoutAnimationStart:w,onLayoutAnimationComplete:v}=c.getProps(),m=!this.targetLayout||!hR(this.targetLayout,g)||p,y=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||f&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,y);const T={...i_(_,"layout"),onPlay:w,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else f||BT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Rr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yq),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const h=this.path[c];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(UT);return}this.isUpdating||this.nodes.forEach(fq),this.isUpdating=!1,this.nodes.forEach(pq),this.nodes.forEach(lq),this.nodes.forEach(uq),this.clearAllSnapshots();const a=performance.now();Tt.delta=Ii(0,1e3/60,a-Tt.timestamp),Tt.timestamp=a,Tt.isProcessing=!0,Np.update.process(Tt),Np.preRender.process(Tt),Np.render.process(Tt),Tt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(dq),this.sharedNodes.forEach(vq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ve.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ve.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=He(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!cR(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;o&&(a||Ki(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Tq(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return He();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Wr(a.x,l.offset.x),Wr(a.y,l.offset.y)),a}removeElementScroll(o){const a=He();hn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:h}=u;if(u!==this.root&&c&&h.layoutScroll){if(c.isRoot){hn(a,o);const{scroll:f}=this.root;f&&(Wr(a.x,-f.offset.x),Wr(a.y,-f.offset.y))}Wr(a.x,c.offset.x),Wr(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=He();hn(l,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&po(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Ki(c.latestValues)&&po(l,c.latestValues)}return Ki(this.latestValues)&&po(l,this.latestValues),l}removeTransform(o){const a=He();hn(a,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Ki(u.latestValues))continue;Hg(u.latestValues)&&u.updateSnapshot();const c=He(),h=u.measurePageBox();hn(c,h),jT(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return Ki(this.latestValues)&&jT(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Tt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Tt.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=He(),this.relativeTargetOrigin=He(),nl(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=He(),this.targetWithTransforms=He()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):hn(this.target,this.layout.layoutBox),iR(this.target,this.targetDelta)):hn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=He(),this.relativeTargetOrigin=He(),nl(this.relativeTargetOrigin,this.target,p.target),hn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Qi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Hg(this.parent.latestValues)||rR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Tt.timestamp&&(u=!1),u)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;hn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;NH(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:g}=a;if(!g){this.projectionTransform&&(this.projectionDelta=fo(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=fo(),this.projectionDeltaWithTransform=fo());const _=this.projectionTransform;tl(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=LT(this.projectionDelta,this.treeScale),(this.projectionTransform!==_||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Qi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},h=fo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=He(),p=l?l.source:void 0,g=this.layout?this.layout.source:void 0,_=p!==g,w=this.getStack(),v=!w||w.members.length<=1,m=!!(_&&!v&&this.options.crossfade===!0&&!this.path.some(wq));this.animationProgress=0;let y;this.mixTargetDelta=T=>{const S=T/1e3;zT(h.x,o.x,S),zT(h.y,o.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nl(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_q(this.relativeTarget,this.relativeTargetOrigin,f,S),y&&JH(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=He()),hn(y,this.relativeTarget)),_&&(this.animationValues=c,qH(c,u,this.latestValues,S,m,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Rr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ve.update(()=>{Fc.hasAnimatedSinceResize=!0,this.currentAnimation=sq(0,$T,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($T),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=o;if(!(!a||!l||!u)){if(this!==o&&this.layout&&u&&fR(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||He();const h=on(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const f=on(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+f}hn(a,l),po(a,c),tl(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new ZH),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const u={};for(let c=0;c<FT.length;c++){const h="rotate"+FT[c];l[h]&&(u[h]=l[h],o.setStaticValue(h,0))}o.render();for(const c in u)o.setStaticValue(c,u[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return oq;const u={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Lc(o==null?void 0:o.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=Lc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ki(this.latestValues)&&(_.transform=c?c({},""):"none",this.hasProjected=!1),_}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=LT(this.projectionDeltaWithTransform,this.treeScale,f),c&&(u.transform=c(f,u.transform));const{x:p,y:g}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,h.animationValues?u.opacity=h===this?(l=(a=f.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const _ in Bh){if(f[_]===void 0)continue;const{correct:w,applyTo:v}=Bh[_],m=u.transform==="none"?f[_]:w(f[_],h);if(v){const y=v.length;for(let T=0;T<y;T++)u[v[T]]=m}else u[_]=m}return this.options.layoutId&&(u.pointerEvents=h===this?Lc(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(UT),this.root.sharedNodes.clear()}}}function lq(t){t.updateLayout()}function uq(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?jn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=on(f);f.min=r[h].min,f.max=f.min+p}):fR(s,n.layoutBox,r)&&jn(h=>{const f=o?n.measuredBox[h]:n.layoutBox[h],p=on(r[h]);f.max=f.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const a=fo();tl(a,r,n.layoutBox);const l=fo();o?tl(l,t.applyTransform(i,!0),n.measuredBox):tl(l,r,n.layoutBox);const u=!cR(a);let c=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:p}=h;if(f&&p){const g=He();nl(g,n.layoutBox,f.layoutBox);const _=He();nl(_,r,p.layoutBox),hR(g,_)||(c=!0),h.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=g,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function cq(t){Qi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function hq(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function dq(t){t.clearSnapshot()}function UT(t){t.clearMeasurements()}function fq(t){t.isLayoutDirty=!1}function pq(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function BT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function mq(t){t.resolveTargetDelta()}function gq(t){t.calcProjection()}function yq(t){t.resetRotation()}function vq(t){t.removeLeadSnapshot()}function zT(t,e,n){t.translate=Ne(e.translate,0,n),t.scale=Ne(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function WT(t,e,n,r){t.min=Ne(e.min,n.min,r),t.max=Ne(e.max,n.max,r)}function _q(t,e,n,r){WT(t.x,e.x,n.x,r),WT(t.y,e.y,n.y,r)}function wq(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Eq={duration:.45,ease:[.4,0,.1,1]},HT=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),qT=HT("applewebkit/")&&!HT("chrome/")?Math.round:Me;function GT(t){t.min=qT(t.min),t.max=qT(t.max)}function Tq(t){GT(t.x),GT(t.y)}function fR(t,e,n){return t==="position"||t==="preserve-aspect"&&!zg(MT(e),MT(n),.2)}const xq=dR({attachResizeListener:(t,e)=>vr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zp={current:void 0},pR=dR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!zp.current){const t=new xq({});t.mount(window),t.setOptions({layoutScroll:!0}),zp.current=t}return zp.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Sq={pan:{Feature:$H},drag:{Feature:FH,ProjectionNode:pR,MeasureLayout:aR}},Iq=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Aq(t){const e=Iq.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Gg(t,e,n=1){const[r,i]=Aq(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return Q2(o)?parseFloat(o):o}else return jg(i)?Gg(i,e,n+1):i}function Pq(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!jg(s))return;const o=Gg(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!jg(s))continue;const o=Gg(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const Cq=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),mR=t=>Cq.has(t),bq=t=>Object.keys(t).some(mR),KT=t=>t===Bs||t===G,QT=(t,e)=>parseFloat(t.split(", ")[e]),XT=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return QT(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?QT(s[1],t):0}},Rq=new Set(["x","y","z"]),kq=Iu.filter(t=>!Rq.has(t));function Nq(t){const e=[];return kq.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Ho={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:XT(4,13),y:XT(5,14)};Ho.translateX=Ho.x;Ho.translateY=Ho.y;const Dq=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=Ho[u](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(u=>{const c=e.getValue(u);c&&c.jump(a[u]),t[u]=Ho[u](l,s)}),t},Oq=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(mR);let s=[],o=!1;const a=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let c=n[l],h=wa(c);const f=e[l];let p;if(Wh(f)){const g=f.length,_=f[0]===null?1:0;c=f[_],h=wa(c);for(let w=_;w<g&&f[w]!==null;w++)p?Z0(wa(f[w])===p):p=wa(f[w])}else p=wa(f);if(h!==p)if(KT(h)&&KT(p)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&p===G&&(e[l]=f.map(parseFloat))}else h!=null&&h.transform&&(p!=null&&p.transform)&&(c===0||f===0)?c===0?u.set(p.transform(c)):e[l]=h.transform(f):(o||(s=Nq(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],u.jump(f))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=Dq(e,t,a);return s.length&&s.forEach(([c,h])=>{t.getValue(c).set(h)}),t.render(),wf&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function jq(t,e,n,r){return bq(e)?Oq(t,e,n,r):{target:e,transitionEnd:r}}const Vq=(t,e,n,r)=>{const i=Pq(t,e,r);return e=i.target,r=i.transitionEnd,jq(t,e,n,r)},Kg={current:null},gR={current:!1};function Mq(){if(gR.current=!0,!!wf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Kg.current=t.matches;t.addListener(e),e()}else Kg.current=!1}function Lq(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(Yt(s))t.addValue(i,s),Kh(r)&&r.add(i);else if(Yt(o))t.addValue(i,Wo(s,{owner:t})),Kh(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Wo(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const YT=new WeakMap,yR=Object.keys(Hl),Fq=yR.length,JT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],$q=z0.length;class Uq{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ve.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=xf(n),this.isVariantNode=t2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...c}=this.scrapeMotionValuesFromProps(n,{});for(const h in c){const f=c[h];a[h]!==void 0&&Yt(f)&&(f.set(a[h],!1),Kh(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,YT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),gR.current||Mq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Kg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){YT.delete(this.current),this.projection&&this.projection.unmount(),Rr(this.notifyUpdate),Rr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Us.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ve.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<Fq;l++){const u=yR[l],{isEnabled:c,Feature:h,ProjectionNode:f,MeasureLayout:p}=Hl[u];f&&(o=f),c(n)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),p&&(a=p))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:c,dragConstraints:h,layoutScroll:f,layoutRoot:p}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!c||h&&co(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:p})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):He()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<JT.length;r++){const i=JT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=Lq(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<$q;r++){const i=z0[r],s=this.props[i];(Wl(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Wo(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=Y0(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Yt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new l_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class vR extends Uq{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=sH(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){rH(this,r,o);const a=Vq(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function Bq(t){return window.getComputedStyle(t)}class zq extends vR{readValueFromInstance(e,n){if(Us.has(n)){const r=r_(n);return r&&r.default||0}else{const r=Bq(e),i=(s2(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return sR(e,n)}build(e,n,r,i){q0(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return X0(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Yt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){h2(e,n,r,i)}}class Wq extends vR{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Us.has(n)){const r=r_(n);return r&&r.default||0}return n=d2.has(n)?n:U0(n),e.getAttribute(n)}measureInstanceViewportBox(){return He()}scrapeMotionValuesFromProps(e,n){return p2(e,n)}build(e,n,r,i){K0(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){f2(e,n,r,i)}mount(e){this.isSVGTag=Q0(e.tagName),super.mount(e)}}const Hq=(t,e)=>H0(t)?new Wq(e,{enableHardwareAcceleration:!1}):new zq(e,{enableHardwareAcceleration:!0}),qq={layout:{ProjectionNode:pR,MeasureLayout:aR}},Gq={..._H,...U7,...Sq,...qq},Vt=X8((t,e)=>C7(t,e,Gq,Hq));function _R(){const t=E.useRef(!1);return Ef(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Kq(){const t=_R(),[e,n]=E.useState(0),r=E.useCallback(()=>{t.current&&n(e+1)},[e]);return[E.useCallback(()=>ve.postRender(r),[r]),e]}class Qq extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Xq({children:t,isPresent:e}){const n=E.useId(),r=E.useRef(null),i=E.useRef({width:0,height:0,top:0,left:0});return E.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),E.createElement(Qq,{isPresent:e,childRef:r,sizeRef:i},E.cloneElement(t,{ref:r}))}const Wp=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=J0(Yq),l=E.useId(),u=E.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c=>{a.set(c,!0);for(const h of a.values())if(!h)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),s?void 0:[n]);return E.useMemo(()=>{a.forEach((c,h)=>a.set(h,!1))},[n]),E.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=E.createElement(Xq,{isPresent:n},t)),E.createElement(_f.Provider,{value:u},t)};function Yq(){return new Map}function Jq(t){return E.useEffect(()=>()=>t(),[])}const Xi=t=>t.key||"";function Zq(t,e){t.forEach(n=>{const r=Xi(n);e.set(r,n)})}function eG(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const ia=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=E.useContext(W0).forceRender||Kq()[0],l=_R(),u=eG(t);let c=u;const h=E.useRef(new Map).current,f=E.useRef(c),p=E.useRef(new Map).current,g=E.useRef(!0);if(Ef(()=>{g.current=!1,Zq(u,p),f.current=c}),Jq(()=>{g.current=!0,p.clear(),h.clear()}),g.current)return E.createElement(E.Fragment,null,c.map(m=>E.createElement(Wp,{key:Xi(m),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},m)));c=[...c];const _=f.current.map(Xi),w=u.map(Xi),v=_.length;for(let m=0;m<v;m++){const y=_[m];w.indexOf(y)===-1&&!h.has(y)&&h.set(y,void 0)}return o==="wait"&&h.size&&(c=[]),h.forEach((m,y)=>{if(w.indexOf(y)!==-1)return;const T=p.get(y);if(!T)return;const S=_.indexOf(y);let x=m;if(!x){const I=()=>{h.delete(y);const A=Array.from(p.keys()).filter(C=>!w.includes(C));if(A.forEach(C=>p.delete(C)),f.current=u.filter(C=>{const k=Xi(C);return k===y||A.includes(k)}),!h.size){if(l.current===!1)return;a(),r&&r()}};x=E.createElement(Wp,{key:Xi(T),isPresent:!1,onExitComplete:I,custom:e,presenceAffectsLayout:s,mode:o},T),h.set(y,x)}c.splice(S,0,x)}),c=c.map(m=>{const y=m.key;return h.has(y)?m:E.createElement(Wp,{key:Xi(m),isPresent:!0,presenceAffectsLayout:s,mode:o},m)}),E.createElement(E.Fragment,null,h.size?c:c.map(m=>E.cloneElement(m)))};function tG(t){t.values.forEach(e=>e.stop())}function nG(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,r){const i=[];return t.forEach(s=>{i.push(Z2(s,n,{transitionOverride:r}))}),Promise.all(i)},set(n){return t.forEach(r=>{nH(r,n)})},stop(){t.forEach(n=>{tG(n)})},mount(){return()=>{e.stop()}}};return e}function rG(){const t=J0(nG);return Ef(t.mount,[]),t}const dc=rG;function wR(t){const[e,n]=E.useState(!0);function r(){n(!1)}return e?d.jsx(ia,{children:d.jsx(Vt.div,{className:"modal-container",initial:{opacity:0,x:"-5%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"5%"},transition:{duration:.5,delay:.1,ease:[0,.71,.2,1.01]},children:d.jsxs("div",{className:"modal",children:[d.jsx("div",{className:"close-button",children:d.jsx("i",{onClick:r,className:"bx bx-x bx-md"})}),d.jsxs("div",{className:"title",children:[t.success?d.jsx("i",{className:"bx bxs-check-circle bx-lg"}):d.jsx("i",{className:"bx bxs-error-circle bx-lg"}),d.jsx("h2",{children:t.title})]}),d.jsx("div",{className:"content",children:d.jsx("p",{children:t.content})})]})})}):null}function iG(){let t="";const e=Zl(),[n,r]=E.useState(!1),[i,s]=E.useState(null),[o,a]=E.useState({userId:t,animalType:"cat",gender:"male",ageFormat:"days",age:"",petDescription:"",img1:"",img2:"",img3:""}),[l,u]=E.useState({img1:"",img2:"",img3:""}),c=zo({animalType:Ae().required("Please select one."),gender:Ae().required("Please select a gender"),ageFormat:Ae().required("Please select one."),age:Hb().min(1,"Please enter a valid age").max(30,"Please enter a valid age").required("Age is required"),img1:Ae().required("Please upload 3 images"),img2:Ae().required("Please upload 3 images"),img3:Ae().required("Please upload 3 images"),petDescription:Ae().min(20,"Description must be at least 20 characters").max(200,"Description must be at most 200 characters").required("Description is required")});async function h(_){try{if(i)return i;console.log(_);const w=await _g(xs(br,"posts"),{userId:t,animalType:_.animalType,gender:_.gender,ageFormat:_.ageFormat,age:_.age,petDescription:_.petDescription,img1:"",img2:"",img3:""});return console.log("Post added to Firestore with ID:",w.id),s(w.id),console.log("postId in addPost: ",i),w.id}catch(w){throw console.error("Error adding post to Firestore:",w),w}}async function f(_,w,v){const m=_.target.files[0];if(m)try{const y=await p(m);size<=1024&&console.log("File size must be greater than 1 KB");const T=URL.createObjectURL(y);u(S=>({...S,[w]:T})),a(S=>({...S,[w]:y}))}catch(y){console.error("Error compressing or uploading image:",y),alert("Error compressing or uploading image: "+y)}}async function p(_){return new Promise(w=>{if(!(_ instanceof File||_ instanceof Blob)){console.error("Invalid file type for compression:",_),w({compressImage:_,size:_.size});return}new $8(_,{quality:.8,resize:"cover",width:512,height:512,success(v){w({compressedImage:v,size:v.size})},error(v){console.error("Error compressing image:",v),w({compressedImage:_,size:_.size})}})})}async function g(_){try{rt.currentUser?t=rt.currentUser.uid:t="";const w=await h(_);s(w);const v={};for(let m=1;m<=3;m++){const y=`img${m}`,T=o[y];if(T){const S=c3(y3,`posts/${w}/${y}`);await l3(S,T);const x=await u3(S);console.log("Download URL: ",x),v[y]=x,a(I=>({...I,[y]:x})),console.log("petData url: ",o.img1)}}await DF(Gv(br,"posts",w),{img1:v.img1,img2:v.img2,img3:v.img3}),console.log("img1 :",o.img1),console.log("Form submitted successfully!"),r(!0),setTimeout(()=>e("/"),3e3)}catch(w){console.error("Error submitting form:",w)}}return d.jsx("main",{className:"add-page",children:d.jsx(ia,{mode:"wait",children:n?d.jsx(wR,{title:"Good Job!!",content:"Your pet pal has been added successfully!",success:!0}):d.jsx(zl,{initialValues:o,validationSchema:c,onSubmit:g,children:_=>d.jsxs(Vt.div,{layout:!0,className:"add-form-container",initial:{opacity:0,x:"-5%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"5%"},transition:{duration:.5,delay:.1,ease:[0,.71,.2,1.01]},children:[d.jsx("h2",{className:"add-form-title",children:"Add a pet"}),d.jsxs(Bo,{className:"add-form",children:[d.jsxs("div",{className:"add-animal-toggle",children:[d.jsxs("div",{className:"add-animal-type",children:[d.jsx("label",{htmlFor:"animalType",children:"What kind of pet do you have? "}),d.jsxs("div",{className:"add-radio-inputs",children:[d.jsxs("label",{className:"add-radio",children:[d.jsx(ge,{type:"radio",name:"animalType",value:"Cat"}),d.jsx("span",{className:"add-name",children:"Cat"})]}),d.jsxs("label",{className:"add-radio",children:[d.jsx(ge,{type:"radio",name:"animalType",value:"Dog"}),d.jsx("span",{className:"add-name",children:"Dog"})]})]})]}),d.jsx("div",{className:"add-warning",children:d.jsx(Re,{name:"animalType"})})]}),d.jsxs("div",{className:"add-gender-toggle",children:[d.jsxs("div",{className:"add-gender",children:[d.jsx("label",{htmlFor:"gender",children:"Is your pet a? "}),d.jsxs("div",{className:"add-radio-inputs",children:[d.jsxs("label",{className:"add-radio",children:[d.jsx(ge,{type:"radio",name:"gender",value:"Male"}),d.jsx("span",{className:"add-name",children:"Handsome boy"})]}),d.jsxs("label",{className:"add-radio",children:[d.jsx(ge,{type:"radio",name:"gender",value:"Female"}),d.jsx("span",{className:"add-name",children:"Pretty girl"})]})]})]}),d.jsx("div",{className:"add-warning",children:d.jsx(Re,{name:"gender"})})]}),d.jsxs("div",{className:"add-age-selector",children:[d.jsxs("div",{className:"add-select-age",children:[d.jsx("label",{htmlFor:"age",children:"How old is your pet? "}),d.jsxs("div",{className:"add-age-format-selector",children:[d.jsx(ge,{type:"number",name:"age",className:"add-age-input"}),d.jsxs("div",{className:"add-radio-inputs",children:[d.jsxs("label",{className:"add-radio",children:[d.jsx(ge,{type:"radio",name:"ageFormat",value:"days"}),d.jsx("span",{className:"add-name",children:"Days"})]}),d.jsxs("label",{className:"add-radio",children:[d.jsx(ge,{type:"radio",name:"ageFormat",value:"months"}),d.jsx("span",{className:"add-name",children:"Months"})]}),d.jsxs("label",{className:"add-radio",children:[d.jsx(ge,{type:"radio",name:"ageFormat",value:"years"}),d.jsx("span",{className:"add-name",children:"Years"})]})]})]})]}),d.jsx("div",{className:"add-warning",children:d.jsx(Re,{name:"age"})})]}),d.jsxs("div",{className:"add-image-selector",children:[d.jsxs("div",{className:"add-select-images",children:[d.jsx("p",{className:"add-image-selector-label",children:"Select up to 3 images"}),d.jsxs("div",{className:"add-image-containers",children:[d.jsx("label",{htmlFor:"img1",style:{backgroundImage:l.img1?`url(${l.img1})`:"none",backgroundColor:l.img1?"transparent":"white",borderRadius:"12px",backgroundSize:"cover",boxShadow:l.img1?"inset 0 0 0 100vmax rgba(0, 0, 0, 0.5)":"none"},children:d.jsx("div",{className:"add-image-container",children:d.jsx("i",{className:"bx bx-image-add bx-md upload-icon",style:{color:l.img1?"white":"black"}})})}),d.jsx("label",{htmlFor:"img2",style:{backgroundImage:l.img2?`url(${l.img2})`:"none",backgroundColor:l.img2?"transparent":"white",borderRadius:"12px",backgroundSize:"cover",boxShadow:l.img2?"inset 0 0 0 100vmax rgba(0, 0, 0, 0.5)":"none"},children:d.jsx("div",{className:"add-image-container",children:d.jsx("i",{className:"bx bx-image-add bx-md upload-icon",style:{color:l.img2?"white":"black"}})})}),d.jsx("label",{htmlFor:"img3",style:{backgroundImage:l.img3?`url(${l.img3})`:"none",backgroundColor:l.img3?"transparent":"white",borderRadius:"12px",backgroundSize:"cover",boxShadow:l.img3?"inset 0 0 0 100vmax rgba(0, 0, 0, 0.5)":"none"},children:d.jsx("div",{className:"add-image-container",children:d.jsx("i",{className:"bx bx-image-add bx-md upload-icon",style:{color:l.img3?"white":"black"}})})})]}),d.jsx("input",{type:"file",name:"img1",id:"img1",accept:"image/*",className:"add-image-upload",onChange:w=>f(w,"img1"),required:!0}),d.jsx("input",{type:"file",name:"img2",id:"img2",accept:"image/*",className:"add-image-upload",onChange:w=>f(w,"img2"),required:!0}),d.jsx("input",{type:"file",name:"img3",id:"img3",accept:"image/*",className:"add-image-upload",onChange:w=>f(w,"img3"),required:!0})]}),d.jsxs("div",{className:"add-warning",children:[d.jsx(Re,{name:"img1"}),d.jsx(Re,{name:"img2"}),d.jsx(Re,{name:"img3"})]})]}),d.jsxs("div",{className:"add-description-section",children:[d.jsxs("div",{className:"add-write-description",children:[d.jsx("label",{htmlFor:"pet-description",className:"add-description",children:"A brief description about your pet:"}),d.jsx(ge,{as:"textarea",rows:5,name:"petDescription",className:"add-pet-description"})]}),d.jsx("div",{className:"add-warning",style:{marginTop:"0.5rem"},children:d.jsx(Re,{name:"petDescription"})})]}),d.jsx("button",{className:"add-page-submit",type:"submit",children:"Submit"})]})]})})})})}var sG={exports:{}};(function(t,e){(function(n,r,i,s,o){if("customElements"in i)o();else{if(i.AWAITING_WEB_COMPONENTS_POLYFILL)return void i.AWAITING_WEB_COMPONENTS_POLYFILL.then(o);var a=i.AWAITING_WEB_COMPONENTS_POLYFILL=c();a.then(o);var l=i.WEB_COMPONENTS_POLYFILL||"//cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/2.0.2/webcomponents-bundle.js",u=i.ES6_CORE_POLYFILL||"//cdnjs.cloudflare.com/ajax/libs/core-js/2.5.3/core.min.js";"Promise"in i?h(l).then(function(){a.isDone=!0,a.exec()}):h(u).then(function(){h(l).then(function(){a.isDone=!0,a.exec()})})}function c(){var f=[];return f.isDone=!1,f.exec=function(){f.splice(0).forEach(function(p){p()})},f.then=function(p){return f.isDone?p():f.push(p),f},f}function h(f){var p=c(),g=s.createElement("script");return g.type="text/javascript",g.readyState?g.onreadystatechange=function(){g.readyState!="loaded"&&g.readyState!="complete"||(g.onreadystatechange=null,p.isDone=!0,p.exec())}:g.onload=function(){p.isDone=!0,p.exec()},g.src=f,s.getElementsByTagName("head")[0].appendChild(g),g.then=p.then,g}})(0,0,window,document,function(){var n;n=function(){return function(r){var i={};function s(o){if(i[o])return i[o].exports;var a=i[o]={i:o,l:!1,exports:{}};return r[o].call(a.exports,a,a.exports,s),a.l=!0,a.exports}return s.m=r,s.c=i,s.d=function(o,a,l){s.o(o,a)||Object.defineProperty(o,a,{enumerable:!0,get:l})},s.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},s.t=function(o,a){if(1&a&&(o=s(o)),8&a||4&a&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(s.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&a&&typeof o!="string")for(var u in o)s.d(l,u,(function(c){return o[c]}).bind(null,u));return l},s.n=function(o){var a=o&&o.__esModule?function(){return o.default}:function(){return o};return s.d(a,"a",a),a},s.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)},s.p="",s(s.s=5)}([function(r,i){r.exports=function(s){var o=[];return o.toString=function(){return this.map(function(a){var l=function(u,c){var h,f=u[1]||"",p=u[3];if(!p)return f;if(c&&typeof btoa=="function"){var g=(h=p,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(h))))+" */"),_=p.sources.map(function(w){return"/*# sourceURL="+p.sourceRoot+w+" */"});return[f].concat(_).concat([g]).join(`
`)}return[f].join(`
`)}(a,s);return a[2]?"@media "+a[2]+"{"+l+"}":l}).join("")},o.i=function(a,l){typeof a=="string"&&(a=[[null,a,""]]);for(var u={},c=0;c<this.length;c++){var h=this[c][0];typeof h=="number"&&(u[h]=!0)}for(c=0;c<a.length;c++){var f=a[c];typeof f[0]=="number"&&u[f[0]]||(l&&!f[2]?f[2]=l:l&&(f[2]="("+f[2]+") and ("+l+")"),o.push(f))}},o}},function(r,i,s){var o=s(3);r.exports=typeof o=="string"?o:o.toString()},function(r,i,s){var o=s(4);r.exports=typeof o=="string"?o:o.toString()},function(r,i,s){(r.exports=s(0)(!1)).push([r.i,"@-webkit-keyframes spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@keyframes spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(359deg);transform:rotate(359deg)}}@-webkit-keyframes burst{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}90%{-webkit-transform:scale(1.5);transform:scale(1.5);opacity:0}}@keyframes burst{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}90%{-webkit-transform:scale(1.5);transform:scale(1.5);opacity:0}}@-webkit-keyframes flashing{0%{opacity:1}45%{opacity:0}90%{opacity:1}}@keyframes flashing{0%{opacity:1}45%{opacity:0}90%{opacity:1}}@-webkit-keyframes fade-left{0%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}75%{-webkit-transform:translateX(-20px);transform:translateX(-20px);opacity:0}}@keyframes fade-left{0%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}75%{-webkit-transform:translateX(-20px);transform:translateX(-20px);opacity:0}}@-webkit-keyframes fade-right{0%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}75%{-webkit-transform:translateX(20px);transform:translateX(20px);opacity:0}}@keyframes fade-right{0%{-webkit-transform:translateX(0);transform:translateX(0);opacity:1}75%{-webkit-transform:translateX(20px);transform:translateX(20px);opacity:0}}@-webkit-keyframes fade-up{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}75%{-webkit-transform:translateY(-20px);transform:translateY(-20px);opacity:0}}@keyframes fade-up{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}75%{-webkit-transform:translateY(-20px);transform:translateY(-20px);opacity:0}}@-webkit-keyframes fade-down{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}75%{-webkit-transform:translateY(20px);transform:translateY(20px);opacity:0}}@keyframes fade-down{0%{-webkit-transform:translateY(0);transform:translateY(0);opacity:1}75%{-webkit-transform:translateY(20px);transform:translateY(20px);opacity:0}}@-webkit-keyframes tada{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}10%,20%{-webkit-transform:scale3d(.95,.95,.95) rotate(-10deg);transform:scale3d(.95,.95,.95) rotate(-10deg)}30%,50%,70%,90%{-webkit-transform:scaleX(1) rotate(10deg);transform:scaleX(1) rotate(10deg)}40%,60%,80%{-webkit-transform:scaleX(1) rotate(-10deg);transform:scaleX(1) rotate(-10deg)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}@keyframes tada{0%{-webkit-transform:scaleX(1);transform:scaleX(1)}10%,20%{-webkit-transform:scale3d(.95,.95,.95) rotate(-10deg);transform:scale3d(.95,.95,.95) rotate(-10deg)}30%,50%,70%,90%{-webkit-transform:scaleX(1) rotate(10deg);transform:scaleX(1) rotate(10deg)}40%,60%,80%{-webkit-transform:rotate(-10deg);transform:rotate(-10deg)}to{-webkit-transform:scaleX(1);transform:scaleX(1)}}.bx-spin,.bx-spin-hover:hover{-webkit-animation:spin 2s linear infinite;animation:spin 2s linear infinite}.bx-tada,.bx-tada-hover:hover{-webkit-animation:tada 1.5s ease infinite;animation:tada 1.5s ease infinite}.bx-flashing,.bx-flashing-hover:hover{-webkit-animation:flashing 1.5s infinite linear;animation:flashing 1.5s infinite linear}.bx-burst,.bx-burst-hover:hover{-webkit-animation:burst 1.5s infinite linear;animation:burst 1.5s infinite linear}.bx-fade-up,.bx-fade-up-hover:hover{-webkit-animation:fade-up 1.5s infinite linear;animation:fade-up 1.5s infinite linear}.bx-fade-down,.bx-fade-down-hover:hover{-webkit-animation:fade-down 1.5s infinite linear;animation:fade-down 1.5s infinite linear}.bx-fade-left,.bx-fade-left-hover:hover{-webkit-animation:fade-left 1.5s infinite linear;animation:fade-left 1.5s infinite linear}.bx-fade-right,.bx-fade-right-hover:hover{-webkit-animation:fade-right 1.5s infinite linear;animation:fade-right 1.5s infinite linear}",""])},function(r,i,s){(r.exports=s(0)(!1)).push([r.i,'.bx-rotate-90{transform:rotate(90deg);-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)"}.bx-rotate-180{transform:rotate(180deg);-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)"}.bx-rotate-270{transform:rotate(270deg);-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)"}.bx-flip-horizontal{transform:scaleX(-1);-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)"}.bx-flip-vertical{transform:scaleY(-1);-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)"}',""])},function(r,i,s){s.r(i),s.d(i,"BoxIconElement",function(){return S});var o,a,l,u,c=s(1),h=s.n(c),f=s(2),p=s.n(f),g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},_=function(){function x(I,A){for(var C=0;C<A.length;C++){var k=A[C];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(I,k.key,k)}}return function(I,A,C){return A&&x(I.prototype,A),C&&x(I,C),I}}(),w=(a=(o=Object).getPrototypeOf||function(x){return x.__proto__},l=o.setPrototypeOf||function(x,I){return x.__proto__=I,x},u=(typeof Reflect>"u"?"undefined":g(Reflect))==="object"?Reflect.construct:function(x,I,A){var C,k=[null];return k.push.apply(k,I),C=x.bind.apply(x,k),l(new C,A.prototype)},function(x){var I=a(x);return l(x,l(function(){return u(I,arguments,a(this).constructor)},I))}),v=window,m={},y=document.createElement("template"),T=function(){return!!v.ShadyCSS};y.innerHTML=`
<style>
:host {
  display: inline-block;
  font-size: initial;
  box-sizing: border-box;
  width: 24px;
  height: 24px;
}
:host([size=xs]) {
    width: 0.8rem;
    height: 0.8rem;
}
:host([size=sm]) {
    width: 1.55rem;
    height: 1.55rem;
}
:host([size=md]) {
    width: 2.25rem;
    height: 2.25rem;
}
:host([size=lg]) {
    width: 3.0rem;
    height: 3.0rem;
}

:host([size]:not([size=""]):not([size=xs]):not([size=sm]):not([size=md]):not([size=lg])) {
    width: auto;
    height: auto;
}
:host([pull=left]) #icon {
    float: left;
    margin-right: .3em!important;
}
:host([pull=right]) #icon {
    float: right;
    margin-left: .3em!important;
}
:host([border=square]) #icon {
    padding: .25em;
    border: .07em solid rgba(0,0,0,.1);
    border-radius: .25em;
}
:host([border=circle]) #icon {
    padding: .25em;
    border: .07em solid rgba(0,0,0,.1);
    border-radius: 50%;
}
#icon,
svg {
  width: 100%;
  height: 100%;
}
#icon {
    box-sizing: border-box;
} 
`+h.a+`
`+p.a+`
</style>
<div id="icon"></div>`;var S=w(function(x){function I(){(function(C,k){if(!(C instanceof k))throw new TypeError("Cannot call a class as a function")})(this,I);var A=function(C,k){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||typeof k!="object"&&typeof k!="function"?C:k}(this,(I.__proto__||Object.getPrototypeOf(I)).call(this));return A.$ui=A.attachShadow({mode:"open"}),A.$ui.appendChild(A.ownerDocument.importNode(y.content,!0)),T()&&v.ShadyCSS.styleElement(A),A._state={$iconHolder:A.$ui.getElementById("icon"),type:A.getAttribute("type")},A}return function(A,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);A.prototype=Object.create(C&&C.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(A,C):A.__proto__=C)}(I,HTMLElement),_(I,null,[{key:"getIconSvg",value:function(A,C){var k=this.cdnUrl+"/regular/bx-"+A+".svg";return C==="solid"?k=this.cdnUrl+"/solid/bxs-"+A+".svg":C==="logo"&&(k=this.cdnUrl+"/logos/bxl-"+A+".svg"),k&&m[k]||(m[k]=new Promise(function($,se){var Y=new XMLHttpRequest;Y.addEventListener("load",function(){this.status<200||this.status>=300?se(new Error(this.status+" "+this.responseText)):$(this.responseText)}),Y.onerror=se,Y.onabort=se,Y.open("GET",k),Y.send()})),m[k]}},{key:"define",value:function(A){A=A||this.tagName,T()&&v.ShadyCSS.prepareTemplate(y,A),customElements.define(A,this)}},{key:"cdnUrl",get:function(){return"//unpkg.com/boxicons@2.1.4/svg"}},{key:"tagName",get:function(){return"box-icon"}},{key:"observedAttributes",get:function(){return["type","name","color","size","rotate","flip","animation","border","pull"]}}]),_(I,[{key:"attributeChangedCallback",value:function(A,C,k){var $=this._state.$iconHolder;switch(A){case"type":(function(se,Y,K){var F=se._state;F.$iconHolder.textContent="",F.type&&(F.type=null),F.type=!K||K!=="solid"&&K!=="logo"?"regular":K,F.currentName!==void 0&&se.constructor.getIconSvg(F.currentName,F.type).then(function(we){F.type===K&&(F.$iconHolder.innerHTML=we)}).catch(function(we){console.error("Failed to load icon: "+F.currentName+`
`+we)})})(this,0,k);break;case"name":(function(se,Y,K){var F=se._state;F.currentName=K,F.$iconHolder.textContent="",K&&F.type!==void 0&&se.constructor.getIconSvg(K,F.type).then(function(we){F.currentName===K&&(F.$iconHolder.innerHTML=we)}).catch(function(we){console.error("Failed to load icon: "+K+`
`+we)})})(this,0,k);break;case"color":$.style.fill=k||"";break;case"size":(function(se,Y,K){var F=se._state;F.size&&(F.$iconHolder.style.width=F.$iconHolder.style.height="",F.size=F.sizeType=null),K&&!/^(xs|sm|md|lg)$/.test(F.size)&&(F.size=K.trim(),F.$iconHolder.style.width=F.$iconHolder.style.height=F.size)})(this,0,k);break;case"rotate":C&&$.classList.remove("bx-rotate-"+C),k&&$.classList.add("bx-rotate-"+k);break;case"flip":C&&$.classList.remove("bx-flip-"+C),k&&$.classList.add("bx-flip-"+k);break;case"animation":C&&$.classList.remove("bx-"+C),k&&$.classList.add("bx-"+k)}}},{key:"connectedCallback",value:function(){T()&&v.ShadyCSS.styleElement(this)}}]),I}());i.default=S,S.define()}])},t.exports=n()})})(sG);const oG="/PetPals/assets/Dog paw-rafiki-1vQJPNsZ.svg",aG="/PetPals/assets/Cat and dog-amico-bMIo1Bhe.svg",lG="/PetPals/assets/Veterinary-amico-z2O5Hlac.svg",uG="/PetPals/assets/A day at the park-amico-CGSB3wBX.svg",cG="/PetPals/assets/dog-welfare-code-of-practice-zCiv5sZk.pdf",hG="/PetPals/assets/cat-welfare-code-of-practice-IYMxZVEx.pdf",dG="/PetPals/assets/cat family-pana-GFjd_a3t.svg",fG="/PetPals/assets/Pregnancy test-amico-nh68k3hN.svg",pG="/PetPals/assets/Fish bowl-amico-Hcfg3csM.svg",mG="/PetPals/assets/Playful cat-amico-U0gJS6Ys.svg",gG="/PetPals/assets/cat family-rafiki-r32HRO0j.svg",yG="/PetPals/assets/personal goals checklist-rafiki-KmaYr2xq.svg";function vG(){const[t,e]=E.useState(""),[n,r]=E.useState(""),[i,s]=E.useState("No"),[o,a]=E.useState("");E.useState("");const[l,u]=E.useState("dog"),c=()=>d.jsxs("p",{children:["Here, you'll find out how to ",d.jsx("br",{}),"prepare for your new dog. Find",d.jsx("br",{})," out how to provide the right diet,",d.jsx("br",{})," exercise, companionship, and",d.jsx("br",{})," veterinary care for your dog."]}),h=()=>d.jsxs("p",{children:["Here, you'll find out how to ",d.jsx("br",{}),"prepare for your new cat. Find",d.jsx("br",{})," out how to provide the right diet,",d.jsx("br",{})," exercise, companionship, and",d.jsx("br",{})," veterinary care for your cat."]}),f=()=>d.jsx("p",{children:"dededededed"}),p=()=>d.jsxs("div",{className:"content-card-2",children:[d.jsx("h2",{children:"How to prepare for your new dog:"}),d.jsx("h3",{children:"5 things you must do"}),d.jsxs("p",{children:["Adopting a dog is exciting, but it can often mean a big life change for you and",d.jsx("br",{})," them. To make things easier and give your new dog the best chance of settling in, it's really important to prepare for their arrival."]}),d.jsx("br",{}),d.jsxs("p",{children:["As well as having a moral duty to look after your new dog properly, you have a legal responsibility. Under the",d.jsx("br",{})," Animal Welfare Act, you must give your dog:"]}),d.jsxs("ul",{style:{textAlign:"left"},children:[d.jsx("li",{children:"A suitable place to live"}),d.jsx("li",{children:"A healthy diet and access to clean water"}),d.jsx("li",{children:"The ability to behave normally"}),d.jsx("li",{children:"Appropriate company"}),d.jsx("li",{children:"Protection from pain, injury, suffering, and disease"})]}),d.jsx("br",{}),d.jsxs("p",{children:["So, to help you get ready for the big day and understand your legal responsibilities as a dog owner, we have",d.jsx("br",{})," created this to do list."]}),d.jsxs("div",{className:"dog-shelter-div",children:[d.jsxs("div",{className:"dog-shelter-text",children:[d.jsx("h2",{children:"1. Invest in a good bed"}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Your dog needs a comfortable, clean place to sleep and relax. Some dogs like to curl up and others like to stretch out. Ask the person you are adopting from how the dog sleeps, or buy a bed that accommodates both sleeping styles."}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Choose a bed that is comfortable, the right size, easy to clean and made from dog-friendly materials. It should be big enough for them to do their turning ritual."}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Put the bed in a clean, dry and draught-free spot. Over time, you will learn whether your dog likes to be at the centre of everything or if they prefer somewhere quieter."}),d.jsx("br",{}),d.jsxs("p",{style:{textAlign:"left"},children:["If your dog is used to being crated, these same rules apply. ",d.jsx("b",{children:"Do not"})," crate your dog if they are not used it. Speak to your vet or behavioural specialist first."]})]}),d.jsx("div",{className:"dog-shelter-img",children:d.jsx("div",{className:"content-image",children:d.jsx("img",{src:oG,style:{width:"100%"},alt:"Adoption Image"})})})]}),d.jsxs("div",{className:"dog-shelter-div",children:[d.jsx("div",{className:"dog-shelter-img",children:d.jsx("div",{className:"content-image",children:d.jsx("img",{src:aG,style:{width:"100%"},alt:"Adoption Image"})})}),d.jsxs("div",{className:"dog-shelter-text",children:[d.jsx("h2",{children:"2. Stock up on the right food"}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Dogs must have healthy, balanced diets and access to fresh water at all times."}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"The person you are adopting from will tell you what they are feeding the dog. But still, ask your vet or a nutritionist for advice as their current diet might not be appropriate."}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Even if you do end up switching your dog food, you will have to do this gradually. So stock up on whatever food they are used to until you have spoken to your vet."}),d.jsx("br",{})]})]}),d.jsxs("div",{className:"dog-shelter-div",children:[d.jsxs("div",{className:"dog-shelter-text",children:[d.jsx("h2",{children:"3. Buy toys and games"}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Dogs must be allowed to behave like dogs and do things that come naturally to them, like walking, playing and chasing within reason!"}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Getting some toys and games for when they arrive will help to keep them happy, active and mentally stimulated. It is also a great way for you to bond and get to know each other. They will still need their regular walks, though!"})]}),d.jsx("div",{className:"dog-shelter-img",children:d.jsx("div",{className:"content-image",children:d.jsx("img",{src:uG,style:{width:"100%"},alt:"Adoption Image"})})})]}),d.jsxs("div",{className:"dog-shelter-div",children:[d.jsx("div",{className:"dog-shelter-img",children:d.jsx("div",{className:"content-image",children:d.jsx("img",{src:lG,style:{width:"100%"},alt:"Adoption Image"})})}),d.jsxs("div",{className:"dog-shelter-text",children:[d.jsx("h2",{children:"4. Register with a vet"}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Registering with a vet is the first and most important step to protecting your dog from pain, injury, suffering and disease."}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Further information providing details of how to care for your dog may be found here:"}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:d.jsx("a",{href:cG,target:"_blank",children:d.jsx("h3",{children:"Dog Welfare Code of Practice"})})}),d.jsx("br",{})]})]})]}),g=()=>d.jsxs("div",{className:"content-card-2",children:[d.jsx("h2",{children:"How to prepare for your new cat:"}),d.jsx("h3",{children:"5 things you must do"}),d.jsxs("p",{children:["Adopting a cat is exciting, but it can often mean a big life change for you and",d.jsx("br",{})," them. To make things easier and give your new cat the best chance of settling in, it's really important to prepare for their arrival."]}),d.jsx("br",{}),d.jsxs("p",{children:["As well as having a moral duty to look after your new cat properly, you have a legal responsibility. Under the",d.jsx("br",{})," Animal Welfare Act, you must give your cat:"]}),d.jsxs("ul",{style:{textAlign:"left"},children:[d.jsx("li",{children:"A suitable place to live"}),d.jsx("li",{children:"A healthy diet and access to clean water"}),d.jsx("li",{children:"The ability to behave normally"}),d.jsx("li",{children:"Appropriate company"}),d.jsx("li",{children:"Protection from pain, injury, suffering, and disease"})]}),d.jsx("br",{}),d.jsxs("p",{children:["So, to help you get ready for the big day and understand your legal responsibilities as a cat owner, we have",d.jsx("br",{})," created this to do list."]}),d.jsxs("div",{className:"dog-shelter-div",children:[d.jsxs("div",{className:"dog-shelter-text",children:[d.jsx("h2",{children:"1. Create safe spaces"}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"To feel safe and secure, cats need their own bed, hiding places and somewhere high up to view their surroundings."}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Buy a comfortable and warm cat bed like an igloo or hammock, and put it somewhere quiet. You might want to buy more than one bed and have them in different rooms."}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"You can make beds and hiding places, too. Get an appropriate-sized cardboard box, turn it on its side and put a snuggly blanket inside. Again, place this in a quiet spot."}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Putting cosy blankets on top of wardrobes, shelves and windowsills is a great way of giving your cat somewhere high up to hide.."})]}),d.jsx("div",{className:"dog-shelter-img",children:d.jsx("div",{className:"content-image",children:d.jsx("img",{src:dG,style:{width:"100%"},alt:"Adoption Image"})})})]}),d.jsxs("div",{className:"dog-shelter-div",children:[d.jsx("div",{className:"dog-shelter-img",children:d.jsx("div",{className:"content-image",children:d.jsx("img",{src:fG,style:{width:"100%"},alt:"Adoption Image"})})}),d.jsxs("div",{className:"dog-shelter-text",children:[d.jsx("h2",{children:"2. Set up a litter tray or outside toilet"}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Cats like to go to the toilet where they feel safe, and in a place that allows them to bury their waste afterwards."}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"If your cat already uses a litter tray or you do not have a garden, you will need to set up a litter tray before they arrive."}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"If your cat prefers to toilet outside and you have got a garden, or you want to train them to toilet outside, pick an area that is close to the house yet private. Once they arrive, you can encourage them to toilet there."}),d.jsx("br",{})]})]}),d.jsxs("div",{className:"dog-shelter-div",children:[d.jsxs("div",{className:"dog-shelter-text",children:[d.jsx("h2",{children:"3. Stock up on the right food"}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Cats must have healthy, balanced diets and access to fresh water at all times. At first, it is best to continue with the food the cat has been used to. Ask the person you are adopting from what the cat eats, then buy plenty of it."}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Even if you want to change their diet, this should be done gradually and under the guidance of your vet."}),d.jsx("p",{style:{textAlign:"left"},children:"Lots of cats like to eat a special type of grass called Cocksfoot because it helps them clear furballs. Have some in the house to stop them chewing other houseplants!"}),d.jsx("br",{})]}),d.jsx("div",{className:"dog-shelter-img",children:d.jsx("div",{className:"content-image",children:d.jsx("img",{src:pG,style:{width:"100%"},alt:"Adoption Image"})})})]}),d.jsxs("div",{className:"dog-shelter-div",children:[d.jsx("div",{className:"dog-shelter-img",children:d.jsx("div",{className:"content-image",children:d.jsx("img",{src:mG,style:{width:"100%"},alt:"Adoption Image"})})}),d.jsxs("div",{className:"dog-shelter-text",children:[d.jsx("h2",{children:"4. Get a scratch post"}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Scratching is a big part of being a cat. Encourage them to carry out this natural behaviour by investing in a proper scratch post. This will discourage them from stretching and scratching on your furniture, too."}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Put the post near their bed so they can stretch and scratch when they wake up something that most cats tend to do."}),d.jsx("br",{})]})]}),d.jsxs("div",{className:"dog-shelter-div",children:[d.jsxs("div",{className:"dog-shelter-text",children:[d.jsx("h2",{children:"5. Plan for holidays"}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"Even though cats are relatively independent pets, they cannot be left alone for long periods of time. When you go away, you will need to find a cat-sitter or put them in a cattery. Research your options early so you do not end up in a difficult situation."})]}),d.jsx("div",{className:"dog-shelter-img",children:d.jsx("div",{className:"content-image",children:d.jsx("img",{src:yG,style:{width:"100%"},alt:"Adoption Image"})})})]}),d.jsxs("div",{className:"dog-shelter-div",children:[d.jsx("div",{className:"dog-shelter-img",children:d.jsx("div",{className:"content-image",children:d.jsx("img",{src:gG,style:{width:"100%"},alt:"Adoption Image"})})}),d.jsxs("div",{className:"dog-shelter-text",children:[d.jsx("h2",{children:"6. Register with a vet"}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"As Cat Welfare Code of Practise explains, you should get as much information as possible about your cats health from their previous owner. Ask for: details of their old vet, vaccination records, information about any health conditions and medications, and whether or not they have been microchipped."}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:"More information about cat welfare may be found in the"}),d.jsx("br",{}),d.jsx("p",{style:{textAlign:"left"},children:d.jsx("a",{href:hG,target:"_blank",children:d.jsx("h3",{children:"Cat Welfare Code of Practice"})})}),d.jsx("br",{})]})]})]}),_=()=>{s("Hii"),e(""),r(""),a(f()),u(p())},w=()=>{s("Hii"),e(""),r(""),a(f()),u(g())},[v,m]=E.useState(!1);return E.useEffect(()=>{e(c()),r(h())},[]),d.jsxs("main",{children:[d.jsx("div",{className:"blog-container",children:d.jsxs("div",{className:"content-text",children:[d.jsxs("h1",{className:"content-heading",children:["Pet Welfare",d.jsx("br",{})," Guides"]}),d.jsxs("div",{className:"form-row",children:[d.jsxs("button",{className:`form-container ${v?"mouse-over":""}`,onClick:_,onMouseOver:()=>m(!0),onMouseOut:()=>m(!1),children:[d.jsx("h3",{children:"Dog Welfare"}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("div",{className:"dog-icon-container",children:d.jsx("box-icon",{type:"solid",name:"dog",style:{width:"60px",height:"60px"}})}),d.jsx("p",{children:t})]}),d.jsxs("button",{className:`form-container ${v?"mouse-over":""}`,onClick:()=>w(),onMouseOver:()=>m(!0),onMouseOut:()=>m(!1),children:[d.jsx("div",{className:"dog-icon-container",children:d.jsx("box-icon",{type:"solid",name:"cat",style:{width:"60px",height:"60px"}})}),d.jsx("h3",{children:"Cat Welfare"}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("br",{}),d.jsx("p",{children:n})]})]})]})}),o===""?null:d.jsx("div",{className:"content-card-1",children:d.jsx("p",{children:l})})]})}const _G="modulepreload",wG=function(t){return"/PetPals/"+t},ZT={},EG=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link");i=Promise.all(n.map(o=>{if(o=wG(o),o in ZT)return;ZT[o]=!0;const a=o.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let h=s.length-1;h>=0;h--){const f=s[h];if(f.href===o&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const c=document.createElement("link");if(c.rel=a?"stylesheet":_G,a||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),a)return new Promise((h,f)=>{c.addEventListener("load",h),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};function Qg(t,e){return Qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qg(t,e)}function TG(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Qg(t,e)}function Hp(t){return t&&t.stopPropagation&&t.stopPropagation(),t&&t.preventDefault&&t.preventDefault(),!1}function qp(t){return t==null?[]:Array.isArray(t)?t.slice():[t]}function fc(t){return t!==null&&t.length===1?t[0]:t.slice()}function pc(t){Object.keys(t).forEach(e=>{typeof document<"u"&&document.addEventListener(e,t[e],!1)})}function zi(t,e){return Xg(function(n,r){let i=n;return i<=r.min&&(i=r.min),i>=r.max&&(i=r.max),i}(t,e),e)}function Xg(t,e){const n=(t-e.min)%e.step;let r=t-n;return 2*Math.abs(n)>=e.step&&(r+=n>0?e.step:-e.step),parseFloat(r.toFixed(5))}let Yg=function(t){function e(r){var i;(i=t.call(this,r)||this).onKeyUp=()=>{i.onEnd()},i.onMouseUp=()=>{i.onEnd(i.getMouseEventMap())},i.onTouchEnd=a=>{a.preventDefault(),i.onEnd(i.getTouchEventMap())},i.onBlur=()=>{i.setState({index:-1},i.onEnd(i.getKeyDownEventMap()))},i.onMouseMove=a=>{i.setState({pending:!0});const l=i.getMousePosition(a),u=i.getDiffPosition(l[0]),c=i.getValueFromPosition(u);i.move(c)},i.onTouchMove=a=>{if(a.touches.length>1)return;i.setState({pending:!0});const l=i.getTouchPosition(a);if(i.isScrolling===void 0){const h=l[0]-i.startPosition[0],f=l[1]-i.startPosition[1];i.isScrolling=Math.abs(f)>Math.abs(h)}if(i.isScrolling)return void i.setState({index:-1});const u=i.getDiffPosition(l[0]),c=i.getValueFromPosition(u);i.move(c)},i.onKeyDown=a=>{if(!(a.ctrlKey||a.shiftKey||a.altKey||a.metaKey))switch(i.setState({pending:!0}),a.key){case"ArrowLeft":case"ArrowDown":case"Left":case"Down":a.preventDefault(),i.moveDownByStep();break;case"ArrowRight":case"ArrowUp":case"Right":case"Up":a.preventDefault(),i.moveUpByStep();break;case"Home":a.preventDefault(),i.move(i.props.min);break;case"End":a.preventDefault(),i.move(i.props.max);break;case"PageDown":a.preventDefault(),i.moveDownByStep(i.props.pageFn(i.props.step));break;case"PageUp":a.preventDefault(),i.moveUpByStep(i.props.pageFn(i.props.step))}},i.onSliderMouseDown=a=>{if(!i.props.disabled&&a.button!==2){if(i.setState({pending:!0}),!i.props.snapDragDisabled){const l=i.getMousePosition(a);i.forceValueFromPosition(l[0],u=>{i.start(u,l[0]),pc(i.getMouseEventMap())})}Hp(a)}},i.onSliderClick=a=>{if(!i.props.disabled&&i.props.onSliderClick&&!i.hasMoved){const l=i.getMousePosition(a),u=zi(i.calcValue(i.calcOffsetFromPosition(l[0])),i.props);i.props.onSliderClick(u)}},i.createOnKeyDown=a=>l=>{i.props.disabled||(i.start(a),pc(i.getKeyDownEventMap()),Hp(l))},i.createOnMouseDown=a=>l=>{if(i.props.disabled||l.button===2)return;i.setState({pending:!0});const u=i.getMousePosition(l);i.start(a,u[0]),pc(i.getMouseEventMap()),Hp(l)},i.createOnTouchStart=a=>l=>{if(i.props.disabled||l.touches.length>1)return;i.setState({pending:!0});const u=i.getTouchPosition(l);i.startPosition=u,i.isScrolling=void 0,i.start(a,u[0]),pc(i.getTouchEventMap()),function(c){c.stopPropagation&&c.stopPropagation()}(l)},i.handleResize=()=>{const a=window.setTimeout(()=>{i.pendingResizeTimeouts.shift(),i.resize()},0);i.pendingResizeTimeouts.push(a)},i.renderThumb=(a,l)=>{const u=i.props.thumbClassName+" "+i.props.thumbClassName+"-"+l+" "+(i.state.index===l?i.props.thumbActiveClassName:""),c={ref:f=>{i["thumb"+l]=f},key:i.props.thumbClassName+"-"+l,className:u,style:a,onMouseDown:i.createOnMouseDown(l),onTouchStart:i.createOnTouchStart(l),onFocus:i.createOnKeyDown(l),tabIndex:0,role:"slider","aria-orientation":i.props.orientation,"aria-valuenow":i.state.value[l],"aria-valuemin":i.props.min,"aria-valuemax":i.props.max,"aria-label":Array.isArray(i.props.ariaLabel)?i.props.ariaLabel[l]:i.props.ariaLabel,"aria-labelledby":Array.isArray(i.props.ariaLabelledby)?i.props.ariaLabelledby[l]:i.props.ariaLabelledby,"aria-disabled":i.props.disabled},h={index:l,value:fc(i.state.value),valueNow:i.state.value[l]};return i.props.ariaValuetext&&(c["aria-valuetext"]=typeof i.props.ariaValuetext=="string"?i.props.ariaValuetext:i.props.ariaValuetext(h)),i.props.renderThumb(c,h)},i.renderTrack=(a,l,u)=>{const c={key:i.props.trackClassName+"-"+a,className:i.props.trackClassName+" "+i.props.trackClassName+"-"+a,style:i.buildTrackStyle(l,i.state.upperBound-u)},h={index:a,value:fc(i.state.value)};return i.props.renderTrack(c,h)};let s=qp(r.value);s.length||(s=qp(r.defaultValue)),i.pendingResizeTimeouts=[];const o=[];for(let a=0;a<s.length;a+=1)s[a]=zi(s[a],r),o.push(a);return i.resizeObserver=null,i.resizeElementRef=zn.createRef(),i.state={index:-1,upperBound:0,sliderLength:0,value:s,zIndices:o},i}TG(e,t);var n=e.prototype;return n.componentDidMount=function(){typeof window<"u"&&(this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.resizeElementRef.current),this.resize())},e.getDerivedStateFromProps=function(r,i){const s=qp(r.value);return s.length?i.pending?null:{value:s.map(o=>zi(o,r))}:null},n.componentDidUpdate=function(){this.state.upperBound===0&&this.resize()},n.componentWillUnmount=function(){this.clearPendingResizeTimeouts(),this.resizeObserver&&this.resizeObserver.disconnect()},n.onEnd=function(r){r&&function(i){Object.keys(i).forEach(s=>{typeof document<"u"&&document.removeEventListener(s,i[s],!1)})}(r),this.hasMoved&&this.fireChangeEvent("onAfterChange"),this.setState({pending:!1}),this.hasMoved=!1},n.getValue=function(){return fc(this.state.value)},n.getClosestIndex=function(r){let i=Number.MAX_VALUE,s=-1;const{value:o}=this.state,a=o.length;for(let l=0;l<a;l+=1){const u=this.calcOffset(o[l]),c=Math.abs(r-u);c<i&&(i=c,s=l)}return s},n.getMousePosition=function(r){return[r["page"+this.axisKey()],r["page"+this.orthogonalAxisKey()]]},n.getTouchPosition=function(r){const i=r.touches[0];return[i["page"+this.axisKey()],i["page"+this.orthogonalAxisKey()]]},n.getKeyDownEventMap=function(){return{keydown:this.onKeyDown,keyup:this.onKeyUp,focusout:this.onBlur}},n.getMouseEventMap=function(){return{mousemove:this.onMouseMove,mouseup:this.onMouseUp}},n.getTouchEventMap=function(){return{touchmove:this.onTouchMove,touchend:this.onTouchEnd}},n.getValueFromPosition=function(r){const i=r/(this.state.sliderLength-this.state.thumbSize)*(this.props.max-this.props.min);return zi(this.state.startValue+i,this.props)},n.getDiffPosition=function(r){let i=r-this.state.startPosition;return this.props.invert&&(i*=-1),i},n.resize=function(){const{slider:r,thumb0:i}=this;if(!r||!i)return;const s=this.sizeKey(),o=r.getBoundingClientRect(),a=r[s],l=o[this.posMaxKey()],u=o[this.posMinKey()],c=i.getBoundingClientRect()[s.replace("client","").toLowerCase()],h=a-c,f=Math.abs(l-u);this.state.upperBound===h&&this.state.sliderLength===f&&this.state.thumbSize===c||this.setState({upperBound:h,sliderLength:f,thumbSize:c})},n.calcOffset=function(r){const i=this.props.max-this.props.min;return i===0?0:(r-this.props.min)/i*this.state.upperBound},n.calcValue=function(r){return r/this.state.upperBound*(this.props.max-this.props.min)+this.props.min},n.calcOffsetFromPosition=function(r){const{slider:i}=this,s=i.getBoundingClientRect(),o=s[this.posMaxKey()],a=s[this.posMinKey()];let l=r-(window["page"+this.axisKey()+"Offset"]+(this.props.invert?o:a));return this.props.invert&&(l=this.state.sliderLength-l),l-=this.state.thumbSize/2,l},n.forceValueFromPosition=function(r,i){const s=this.calcOffsetFromPosition(r),o=this.getClosestIndex(s),a=zi(this.calcValue(s),this.props),l=this.state.value.slice();l[o]=a;for(let u=0;u<l.length-1;u+=1)if(l[u+1]-l[u]<this.props.minDistance)return;this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0,this.setState({value:l},()=>{i(o),this.fireChangeEvent("onChange")})},n.clearPendingResizeTimeouts=function(){do{const r=this.pendingResizeTimeouts.shift();clearTimeout(r)}while(this.pendingResizeTimeouts.length)},n.start=function(r,i){const s=this["thumb"+r];s&&s.focus();const{zIndices:o}=this.state;o.splice(o.indexOf(r),1),o.push(r),this.setState(a=>({startValue:a.value[r],startPosition:i!==void 0?i:a.startPosition,index:r,zIndices:o}))},n.moveUpByStep=function(r){r===void 0&&(r=this.props.step);const i=this.state.value[this.state.index],s=zi(this.props.invert&&this.props.orientation==="horizontal"?i-r:i+r,this.props);this.move(Math.min(s,this.props.max))},n.moveDownByStep=function(r){r===void 0&&(r=this.props.step);const i=this.state.value[this.state.index],s=zi(this.props.invert&&this.props.orientation==="horizontal"?i+r:i-r,this.props);this.move(Math.max(s,this.props.min))},n.move=function(r){const i=this.state.value.slice(),{index:s}=this.state,{length:o}=i,a=i[s];if(r===a)return;this.hasMoved||this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0;const{pearling:l,max:u,min:c,minDistance:h}=this.props;if(!l){if(s>0){const f=i[s-1];r<f+h&&(r=f+h)}if(s<o-1){const f=i[s+1];r>f-h&&(r=f-h)}}i[s]=r,l&&o>1&&(r>a?(this.pushSucceeding(i,h,s),function(f,p,g,_){for(let w=0;w<f;w+=1){const v=_-w*g;p[f-1-w]>v&&(p[f-1-w]=v)}}(o,i,h,u)):r<a&&(this.pushPreceding(i,h,s),function(f,p,g,_){for(let w=0;w<f;w+=1){const v=_+w*g;p[w]<v&&(p[w]=v)}}(o,i,h,c))),this.setState({value:i},this.fireChangeEvent.bind(this,"onChange"))},n.pushSucceeding=function(r,i,s){let o,a;for(o=s,a=r[o]+i;r[o+1]!==null&&a>r[o+1];o+=1,a=r[o]+i)r[o+1]=Xg(a,this.props)},n.pushPreceding=function(r,i,s){for(let o=s,a=r[o]-i;r[o-1]!==null&&a<r[o-1];o-=1,a=r[o]-i)r[o-1]=Xg(a,this.props)},n.axisKey=function(){return this.props.orientation==="vertical"?"Y":"X"},n.orthogonalAxisKey=function(){return this.props.orientation==="vertical"?"X":"Y"},n.posMinKey=function(){return this.props.orientation==="vertical"?this.props.invert?"bottom":"top":this.props.invert?"right":"left"},n.posMaxKey=function(){return this.props.orientation==="vertical"?this.props.invert?"top":"bottom":this.props.invert?"left":"right"},n.sizeKey=function(){return this.props.orientation==="vertical"?"clientHeight":"clientWidth"},n.fireChangeEvent=function(r){this.props[r]&&this.props[r](fc(this.state.value),this.state.index)},n.buildThumbStyle=function(r,i){const s={position:"absolute",touchAction:"none",willChange:this.state.index>=0?this.posMinKey():void 0,zIndex:this.state.zIndices.indexOf(i)+1};return s[this.posMinKey()]=r+"px",s},n.buildTrackStyle=function(r,i){const s={position:"absolute",willChange:this.state.index>=0?this.posMinKey()+","+this.posMaxKey():void 0};return s[this.posMinKey()]=r,s[this.posMaxKey()]=i,s},n.buildMarkStyle=function(r){var i;return(i={position:"absolute"})[this.posMinKey()]=r,i},n.renderThumbs=function(r){const{length:i}=r,s=[];for(let a=0;a<i;a+=1)s[a]=this.buildThumbStyle(r[a],a);const o=[];for(let a=0;a<i;a+=1)o[a]=this.renderThumb(s[a],a);return o},n.renderTracks=function(r){const i=[],s=r.length-1;i.push(this.renderTrack(0,0,r[0]));for(let o=0;o<s;o+=1)i.push(this.renderTrack(o+1,r[o],r[o+1]));return i.push(this.renderTrack(s+1,r[s],this.state.upperBound)),i},n.renderMarks=function(){let{marks:r}=this.props;const i=this.props.max-this.props.min+1;return typeof r=="boolean"?r=Array.from({length:i}).map((s,o)=>o):typeof r=="number"&&(r=Array.from({length:i}).map((s,o)=>o).filter(s=>s%r==0)),r.map(parseFloat).sort((s,o)=>s-o).map(s=>{const o=this.calcOffset(s),a={key:s,className:this.props.markClassName,style:this.buildMarkStyle(o)};return this.props.renderMark(a)})},n.render=function(){const r=[],{value:i}=this.state,s=i.length;for(let u=0;u<s;u+=1)r[u]=this.calcOffset(i[u],u);const o=this.props.withTracks?this.renderTracks(r):null,a=this.renderThumbs(r),l=this.props.marks?this.renderMarks():null;return zn.createElement("div",{ref:u=>{this.slider=u,this.resizeElementRef.current=u},style:{position:"relative"},className:this.props.className+(this.props.disabled?" disabled":""),onMouseDown:this.onSliderMouseDown,onClick:this.onSliderClick},o,a,l)},e}(zn.Component);Yg.displayName="ReactSlider",Yg.defaultProps={min:0,max:100,step:1,pageFn:t=>10*t,minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",thumbClassName:"thumb",thumbActiveClassName:"active",trackClassName:"track",markClassName:"mark",withTracks:!0,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1,marks:[],renderThumb:t=>zn.createElement("div",t),renderTrack:t=>zn.createElement("div",t),renderMark:t=>zn.createElement("span",t)};var xG=Yg;const SG=E.lazy(()=>EG(()=>import("./PostItem-U6z1XtvN.js"),__vite__mapDeps([0,1])));function IG(){const[t,e]=E.useState([]),[n,r]=E.useState(!1),[i,s]=E.useState(!0);let o;const[a,l]=E.useState({dogs:!0,cats:!0,male:!0,female:!0,ageEnabled:!1,age:[0,30],ageFormat:"months"});return E.useEffect(()=>{(async()=>{try{const c=xs(br,"posts");let h=[];a.dogs&&h.push("dog"),a.cats&&h.push("cat");let f=[];a.male&&f.push("male"),a.female&&f.push("female");let p=[];a.ageEnabled?(p.push(a.age[0]),p.push(a.age[1]),console.log(p),o=Vl(c,Vn("animalType","in",h),Vn("gender","in",f),Vn("age",">=",p[0]),Vn("age","<=",p[1]),Vn("ageFormat","==",a.ageFormat))):o=Vl(c,Vn("animalType","in",h),Vn("gender","in",f));const _=(await tC(o)).docs.map(w=>({id:w.id,...w.data()}));e(_),s(!1),console.log("Posts fetched:",_)}catch(c){console.error("Error fetching posts:",c)}})()},[a]),d.jsx("main",{className:"discover-page",children:d.jsx(ia,{mode:"wait",children:d.jsxs("div",{className:"discover-main-container",children:[n?d.jsxs(Vt.div,{className:"discover-filters",layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5,delay:.1,ease:[0,.71,.2,1.01]},children:[d.jsxs("div",{className:"filter-text",children:[d.jsxs("span",{className:"filter-header",children:[d.jsx("h3",{children:"Filters"}),d.jsx("i",{className:"bx bxs-x-circle bx-sm",onClick:()=>r(!1)})]}),d.jsx("p",{children:"Adjust filters find your best match"})]}),d.jsx("p",{className:"filter-option-text",children:"- Animal type -"}),d.jsxs("div",{className:"animal-type",children:[d.jsx("input",{type:"checkbox",name:"dogs",value:"dogs",id:"dogs",checked:a.dogs,onChange:u=>l({...a,dogs:u.target.checked})}),d.jsx("label",{htmlFor:"dogs",className:"dogs",children:"Dogs"}),d.jsx("input",{type:"checkbox",name:"cats",value:"cats",id:"cats",checked:a.cats,onChange:u=>l({...a,cats:u.target.checked})}),d.jsx("label",{htmlFor:"cats",className:"cats",children:"Cats"})]}),d.jsx("p",{className:"filter-option-text",children:"- Gender -"}),d.jsxs("div",{className:"animal-gender",children:[d.jsx("input",{type:"checkbox",name:"male",value:"male",id:"male",checked:a.male,onChange:u=>l({...a,male:u.target.checked})}),d.jsx("label",{htmlFor:"male",className:"male",children:"Male"}),d.jsx("input",{type:"checkbox",name:"female",value:"female",id:"female",checked:a.female,onChange:u=>l({...a,female:u.target.checked})}),d.jsx("label",{htmlFor:"female",className:"female",children:"Female"})]}),d.jsxs("div",{className:"age-range",children:[d.jsx("p",{className:"filter-option-text",children:"- Age range -"}),d.jsx("label",{htmlFor:"age",className:"age",children:"Set custom age range"}),d.jsx("input",{type:"checkbox",name:"ageEnabled",value:"ageEnabled",id:"ageEnabled",checked:a.ageEnabled,onChange:u=>l({...a,ageEnabled:u.target.checked})}),d.jsx(xG,{className:"horizontal-slider",thumbClassName:"example-thumb",trackClassName:"example-track",defaultValue:a.age,min:1,max:30,ariaLabel:["Lower thumb","Upper thumb"],ariaValuetext:u=>`Thumb value ${u.valueNow}`,renderThumb:(u,c)=>d.jsx("div",{...u,children:c.valueNow}),pearling:!0,minDistance:1,onAfterChange:u=>l({...a,age:u}),disabled:!a.ageEnabled}),d.jsx("br",{}),d.jsx("div",{className:"discover-age-format-selector",children:d.jsxs("div",{className:"discover-radio-inputs",children:[d.jsxs("label",{className:"discover-radio",children:[d.jsx("input",{type:"radio",name:"ageFormat",value:"days",onChange:u=>l({...a,ageFormat:u.target.value}),disabled:!a.ageEnabled}),d.jsx("span",{className:"discover-name",children:"Days"})]}),d.jsxs("label",{className:"discover-radio",children:[d.jsx("input",{type:"radio",name:"ageFormat",value:"months",onChange:u=>l({...a,ageFormat:u.target.value}),disabled:!a.ageEnabled}),d.jsx("span",{className:"discover-name",children:"Months"})]}),d.jsxs("label",{className:"discover-radio",children:[d.jsx("input",{type:"radio",name:"ageFormat",value:"years",onChange:u=>l({...a,ageFormat:u.target.value}),disabled:!a.ageEnabled}),d.jsx("span",{className:"discover-name",children:"Years"})]})]})})]})]}):d.jsx("button",{className:"filter-toggle",onClick:()=>r(!0),children:"Filters"}),d.jsx(Vt.div,{className:"posts-container",layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5,delay:.1,ease:[0,.71,.2,1.01]},children:d.jsx(E.Suspense,{fallback:d.jsx("div",{children:"Loading..."}),children:t.map(u=>d.jsx(d.Fragment,{children:d.jsx(SG,{post:u},u.id)}))})})]})})})}var Jg=new Map,mc=new WeakMap,ex=0,AG=void 0;function PG(t){return t?(mc.has(t)||(ex+=1,mc.set(t,ex.toString())),mc.get(t)):"0"}function CG(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>`${e}_${e==="root"?PG(t.root):t[e]}`).toString()}function bG(t){let e=CG(t),n=Jg.get(e);if(!n){const r=new Map;let i;const s=new IntersectionObserver(o=>{o.forEach(a=>{var l;const u=a.isIntersecting&&i.some(c=>a.intersectionRatio>=c);t.trackVisibility&&typeof a.isVisible>"u"&&(a.isVisible=u),(l=r.get(a.target))==null||l.forEach(c=>{c(u,a)})})},t);i=s.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),n={id:e,observer:s,elements:r},Jg.set(e,n)}return n}function RG(t,e,n={},r=AG){if(typeof window.IntersectionObserver>"u"&&r!==void 0){const l=t.getBoundingClientRect();return e(r,{isIntersecting:r,target:t,intersectionRatio:typeof n.threshold=="number"?n.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:i,observer:s,elements:o}=bG(n);let a=o.get(t)||[];return o.has(t)||o.set(t,a),a.push(e),s.observe(t),function(){a.splice(a.indexOf(e),1),a.length===0&&(o.delete(t),s.unobserve(t)),o.size===0&&(s.disconnect(),Jg.delete(i))}}function gc({threshold:t,delay:e,trackVisibility:n,rootMargin:r,root:i,triggerOnce:s,skip:o,initialInView:a,fallbackInView:l,onChange:u}={}){var c;const[h,f]=E.useState(null),p=E.useRef(),[g,_]=E.useState({inView:!!a,entry:void 0});p.current=u,E.useEffect(()=>{if(o||!h)return;let y;return y=RG(h,(T,S)=>{_({inView:T,entry:S}),p.current&&p.current(T,S),S.isIntersecting&&s&&y&&(y(),y=void 0)},{root:i,rootMargin:r,threshold:t,trackVisibility:n,delay:e},l),()=>{y&&y()}},[Array.isArray(t)?t.toString():t,h,i,r,s,o,n,l,e]);const w=(c=g.entry)==null?void 0:c.target,v=E.useRef();!h&&w&&!s&&!o&&v.current!==w&&(v.current=w,_({inView:!!a,entry:void 0}));const m=[f,g.inView,g.entry];return m.ref=m[0],m.inView=m[1],m.entry=m[2],m}const kG="/PetPals/assets/Adopt a pet-bro-eL28Jlx_.svg";function NG(){const t=dc(),[e,n]=gc({triggerOnce:!0,threshold:.6}),r=dc(),[i,s]=gc({triggerOnce:!0,threshold:.6}),o=dc(),[a,l]=gc({triggerOnce:!0,threshold:.6}),u=dc(),[c,h]=gc({triggerOnce:!0,threshold:.6});return E.useEffect(()=>{n&&t.start({opacity:1,x:0,transition:{delay:.5,duration:.5}})},[t,n]),E.useEffect(()=>{s&&r.start({opacity:1,x:0,transition:{delay:.5,duration:.5}})},[r,s]),E.useEffect(()=>{l&&o.start({opacity:1,x:0,transition:{delay:.5,duration:.5}})},[o,l]),E.useEffect(()=>{h&&u.start({opacity:1,x:0,transition:{delay:.5,duration:.5}})},[u,h]),d.jsxs(d.Fragment,{children:[d.jsx("main",{className:"home-page",children:d.jsxs("section",{className:"home-hero-section",children:[d.jsxs("div",{className:"home-hero-div-left",children:[d.jsxs("h1",{className:"home-hero-heading",children:["Don't shop.",d.jsx("br",{}),"Adopt a pet!"]}),d.jsxs("div",{className:"home-hero-buttons",children:[d.jsx(Pe,{to:"/PetPals/discover",children:d.jsx("button",{children:"Adopt now"})}),d.jsx(Pe,{to:"/PetPals/add",children:d.jsx("button",{children:"Rescue"})})]})]}),d.jsx("div",{className:"home-hero-div-right",children:d.jsx("img",{src:kG,style:{width:"100%"}})})]})}),d.jsx("section",{ref:e,className:"home-sub-section home-discover-section",children:d.jsxs(Vt.div,{initial:{opacity:0,x:50},animate:t,children:[d.jsx("h1",{children:"Discover Section"}),d.jsx("p",{children:"Explore PetPals for your ideal furry companion. Discover diverse cats and dogs through heartwarming posts. Utilize user-friendly categorizations to find the perfect match. Adopt today and welcome perfection into your life, one paw at a time"}),d.jsx(Pe,{to:"/PetPals/discover",children:d.jsx("button",{children:"Learn More"})})]})}),d.jsx("section",{ref:i,className:"home-sub-section home-add-section",children:d.jsxs(Vt.div,{initial:{opacity:0,x:50},animate:r,transition:{staggerChildren:.5},children:[d.jsx("h1",{children:"Add Section"}),d.jsx("p",{children:"Contribute to our mission by uploading posts for dogs or cats in need of shelter at 'PetPals.' Users and sanctuaries can share stories of these adorable companions seeking loving homes. Be a part of their journey towards a forever home upload a post and make a difference today!"}),d.jsx(Pe,{to:"/PetPals/add",children:d.jsx("button",{children:"Learn More"})})]})}),d.jsx("section",{ref:a,className:"home-sub-section home-blog-section",children:d.jsxs(Vt.div,{initial:{opacity:0,x:50},animate:o,children:[d.jsx("h1",{children:"Blog Section"}),d.jsxs("p",{children:["Discover essential tips for responsible dog and cat care in 'PetPals' Pet Welfare Guides. The Dog Welfare Guide covers bedding, nutrition, toys, and vet registration, while the Cat Welfare Guide includes safe spaces, litter setup, food choices, scratching posts, holiday planning, and vet registration. Click icons for specific guides. Rely on 'PetPals' for expert guidance in responsible pet ownership. Happy reading and joyful pet parenting!"," "]}),d.jsx(Pe,{to:"/PetPals/blog",children:d.jsx("button",{children:"Learn More"})})]})}),d.jsx("section",{ref:c,className:"home-sub-section home-about-section",children:d.jsxs(Vt.div,{initial:{opacity:0,x:50},animate:u,children:[d.jsx("h1",{children:"About Section"}),d.jsx("p",{children:"PetPals connects adopters, rescuers, and shelters, focusing on dogs and cats. Simplifying the adoption process, it provides a non-judgmental service for rehomers and strives to reduce shelter admissions. Join PetPals in building a compassionate community for a brighter future."}),d.jsx(Pe,{to:"/about",children:d.jsx("button",{children:"Learn More"})})]})}),d.jsxs("footer",{className:"home-footer",children:[d.jsxs("div",{className:"home-footer-container",children:[d.jsxs("div",{className:"home-footer-info",children:[d.jsxs("h3",{children:[d.jsx("img",{src:nb,style:{width:"2.3rem",paddingRight:"1rem"}}),"PetPals"]}),d.jsx("div",{className:"home-info-text",children:d.jsxs("p",{children:["PetPals was launched to",d.jsx("br",{})," address the growing issue",d.jsx("br",{})," of homeless animals,",d.jsx("br",{})," aiming to create a",d.jsx("br",{})," meaningful impact on",d.jsx("br",{})," their lives and alleviate",d.jsx("br",{})," their hardships."]})})]}),d.jsxs("div",{className:"home-footer-links",children:[d.jsx("h3",{children:"Quick Links"}),d.jsx(Pe,{to:"/PetPals",children:"Home"}),d.jsx(Pe,{to:"/PetPals/discover",children:"Discover"}),d.jsx(Pe,{to:"/PetPals/about",children:"About"}),d.jsx(Pe,{to:"/PetPals/blog",children:"Blog"})]}),d.jsxs("div",{className:"home-footer-support",children:[d.jsx("h3",{children:"Support Us"}),d.jsx(Pe,{to:"/PetPals",children:"Donate"}),d.jsx(Pe,{to:"https://github.com/PetPals-Team/PetPals",children:"Contribute on GitHub"})]})]}),d.jsx("div",{className:"home-footer-copyright",children:d.jsxs("p",{children:[" ",new Date().getFullYear()," PetPals Team. All Rights Reserved."]})})]})]})}const ER="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2048%2048'%20width='48px'%20height='48px'%3e%3cpath%20fill='%23FFC107'%20d='M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z'/%3e%3cpath%20fill='%23FF3D00'%20d='M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z'/%3e%3cpath%20fill='%234CAF50'%20d='M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z'/%3e%3cpath%20fill='%231976D2'%20d='M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z'/%3e%3c/svg%3e";function DG(){const[t,e]=E.useState({email:"",password:""}),n=zo({email:Ae().email("Invalid email!").required("Email is required!"),password:Ae().min(8,"Password must be at least 8 characters!").required("Password is required!")}),r=Zl(),i=o=>{try{F4(rt,o.email,o.password),r("/PetPals")}catch(a){console.log(a)}};async function s(){await VC(rt,tb),r("/PetPals")}return d.jsx("section",{className:"login-page",children:d.jsx(ia,{mode:"wait",children:d.jsx(zl,{initialValues:t,validationSchema:n,onSubmit:i,children:()=>d.jsxs(Vt.div,{layout:!0,className:"login-form-container",initial:{opacity:0,x:"-5%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"5%"},transition:{duration:.5,delay:.1,ease:[0,.71,.2,1.01]},children:[d.jsx("h2",{children:"Continue to petpals, "}),d.jsxs(Bo,{className:"login-form",children:[d.jsx(ge,{name:"email",placeholder:"Email"}),d.jsx("div",{className:"login-warning",children:d.jsx(Re,{name:"email"})}),d.jsx(ge,{type:"password",name:"password",placeholder:"Password"}),d.jsx("div",{className:"login-warning",children:d.jsx(Re,{name:"password"})}),d.jsx("div",{className:"login-submit",children:d.jsx("button",{type:"submit",children:"Continue"})}),d.jsx("div",{className:"login-forgot-password",children:d.jsx(Pe,{to:"/PetPals/forgot-password",children:"Forgot password?"})})]}),d.jsxs("div",{className:"login-seperator",children:[d.jsx("hr",{}),d.jsx("span",{children:"or continue with"}),d.jsx("hr",{})]}),d.jsx("div",{className:"login-social",children:d.jsxs("button",{className:"login-google",onClick:s,children:[d.jsx("img",{src:ER,alt:"Google",style:{width:"1rem",height:"1rem",paddingRight:"1rem"}})," Google"]})}),d.jsx("div",{className:"login-sign-up",children:d.jsxs("p",{children:["Not a member yet? ",d.jsx(Pe,{to:"/PetPals/signup",children:"Sign up"})]})})]})})})})}function OG(){const[t,e]=E.useState(""),[n,r]=E.useState(!1),i=zo({email:Ae().email("Invalid email!").required("Email is required!")});async function s(o){await M4(rt,o.email).then(()=>{console.log("Password reset email sent!"),r(!0)}).catch(a=>{console.log(a)})}return d.jsx("section",{children:d.jsxs(ia,{mode:"wait",children:[d.jsx(zl,{initialValues:{email:t},validationSchema:i,onSubmit:s,children:()=>d.jsxs(Vt.div,{layout:!0,className:"form-container",initial:{opacity:0,x:"-5%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"5%"},transition:{duration:.5,delay:.1,ease:[0,.71,.2,1.01]},children:[d.jsx("h2",{children:"Reset your password"}),d.jsxs(Bo,{className:"form",children:[d.jsx(ge,{name:"email",placeholder:"Email"}),d.jsx("div",{className:"warning",children:d.jsx(Re,{name:"email"})}),d.jsx("div",{className:"submit",children:d.jsx("button",{type:"submit",children:"Continue"})})]})]})}),n&&d.jsx(wR,{title:"Modal Title",content:"This is just a random text to depict there some information",success:!1,setShow:r})]})})}const jG="data:image/svg+xml,%3csvg%20id='logo'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%201280%201280'%20shape-rendering='geometricPrecision'%20text-rendering='geometricPrecision'%3e%3cg%20id='logo-s-g1'%20transform='matrix(4.12147%200%200%204.67234-585.746-2197.15)'%20paint-order='markers%20stroke%20fill'%3e%3cg%20id='logo-s-g2'%3e%3cpath%20id='logo-s-path3'%20d='M456.661062,732.849999c3.663449-6.290595,4.213916-12.730984.6978-21.371059C452.474262,699.47612,442.19,695.97,423.69,694.8c-.26-.06-.53-.11-.8-.14-24.73-23.85-36.07-81.63-29.35-116.34c22.5-1.65,38.33-14.08,44.25-35.31c2.61-9.38-2.02-16.62-11.62-18.33-4.71-.84-7.83-3.47-9.56-8.03-.06-.15-.12-.29-.18-.43-9.08-18.93-24.79-21.27-35.21-22.14c0-.04.04-.11,0-.11-3.77.2-8.44.19-5.94-2.41c6.65-6.94,7.82-10.21,8.59-12.74c1.69-5.57-4.59-9.21-9.3-8.48-25.87,4.02-51.24,25.75-64.64,55.21-1.75,3.85-4.73,10.46-8.46,18.94-4.73-10.69-14.37-36.44-42.13-50-12.23-5.97-24.25-7.85-36.81-7.12-10.48.6-32.28,1.84-44.03,26.62-.36.34-3.22,2.61-15.59,3.86-7.59.77-14.63.7-14.7.7-.02,0-.05,0-.07,0-3.29,0-5.97,2.49-6.01,5.58-.44,32.1,14.95,46.08,26.49,52.05.01.01.03.02.04.03c6.95,3.94,15.73,4.86,23.88,4.86c4.42,0,8.44-.27,11.44-.55c2.26,13.42,6.46,67.7-22.11,114.29-18.34,1.28-28.67,12.77-28.67,25.32c0,4.43,1.34,8.88,3.96,12.72c0,0,6.48,11.31,26.28,11.31c3.46,0,57.11,0,64.64,0c3.32,0,25.24.02,53.64.02s134.530414-.020001,137.670514-.019999c11.339249-3.289542,15.351598-8.059896,17.270548-11.310002Z'%20transform='matrix(.843055%200%200%200.843055%2046.675393%2095.299591)'%20paint-order='stroke%20markers%20fill'%20fill='none'%20fill-rule='evenodd'%20stroke='%23000'%20stroke-width='12'%20stroke-dashoffset='1792.930377'%20stroke-dasharray='3449.77'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e";function Pf(t){return d.jsxs(Vt.div,{layout:!0,className:"miniLoader-container",initial:{opacity:0,x:"-5%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"5%"},transition:{duration:.5,delay:.1,ease:[0,.71,.2,1.01]},children:[d.jsx("h3",{className:"miniLoader-title",children:t.title}),d.jsx("img",{src:jG,alt:"loader",className:"logo-outline"}),d.jsx("p",{className:"miniLoader-message",children:t.message})]})}function VG(){const[t,e]=E.useState({email:"",password:"",confirmPassword:""});E.useState("grey");const[n,r]=E.useState(!1),i=Zl(),[s,o]=E.useState({accountType:"individual",firstName:"",lastName:"",orgName:"",buildingNumber:"",street:"",city:"",district:"",zipCode:"",contactNumber:""}),a=["Ampara","Anuradhapura","Badulla","Batticaloa","Colombo","Galle","Gampaha","Hambantota","Jaffna","Kalutara","Kandy","Kegalle","Kilinochchi","Kurunegala","Mannar","Matale","Matara","Monaragala","Mullaitivu","Nuwara Eliya","Polonnaruwa","Puttalam","Ratnapura","Trincomalee","Vavuniya"],l=zo({email:Ae().email("Invalid email!").required("Email is required!"),password:Ae().min(8,"Password must be at least 8 characters!").required("Password is required!"),confirmPassword:Ae().oneOf([i8("password")],"Passwords must match!")}),u=zo({accountType:Ae().required("Account type is required!"),firstName:Ae().when("accountType",{is:"individual",then:y=>y.required("First name is required!"),otherwise:y=>y.optional()}),lastName:Ae().when("accountType",{is:"individual",then:y=>y.required("Last name is required!"),otherwise:y=>y.optional()}),orgName:Ae().when("accountType",{is:"organization",then:y=>y.required("Organization name is required!"),otherwise:y=>y.optional()}),buildingNumber:Ae().required("Building/House number is required!"),street:Ae().required("Street name is required!"),city:Ae().required("City is required!"),district:Ae().required("District is required!"),zipCode:Ae().required("Zip/Postal code is required!"),contactNumber:Ae().length(10).required("Contact number is required!")}),[c,h]=E.useState(0),[f,p]=E.useState("email");function g(){h(c+1)}async function _(){r(!0),p("google"),await VC(rt,tb),g(),r(!1)}function w(){async function y(T){r(!0),e(T),console.log("step 1 - auth: ",t),T.email&&T.password&&T.confirmPassword&&(p("email"),console.log("step 1 - auth: ",t),await L4(rt,T.email,T.password)),g(),r(!1)}return d.jsx(zl,{initialValues:t,validationSchema:l,onSubmit:y,enableReinitialize:!0,children:()=>d.jsxs(Vt.div,{layout:!0,className:"signup-form-container",initial:{opacity:0,x:"-5%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"5%"},transition:{duration:.5,delay:.1,ease:[0,.71,.2,1.01]},children:[d.jsx("h2",{children:"Welcome to PetPals"}),d.jsxs(Bo,{className:"signup-form",children:[d.jsx(ge,{name:"email",placeholder:"Email"}),d.jsx("div",{className:"signup-warning",children:d.jsx(Re,{name:"email"})}),d.jsx(ge,{type:"password",name:"password",placeholder:"Password"}),d.jsx("div",{className:"signup-warning",children:d.jsx(Re,{name:"password"})}),d.jsx(ge,{type:"password",name:"confirmPassword",placeholder:"Confirm password"}),d.jsx("div",{className:"signup-warning",children:d.jsx(Re,{name:"confirmPassword"})}),d.jsx("div",{className:"signup-submit",children:d.jsx("button",{type:"submit",children:"Continue"})})]}),d.jsxs("div",{className:"signup-seperator",children:[d.jsx("hr",{}),d.jsx("span",{children:"or continue with"}),d.jsx("hr",{})]}),d.jsx("div",{className:"signup-social",children:d.jsxs("button",{className:"signup-google",onClick:_,children:[d.jsx("img",{src:ER,alt:"Google",style:{width:"1rem",height:"1rem",paddingRight:"1rem"}})," Google"]})})]},c)})}function v(){async function y(T){r(!0);const S=rt.currentUser.uid;o(T),console.log("step 2 - personal: ",s);try{if(T.accountType==="organization"){const x=await _g(xs(br,"users"),{uid:S,accountType:"organization",firstName:"",lastName:"",orgName:T.orgName,buildingNumber:T.buildingNumber,street:T.street,city:T.city,district:T.district,zipCode:T.zipCode,contactNumber:T.contactNumber});console.log("Document written with ID: ",x.id)}else if(T.accountType==="individual"){const x=await _g(xs(br,"users"),{uid:S,accountType:"individual",firstName:T.firstName,lastName:T.lastName,orgName:"",buildingNumber:T.buildingNumber,street:T.street,city:T.city,district:T.district,zipCode:T.zipCode,contactNumber:T.contactNumber});console.log("Document written with ID: ",x.id)}}catch(x){console.error("Error adding document: ",x)}i("/PetPals"),r(!1)}return d.jsx(zl,{initialValues:s,validationSchema:u,onSubmit:y,enableReinitialize:!0,children:({values:T})=>d.jsx(Vt.div,{layout:!0,className:"signup-form-container",initial:{opacity:0,x:"-5%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"5%"},transition:{duration:.5,delay:.1,ease:[0,.71,.2,1.01]},children:d.jsxs(Bo,{className:"signup-form",children:[d.jsx("div",{className:"signup-description",children:d.jsx("p",{children:"Before you can start using PetPals, we would like to know about you a little bit."})}),d.jsxs("div",{className:"signup-account-toggle",children:[d.jsxs("div",{className:"signup-account-type",children:[d.jsx("p",{children:"I'm an: "}),d.jsxs("div",{className:"signup-radio-inputs",children:[d.jsxs("label",{className:"signup-radio",children:[d.jsx(ge,{type:"radio",name:"accountType",value:"individual"}),d.jsx("span",{className:"signup-name",children:"Individual"})]}),d.jsxs("label",{className:"signup-radio",children:[d.jsx(ge,{type:"radio",name:"accountType",value:"organization"}),d.jsx("span",{className:"signup-name",children:"Organization"})]})]})]}),d.jsx("div",{className:"signup-warning",children:d.jsx(Re,{name:"accountType"})})]}),T.accountType==="individual"&&d.jsxs(Vt.div,{className:"signup-animated-fields",initial:{opacity:0},transition:{type:"spring",stiffness:100,damping:50,delay:.1},animate:{opacity:1},exit:{opacity:0},children:[d.jsx(ge,{name:"firstName",placeholder:"First name"}),d.jsx("div",{className:"signup-warning",children:d.jsx(Re,{name:"firstName"})}),d.jsx(ge,{name:"lastName",placeholder:"Last name"}),d.jsx("div",{className:"signup-warning",children:d.jsx(Re,{name:"lastName"})})]}),T.accountType==="organization"&&d.jsxs(Vt.div,{className:"signup-animated-fields",initial:{opacity:0},transition:{type:"spring",stiffness:100,damping:50,delay:.1},animate:{opacity:1},exit:{opacity:0},children:[d.jsx(ge,{name:"orgName",placeholder:"Organization name"}),d.jsx("div",{className:"signup-warning",children:d.jsx(Re,{name:"orgName"})})]}),d.jsx(ge,{name:"buildingNumber",placeholder:"Building/House number"}),d.jsx("div",{className:"signup-warning",children:d.jsx(Re,{name:"buildingNumber"})}),d.jsx(ge,{name:"street",placeholder:"Street name"}),d.jsx("div",{className:"signup-warning",children:d.jsx(Re,{name:"street"})}),d.jsx(ge,{name:"city",placeholder:"City"}),d.jsx("div",{className:"signup-warning",children:d.jsx(Re,{name:"city"})}),d.jsxs(ge,{as:"select",name:"district",children:[d.jsx("option",{value:"",children:"Select District"}),a.map(S=>d.jsx("option",{value:S,children:S},S))]}),d.jsx("div",{className:"signup-warning",children:d.jsx(Re,{name:"district"})}),d.jsx(ge,{name:"zipCode",placeholder:"Zip/Postal code"}),d.jsx("div",{className:"signup-warning",children:d.jsx(Re,{name:"zipCode"})}),d.jsx(ge,{name:"contactNumber",placeholder:"Contact number"}),d.jsx("div",{className:"signup-warning",children:d.jsx(Re,{name:"contactNumber"})}),d.jsx("div",{className:"signup-action-buttons",children:d.jsx("button",{type:"submit",children:"Submit"})})]})},c)})}const m=[d.jsx(w,{}),d.jsx(v,{})];return d.jsx("section",{className:"signup-page",children:d.jsx(ia,{mode:"wait",children:n?d.jsx(Pf,{title:"Please wait.",message:"We are configuring your account..."}):m[c]})})}const MG="/PetPals/assets/Cat astronaut-rafiki-xpk-0EGS.svg";function LG(){return d.jsxs("main",{className:"error-404",children:[d.jsx("div",{className:"error-404-image",children:d.jsx("img",{src:MG,alt:"cat astronaut",className:"cat-astronaut"})}),d.jsxs("div",{className:"error-404-text",children:[d.jsxs("h1",{className:"404-title",children:["Oh...",d.jsx("br",{}),"You seems to be lost."]}),d.jsx("p",{className:"404-description",children:"Let's head back home safely, okay?"}),d.jsx(Pe,{to:"/PetPals/",children:d.jsxs("button",{className:"error-404-button",children:[d.jsx("i",{className:"bx bxs-home-heart bx-xm"}),"Home"]})})]})]})}const TR="/PetPals/assets/pet-wm5iIMt3.png",xR="/PetPals/assets/pet-house--5j5cPMA.png";function FG(){const{uid:t}=EI(),[e,n]=E.useState(null),r=xs(br,"users"),i=Vl(r,Vn("uid","==",t)),s=(e==null?void 0:e.accountType)==="individual"?TR:xR;return E.useEffect(()=>{(async()=>{try{nC(i,a=>{n(a.docs[0].data()),console.log(a.docs[0].data())})}catch(a){console.error("Error fetching document:",a)}})()},[t]),d.jsx("main",{className:"profile-page",children:e?d.jsxs("div",{className:"profile-profile-container",children:[d.jsxs("div",{className:"profile-main-profile-container",children:[d.jsx("h2",{children:e?e.firstName+" "+e.lastName:""}),d.jsx("img",{src:s,alt:"profile",className:"profile-profile-photo"})]}),d.jsxs("div",{className:"profile-sub-profile-container",children:[d.jsxs("p",{children:["Account type: ",e?e.accountType:""]}),d.jsxs("p",{children:["Contact: ",e?e.contactNumber:""]}),d.jsxs("p",{children:["Address: ",e?e.buildingNumber+", "+e.street+", "+e.city+", "+e.zipCode:""]})]})]}):d.jsx(Pf,{title:"Please Wait",message:"Fetching user data"})})}function $G(){let t="";rt.currentUser?t=rt.currentUser.uid:t="";const[e,n]=E.useState(null),r=xs(br,"users"),i=Vl(r,Vn("uid","==",t)),s=(e==null?void 0:e.accountType)==="individual"?TR:xR,[o,a]=E.useState(!!rt.currentUser);E.useEffect(()=>{const c=rt.onAuthStateChanged(h=>{a(!!h)});return()=>c()},[]);const l=Zl();E.useEffect(()=>{const c=rt.onAuthStateChanged(h=>{a(!!h)});return()=>c()},[]);const u=async()=>{await B4(rt),l("/login")};return E.useEffect(()=>{(async()=>{try{nC(i,h=>{var f,p;n((f=h.docs[0])==null?void 0:f.data()),console.log((p=h.docs[0])==null?void 0:p.data())})}catch(h){console.error("Error fetching document:",h)}})()},[t]),d.jsx("main",{className:"profile-page",children:e?d.jsxs("div",{className:"profile-profile-container",children:[d.jsxs("div",{className:"profile-main-profile-container",children:[d.jsx("h2",{children:e?e.firstName+" "+e.lastName:""}),d.jsx("img",{src:s,alt:"profile",className:"profile-profile-photo"})]}),d.jsxs("div",{className:"profile-sub-profile-container",children:[d.jsxs("p",{children:["Account type: ",e?e.accountType:""]}),d.jsxs("p",{children:["Contact: ",e?e.contactNumber:""]}),d.jsxs("p",{children:["Address: ",e?e.buildingNumber+", "+e.street+", "+e.city+", "+e.zipCode:""]}),d.jsx("button",{onClick:u,children:"Log Out"})]})]}):d.jsx(Pf,{title:"Please Wait",message:"Fetching user data"})})}function UG(){const{postId:t}=EI(),[e,n]=E.useState(null),[r,i]=E.useState(""),[s,o]=E.useState(null),[a,l]=E.useState(""),u=xs(br,"users");return E.useEffect(()=>{(async()=>{try{const h=await NF(Gv(br,"posts",t));if(h.exists()){const f=h.data();console.log(f),n(f),i(f.userId),console.log(f.userId),f.age===1?l(f.ageFormat.slice(0,-1)):l(f.ageFormat)}else console.log("No such post")}catch(h){console.error("Error fetching post:",h)}})()},[t]),E.useEffect(()=>{r&&(async()=>{try{const h=Vl(u,Vn("uid","==",r)),f=await tC(h);f.empty||(o(f.docs[0].data()),console.log(f.docs[0].data()))}catch(h){console.error("Error fetching author:",h)}})()},[r]),d.jsx("main",{className:"post-page",children:e?d.jsxs("div",{className:"post-post-container",children:[d.jsxs("div",{className:"post-main-post-container",children:[d.jsx("h2",{children:"Post Details"}),d.jsxs("p",{children:["Posted by: ",e.userId]}),d.jsxs("p",{children:["Animal Type: ",e.animalType]}),d.jsxs("p",{children:["Age: ",e.age+" "+a]}),d.jsxs("p",{children:["Gender: ",e.gender]}),d.jsxs("p",{children:["Hello ",e.petDescription]}),d.jsx(Pe,{to:`/PetPals/users/${r}`,children:d.jsx("button",{children:"Contact owner"})})]}),d.jsx("div",{className:"profile-sub-profile-container"})]}):d.jsx(Pf,{title:"Please Wait",message:"Fetching user data"})})}function BG(){return d.jsx("main",{className:"test-main",children:d.jsx("section",{className:"test-main-container",children:d.jsxs("div",{className:"test-container",children:[d.jsx("h2",{className:"test-main-heading",children:"_welcome beta tester!"}),d.jsx("p",{className:"test-main-description",children:"thank you for your valuable time! let's get started. First create an account and create a post."}),d.jsx(Pe,{to:"/PetPals/signup",children:d.jsxs("button",{className:"test-start-button",children:[d.jsx("i",{className:"bx bx-code-alt bx-md"}),d.jsx("p",{className:"test-start-button-text",children:"start"})]})})]})})})}function zG(){return d.jsx(d.Fragment,{children:d.jsxs(QD,{children:[d.jsx("div",{className:"gradient-background"}),d.jsx("div",{className:"white-overlay"}),d.jsx("header",{children:d.jsx(v3,{})}),d.jsxs(zD,{children:[d.jsx(zt,{path:"PetPals/",element:d.jsx(NG,{})}),d.jsx(zt,{path:"PetPals/users/:uid",element:d.jsx(FG,{})}),d.jsx(zt,{path:"PetPals/users/me",element:d.jsx($G,{})}),d.jsx(zt,{path:"PetPals/posts/:postId",element:d.jsx(UG,{})}),d.jsx(zt,{path:"PetPals/about",element:d.jsx(w3,{})}),d.jsx(zt,{path:"PetPals/add",element:d.jsx(iG,{})}),d.jsx(zt,{path:"PetPals/blog",element:d.jsx(vG,{})}),d.jsx(zt,{path:"PetPals/discover",element:d.jsx(IG,{})}),d.jsx(zt,{path:"PetPals/login",element:d.jsx(DG,{})}),d.jsx(zt,{path:"PetPals/forgot-password",element:d.jsx(OG,{})}),d.jsx(zt,{path:"PetPals/signup",element:d.jsx(VG,{})}),d.jsx(zt,{path:"PetPals/PetPals",element:d.jsx(BG,{})}),d.jsx(zt,{path:"PetPals/*",element:d.jsx(LG,{})})]})]})})}Gp.createRoot(document.getElementById("root")).render(d.jsx(zn.StrictMode,{children:d.jsx(zG,{})}));export{Pe as L,d as j};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/PostItem-U6z1XtvN.js","assets/PostItem-8jcdQCOH.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
